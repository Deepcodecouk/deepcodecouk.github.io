<?xml version='1.0' encoding='UTF-8'?><?xml-stylesheet href="http://www.blogger.com/styles/atom.css" type="text/css"?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:georss='http://www.georss.org/georss' xmlns:gd='http://schemas.google.com/g/2005' xmlns:thr='http://purl.org/syndication/thread/1.0'><id>tag:blogger.com,1999:blog-6516757072223886889.archive</id><updated>2014-05-10T07:54:44.306+01:00</updated><title type='text'>ArgumentException</title><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/archive'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/archive'/><link rel='http://schemas.google.com/g/2005#post' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/archive'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><generator version='7.00' uri='http://www.blogger.com'>Blogger</generator><entry><id>tag:blogger.com,1999:blog-6516757072223886889.layout</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#template'/><title type='text'>Template: ArgumentException</title><content type='text'>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE html&gt;
&lt;html b:version='2' class='v2' expr:dir='data:blog.languageDirection' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'&gt;
  &lt;head&gt;
&lt;meta content='XnEU7J2P1pAfCtqlMAtMhnKtZFHqDLAPuidCuYyvp9s' name='google-site-verification'/&gt;
    &lt;meta content='IE=EmulateIE7' http-equiv='X-UA-Compatible'/&gt;
    &lt;b:if cond='data:blog.isMobile'&gt;
      &lt;meta content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0' name='viewport'/&gt;
    &lt;b:else/&gt;
      &lt;meta content='width=1100' name='viewport'/&gt;
    &lt;/b:if&gt;
    &lt;b:include data='blog' name='all-head-content'/&gt;
    &lt;title&gt;&lt;data:blog.pageTitle/&gt;&lt;/title&gt;

    &lt;b:skin&gt;&lt;![CDATA[/*-----------------------------------------------

Blogger Template Style
Name:     Picture Window
Designer: Josh Peterson
URL:      www.noaesthetic.com
----------------------------------------------- */

/* Variable definitions
   ====================
   &lt;Variable name="keycolor" description="Main Color" type="color" default="#1a222a" value="#000002"/&gt;
   &lt;Variable name="body.background" description="Body Background" type="background"
       color="$(body.background.color)" default="#111111 url(//themes.googleusercontent.com/image?id=1OACCYOE0-eoTRTfsBuX1NMN9nz599ufI1Jh0CggPFA_sK80AGkIr8pLtYRpNUKPmwtEa) repeat-x fixed top center" value="#000002 url(//themes.googleusercontent.com/image?id=1nCEFJnjbEM1e6XClO-Dh7L-U6FJQuxivkV20FpXYmkNyRA0vQIZPfjuIp6hcROwwArvQ) no-repeat fixed top center /* Credit: sololos (http://www.istockphoto.com/googleimages.php?id=5613056&amp;platform=blogger) */"/&gt;

   &lt;Group description="Page Text" selector="body"&gt;
     &lt;Variable name="body.font" description="Font" type="font"
         default="normal normal 15px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 15px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/&gt;
     &lt;Variable name="body.text.color" description="Text Color" type="color" default="#333333" value="#000000"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Backgrounds" selector=".body-fauxcolumns-outer"&gt;
     &lt;Variable name="body.background.color" description="Outer Background" type="color" default="#296695" value="#000000"/&gt;
     &lt;Variable name="header.background.color" description="Header Background" type="color" default="transparent" value="transparent"/&gt;
     &lt;Variable name="post.background.color" description="Post Background" type="color" default="#ffffff" value="#ffffff"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Links" selector=".main-outer"&gt;
     &lt;Variable name="link.color" description="Link Color" type="color" default="#336699" value="#2e2e8a"/&gt;
     &lt;Variable name="link.visited.color" description="Visited Color" type="color" default="#6699cc" value="#6060ca"/&gt;
     &lt;Variable name="link.hover.color" description="Hover Color" type="color" default="#33aaff" value="#2b3cff"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Blog Title" selector=".header h1"&gt;
     &lt;Variable name="header.font" description="Title Font" type="font"
         default="normal normal 36px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 36px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/&gt;
     &lt;Variable name="header.text.color" description="Text Color" type="color" default="#ffffff"  value="#ffffff"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Tabs Text" selector=".tabs-inner .widget li a"&gt;
     &lt;Variable name="tabs.font" description="Font" type="font"
         default="normal normal 15px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 15px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/&gt;
     &lt;Variable name="tabs.text.color" description="Text Color" type="color" default="#ffffff" value="#ffffff"/&gt;
     &lt;Variable name="tabs.selected.text.color" description="Selected Color" type="color" default="$(link.color)" value="#336699"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Tabs Background" selector=".tabs-outer .PageList"&gt;
     &lt;Variable name="tabs.background.color" description="Background Color" type="color" default="transparent" value="transparent"/&gt;
     &lt;Variable name="tabs.selected.background.color" description="Selected Color" type="color" default="transparent" value="transparent"/&gt;
     &lt;Variable name="tabs.separator.color" description="Separator Color" type="color" default="transparent" value="transparent"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Post Title" selector="h3.post-title, .comments h4"&gt;
     &lt;Variable name="post.title.font" description="Title Font" type="font"
         default="normal normal 18px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="normal normal 18px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Date Header" selector=".date-header"&gt;
     &lt;Variable name="date.header.color" description="Text Color" type="color" default="$(body.text.color)" value="#000000"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Post" selector=".post"&gt;
     &lt;Variable name="post.footer.text.color" description="Footer Text Color" type="color" default="#999999" value="#959595"/&gt;
     &lt;Variable name="post.border.color" description="Border Color" type="color" default="#dddddd" value="#dbdbdb"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Gadgets" selector="h2"&gt;
     &lt;Variable name="widget.title.font" description="Title Font" type="font"
        default="bold normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif" value="bold normal 13px Arial, Tahoma, Helvetica, FreeSans, sans-serif"/&gt;
     &lt;Variable name="widget.title.text.color" description="Title Color" type="color" default="#888888" value="#828282"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Footer" selector=".footer-outer"&gt;
     &lt;Variable name="footer.text.color" description="Text Color" type="color" default="#cccccc" value="#c9c9c9"/&gt;
     &lt;Variable name="footer.widget.title.text.color" description="Gadget Title Color" type="color" default="#aaaaaa" value="#a6a6a6"/&gt;
   &lt;/Group&gt;

   &lt;Group description="Footer Links" selector=".footer-outer"&gt;
     &lt;Variable name="footer.link.color" description="Link Color" type="color" default="#99ccee" value="#949ded"/&gt;
     &lt;Variable name="footer.link.visited.color" description="Visited Color" type="color" default="#77aaee" value="#7a71ed"/&gt;
     &lt;Variable name="footer.link.hover.color" description="Hover Color" type="color" default="#33aaff" value="#2b3cff"/&gt;
   &lt;/Group&gt;

   &lt;Variable name="content.margin" description="Content Margin Top" type="length" default="20px" value="20px"/&gt;
   &lt;Variable name="content.padding" description="Content Padding" type="length" default="0" value="0"/&gt;
   &lt;Variable name="content.background" description="Content Background" type="background"
       default="transparent none repeat scroll top left" value="transparent none repeat scroll top left"/&gt;
   &lt;Variable name="content.border.radius" description="Content Border Radius" type="length" default="0" value="0"/&gt;
   &lt;Variable name="content.shadow.spread" description="Content Shadow Spread" type="length" default="0" value="0"/&gt;

   &lt;Variable name="header.padding" description="Header Padding" type="length" default="0" value="0"/&gt;
   &lt;Variable name="header.background.gradient" description="Header Gradient" type="url"
       default="none" value="none"/&gt;
   &lt;Variable name="header.border.radius" description="Header Border Radius" type="length" default="0" value="0"/&gt;

   &lt;Variable name="main.border.radius.top" description="Main Border Radius" type="length" default="20px" value="20px"/&gt;
   &lt;Variable name="footer.border.radius.top" description="Footer Border Radius Top" type="length" default="0" value="0"/&gt;
   &lt;Variable name="footer.border.radius.bottom" description="Footer Border Radius Bottom" type="length" default="20px" value="20px"/&gt;
   &lt;Variable name="region.shadow.spread" description="Main and Footer Shadow Spread" type="length" default="3px" value="3px"/&gt;
   &lt;Variable name="region.shadow.offset" description="Main and Footer Shadow Offset" type="length" default="1px" value="1px"/&gt;

   &lt;Variable name="tabs.background.gradient" description="Tab Background Gradient" type="url" default="none" value="none"/&gt;
   &lt;Variable name="tab.selected.background.gradient" description="Selected Tab Background" type="url"
       default="url(//www.blogblog.com/1kt/transparent/white80.png)" value="url(http://www.blogblog.com/1kt/transparent/white80.png)"/&gt;
   &lt;Variable name="tab.background" description="Tab Background" type="background"
       default="transparent url(//www.blogblog.com/1kt/transparent/black50.png) repeat scroll top left" value="transparent url(http://www.blogblog.com/1kt/transparent/black50.png) repeat scroll top left"/&gt;

   &lt;Variable name="tab.border.radius" description="Tab Border Radius" type="length" default="10px"  value="10px"/&gt;
   &lt;Variable name="tab.first.border.radius" description="First Tab Border Radius" type="length" default="10px"  value="10px"/&gt;
   &lt;Variable name="tabs.border.radius" description="Tabs Border Radius" type="length" default="0"  value="0"/&gt;

   &lt;Variable name="tabs.spacing" description="Tab Spacing" type="length" default=".25em" value=".25em"/&gt;
   &lt;Variable name="tabs.margin.bottom" description="Tab Margin Bottom" type="length" default="0" value="0"/&gt;
   &lt;Variable name="tabs.margin.sides" description="Tab Margin Sides" type="length" default="20px" value="20px"/&gt;

   &lt;Variable name="main.background" description="Main Background" type="background"
       default="transparent url(//www.blogblog.com/1kt/transparent/white80.png) repeat scroll top left" value="transparent url(http://www.blogblog.com/1kt/transparent/white80.png) repeat scroll top left"/&gt;
   &lt;Variable name="main.padding.sides" description="Main Padding Sides" type="length" default="20px" value="20px"/&gt;

   &lt;Variable name="footer.background" description="Footer Background" type="background"
       default="transparent url(//www.blogblog.com/1kt/transparent/black50.png) repeat scroll top left" value="transparent url(http://www.blogblog.com/1kt/transparent/black50.png) repeat scroll top left"/&gt;

   &lt;Variable name="post.margin.sides" description="Post Margin Sides" type="length" default="-20px" value="-20px"/&gt;
   &lt;Variable name="post.border.radius" description="Post Border Radius" type="length" default="5px" value="5px"/&gt;
   &lt;Variable name="widget.title.text.transform" description="Widget Title Text Transform" type="string" default="uppercase" value="uppercase"/&gt;

   &lt;Variable name="mobile.background.overlay" description="Mobile Background Overlay" type="string"
       default="transparent none repeat scroll top left" value="transparent none repeat scroll top left"/&gt;

   &lt;Variable name="startSide" description="Side where text starts in blog language" type="automatic" default="left" value="left"/&gt;
   &lt;Variable name="endSide" description="Side where text ends in blog language" type="automatic" default="right" value="right"/&gt;
*/

/* Content
----------------------------------------------- */
body {
  font: $(body.font);
  color: $(body.text.color);
  background: $(body.background);
}

html body .region-inner {
  min-width: 0;
  max-width: 100%;
  width: auto;
}

.content-outer {
  font-size: 90%;
}

a:link {
  text-decoration:none;
  color: $(link.color);
}

a:visited {
  text-decoration:none;
  color: $(link.visited.color);
}

a:hover {
  text-decoration:underline;
  color: $(link.hover.color);
}

.content-outer {
  background: $(content.background);

  -moz-border-radius: $(content.border.radius);
  -webkit-border-radius: $(content.border.radius);
  -goog-ms-border-radius: $(content.border.radius);
  border-radius: $(content.border.radius);

  -moz-box-shadow: 0 0 $(content.shadow.spread) rgba(0, 0, 0, .15);
  -webkit-box-shadow: 0 0 $(content.shadow.spread) rgba(0, 0, 0, .15);
  -goog-ms-box-shadow: 0 0 $(content.shadow.spread) rgba(0, 0, 0, .15);
  box-shadow: 0 0 $(content.shadow.spread) rgba(0, 0, 0, .15);

  margin: $(content.margin) auto;
}

.content-inner {
  padding: $(content.padding);
}

/* Header
----------------------------------------------- */
.header-outer {
  background: $(header.background.color) $(header.background.gradient) repeat-x scroll top left;
  _background-image: none;

  color: $(header.text.color);

  -moz-border-radius: $(header.border.radius);
  -webkit-border-radius: $(header.border.radius);
  -goog-ms-border-radius: $(header.border.radius);
  border-radius: $(header.border.radius);
}

.Header img, .Header #header-inner {
  -moz-border-radius: $(header.border.radius);
  -webkit-border-radius: $(header.border.radius);
  -goog-ms-border-radius: $(header.border.radius);
  border-radius: $(header.border.radius);
}

.header-inner .Header .titlewrapper,
.header-inner .Header .descriptionwrapper {
  padding-left: $(header.padding);
  padding-right: $(header.padding);
}

.Header h1 {
  font: $(header.font);
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
}

.Header h1 a {
  color: $(header.text.color);
}

.Header .description {
  font-size: 130%;
}

/* Tabs
----------------------------------------------- */
.tabs-inner {
  margin: .5em $(tabs.margin.sides) $(tabs.margin.bottom);
  padding: 0;
}

.tabs-inner .section {
  margin: 0;
}

.tabs-inner .widget ul {
  padding: 0;

  background: $(tabs.background.color) $(tabs.background.gradient) repeat scroll bottom;

  -moz-border-radius: $(tabs.border.radius);
  -webkit-border-radius: $(tabs.border.radius);
  -goog-ms-border-radius: $(tabs.border.radius);
  border-radius: $(tabs.border.radius);
}

.tabs-inner .widget li {
  border: none;
}

.tabs-inner .widget li a {
  display: inline-block;

  padding: .5em 1em;
  margin-$endSide: $(tabs.spacing);

  color: $(tabs.text.color);
  font: $(tabs.font);

  -moz-border-radius: $(tab.border.radius) $(tab.border.radius) 0 0;
  -webkit-border-top-left-radius: $(tab.border.radius);
  -webkit-border-top-right-radius: $(tab.border.radius);
  -goog-ms-border-radius: $(tab.border.radius) $(tab.border.radius) 0 0;
  border-radius: $(tab.border.radius) $(tab.border.radius) 0 0;

  background: $(tab.background);

  border-$endSide: 1px solid $(tabs.separator.color);
}

.tabs-inner .widget li:first-child a {
  padding-$startSide: 1.25em;

  -moz-border-radius-top$startSide: $(tab.first.border.radius);
  -moz-border-radius-bottom$startSide: $(tabs.border.radius);
  -webkit-border-top-$startSide-radius: $(tab.first.border.radius);
  -webkit-border-bottom-$startSide-radius: $(tabs.border.radius);
  -goog-ms-border-top-$startSide-radius: $(tab.first.border.radius);
  -goog-ms-border-bottom-$startSide-radius: $(tabs.border.radius);
  border-top-$startSide-radius: $(tab.first.border.radius);
  border-bottom-$startSide-radius: $(tabs.border.radius);
}

.tabs-inner .widget li.selected a,
.tabs-inner .widget li a:hover {
  position: relative;
  z-index: 1;

  background: $(tabs.selected.background.color) $(tab.selected.background.gradient) repeat scroll bottom;
  color: $(tabs.selected.text.color);

  -moz-box-shadow: 0 0 $(region.shadow.spread) rgba(0, 0, 0, .15);
  -webkit-box-shadow: 0 0 $(region.shadow.spread) rgba(0, 0, 0, .15);
  -goog-ms-box-shadow: 0 0 $(region.shadow.spread) rgba(0, 0, 0, .15);
  box-shadow: 0 0 $(region.shadow.spread) rgba(0, 0, 0, .15);
}

/* Headings
----------------------------------------------- */
h2 {
  font: $(widget.title.font);
  text-transform: $(widget.title.text.transform);
  color: $(widget.title.text.color);
  margin: .5em 0;
}

/* Main
----------------------------------------------- */
.main-outer {
  background: $(main.background);

  -moz-border-radius: $(main.border.radius.top) $(main.border.radius.top) 0 0;
  -webkit-border-top-left-radius: $(main.border.radius.top);
  -webkit-border-top-right-radius: $(main.border.radius.top);
  -webkit-border-bottom-left-radius: 0;
  -webkit-border-bottom-right-radius: 0;
  -goog-ms-border-radius: $(main.border.radius.top) $(main.border.radius.top) 0 0;
  border-radius: $(main.border.radius.top) $(main.border.radius.top) 0 0;

  -moz-box-shadow: 0 $(region.shadow.offset) $(region.shadow.spread) rgba(0, 0, 0, .15);
  -webkit-box-shadow: 0 $(region.shadow.offset) $(region.shadow.spread) rgba(0, 0, 0, .15);
  -goog-ms-box-shadow: 0 $(region.shadow.offset) $(region.shadow.spread) rgba(0, 0, 0, .15);
  box-shadow: 0 $(region.shadow.offset) $(region.shadow.spread) rgba(0, 0, 0, .15);
}

.main-inner {
  padding: 15px $(main.padding.sides) 20px;
}

.main-inner .column-center-inner {
  padding: 0 0;
}

.main-inner .column-left-inner {
  padding-left: 0;
}

.main-inner .column-right-inner {
  padding-right: 0;
}

/* Posts
----------------------------------------------- */
h3.post-title {
  margin: 0;
  font: $(post.title.font);
}

.comments h4 {
  margin: 1em 0 0;
  font: $(post.title.font);
}

.date-header span {
  color: $(date.header.color);
}

.post-outer {
  background-color: $(post.background.color);
  border: solid 1px $(post.border.color);

  -moz-border-radius: $(post.border.radius);
  -webkit-border-radius: $(post.border.radius);
  border-radius: $(post.border.radius);
  -goog-ms-border-radius: $(post.border.radius);

  padding: 15px 20px;
  margin: 0 $(post.margin.sides) 20px;
}

.post-body {
  line-height: 1.4;
  font-size: 110%;
  position: relative;
}

.post-header {
  margin: 0 0 1.5em;

  color: $(post.footer.text.color);
  line-height: 1.6;
}

.post-footer {
  margin: .5em 0 0;

  color: $(post.footer.text.color);
  line-height: 1.6;
}

#blog-pager {
  font-size: 140%
}

#comments .comment-author {
  padding-top: 1.5em;

  border-top: dashed 1px #ccc;
  border-top: dashed 1px rgba(128, 128, 128, .5);

  background-position: 0 1.5em;
}

#comments .comment-author:first-child {
  padding-top: 0;

  border-top: none;
}

.avatar-image-container {
  margin: .2em 0 0;
}

/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
  background-repeat: no-repeat;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}

.comments .comments-content .loadmore a {
  border-top: 1px solid $(link.hover.color);
  border-bottom: 1px solid $(link.hover.color);
}

.comments .continue {
  border-top: 2px solid $(link.hover.color);
}

/* Widgets
----------------------------------------------- */
.widget ul, .widget #ArchiveList ul.flat {
  padding: 0;
  list-style: none;
}

.widget ul li, .widget #ArchiveList ul.flat li {
  border-top: dashed 1px #ccc;
  border-top: dashed 1px rgba(128, 128, 128, .5);
}

.widget ul li:first-child, .widget #ArchiveList ul.flat li:first-child {
  border-top: none;
}

.widget .post-body ul {
  list-style: disc;
}

.widget .post-body ul li {
  border: none;
}

/* Footer
----------------------------------------------- */
.footer-outer {
  color:$(footer.text.color);
  background: $(footer.background);

  -moz-border-radius: $(footer.border.radius.top) $(footer.border.radius.top) $(footer.border.radius.bottom) $(footer.border.radius.bottom);
  -webkit-border-top-left-radius: $(footer.border.radius.top);
  -webkit-border-top-right-radius: $(footer.border.radius.top);
  -webkit-border-bottom-left-radius: $(footer.border.radius.bottom);
  -webkit-border-bottom-right-radius: $(footer.border.radius.bottom);
  -goog-ms-border-radius: $(footer.border.radius.top) $(footer.border.radius.top) $(footer.border.radius.bottom) $(footer.border.radius.bottom);
  border-radius: $(footer.border.radius.top) $(footer.border.radius.top) $(footer.border.radius.bottom) $(footer.border.radius.bottom);

  -moz-box-shadow: 0 $(region.shadow.offset) $(region.shadow.spread) rgba(0, 0, 0, .15);
  -webkit-box-shadow: 0 $(region.shadow.offset) $(region.shadow.spread) rgba(0, 0, 0, .15);
  -goog-ms-box-shadow: 0 $(region.shadow.offset) $(region.shadow.spread) rgba(0, 0, 0, .15);
  box-shadow: 0 $(region.shadow.offset) $(region.shadow.spread) rgba(0, 0, 0, .15);
}

.footer-inner {
  padding: 10px $(main.padding.sides) 20px;
}

.footer-outer a {
  color: $(footer.link.color);
}

.footer-outer a:visited {
  color: $(footer.link.visited.color);
}

.footer-outer a:hover {
  color: $(footer.link.hover.color);
}

.footer-outer .widget h2 {
  color: $(footer.widget.title.text.color);
}

/* Mobile
----------------------------------------------- */
html body.mobile {
  height: auto;
}

html body.mobile {
  min-height: 480px;
  background-size: 100% auto;
}

.mobile .body-fauxcolumn-outer {
  background: $(mobile.background.overlay);
}

html .mobile .mobile-date-outer, html .mobile .blog-pager {
  border-bottom: none;
  background: $(main.background);
  margin-bottom: 10px;
}

.mobile .date-outer {
  background: $(main.background);
}

.mobile .header-outer, .mobile .main-outer,
.mobile .post-outer, .mobile .footer-outer {
  -moz-border-radius: 0;
  -webkit-border-radius: 0;
  -goog-ms-border-radius: 0;
  border-radius: 0;
}

.mobile .content-outer,
.mobile .main-outer,
.mobile .post-outer {
  background: inherit;
  border: none;
}

.mobile .content-outer {
  font-size: 100%;
}

.mobile-link-button {
  background-color: $(link.color);
}

.mobile-link-button a:link, .mobile-link-button a:visited {
  color: $(post.background.color);
}

.mobile-index-contents {
  color: $(body.text.color);
}

.mobile .tabs-inner .PageList .widget-content {
  background: $(tabs.selected.background.color) $(tab.selected.background.gradient) repeat scroll bottom;
  color: $(tabs.selected.text.color);
}

.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
  border-$startSide: 1px solid $(tabs.separator.color);
}
]]&gt;&lt;/b:skin&gt;

    &lt;b:template-skin&gt;
      &lt;b:variable default='960px' name='content.width' type='length' value='1120px'/&gt;
      &lt;b:variable default='0' name='main.column.left.width' type='length' value='0px'/&gt;
      &lt;b:variable default='310px' name='main.column.right.width' type='length' value='230px'/&gt;

      &lt;![CDATA[
      body {
        min-width: $(content.width);
      }

      .content-outer, .content-fauxcolumn-outer, .region-inner {
        min-width: $(content.width);
        max-width: $(content.width);
        _width: $(content.width);
      }

      .main-inner .columns {
        padding-left: $(main.column.left.width);
        padding-right: $(main.column.right.width);
      }

      .main-inner .fauxcolumn-center-outer {
        left: $(main.column.left.width);
        right: $(main.column.right.width);
        /* IE6 does not respect left and right together */
        _width: expression(this.parentNode.offsetWidth -
            parseInt("$(main.column.left.width)") -
            parseInt("$(main.column.right.width)") + 'px');
      }

      .main-inner .fauxcolumn-left-outer {
        width: $(main.column.left.width);
      }

      .main-inner .fauxcolumn-right-outer {
        width: $(main.column.right.width);
      }

      .main-inner .column-left-outer {
        width: $(main.column.left.width);
        right: 100%;
        margin-left: -$(main.column.left.width);
      }

      .main-inner .column-right-outer {
        width: $(main.column.right.width);
        margin-right: -$(main.column.right.width);
      }

      #layout {
        min-width: 0;
      }

      #layout .content-outer {
        min-width: 0;
        width: 800px;
      }

      #layout .region-inner {
        min-width: 0;
        width: auto;
      }
      ]]&gt;
    &lt;/b:template-skin&gt;
  &lt;/head&gt;

  &lt;body expr:class='&amp;quot;loading&amp;quot; + data:blog.mobileClass'&gt;
  &lt;b:section class='navbar' id='navbar' maxwidgets='1' showaddelement='no'&gt;
    &lt;b:widget id='Navbar1' locked='true' title='Navbar' type='Navbar'&gt;
      &lt;b:includable id='main'&gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener(&amp;#39;load&amp;#39;,
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent(&amp;#39;onload&amp;#39;, function(){ object[attribute] = val; });
      }
    }
  &amp;lt;/script&amp;gt;
&amp;lt;div id=&amp;quot;navbar-iframe-container&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://apis.google.com/js/plusone.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
        gapi.load(&amp;quot;gapi.iframes:gapi.iframes.style.bubble&amp;quot;, function() {
          if (gapi.iframes &amp;amp;&amp;amp; gapi.iframes.getContext) {
            gapi.iframes.getContext().openChild({
                url: &amp;#39;https://www.blogger.com/navbar.g?targetBlogID\0756516757072223886889\46blogName\75ArgumentException\46publishMode\75PUBLISH_MODE_HOSTED\46navbarType\75LIGHT\46layoutType\75LAYOUTS\46searchRoot\75http://www.deepcode.co.uk/search\46blogLocale\75en_GB\46v\0752\46homepageUrl\75http://www.deepcode.co.uk/\46vt\75-8799172503840001953&amp;#39;,
                where: document.getElementById(&amp;quot;navbar-iframe-container&amp;quot;),
                id: &amp;quot;navbar-iframe&amp;quot;
            });
          }
        });
      &amp;lt;/script&amp;gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
(function() {
var script = document.createElement(&amp;#39;script&amp;#39;);
script.type = &amp;#39;text/javascript&amp;#39;;
script.src = &amp;#39;//pagead2.googlesyndication.com/pagead/js/google_top_exp.js&amp;#39;;
var head = document.getElementsByTagName(&amp;#39;head&amp;#39;)[0];
if (head) {
head.appendChild(script);
}})();
&amp;lt;/script&amp;gt;
&lt;/b:includable&gt;
    &lt;/b:widget&gt;
  &lt;/b:section&gt;

  &lt;div class='body-fauxcolumns'&gt;
    &lt;div class='fauxcolumn-outer body-fauxcolumn-outer'&gt;
    &lt;div class='cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left'&gt;
    &lt;div class='fauxborder-right'/&gt;
    &lt;div class='fauxcolumn-inner'&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class='content'&gt;
  &lt;div class='content-fauxcolumns'&gt;
    &lt;div class='fauxcolumn-outer content-fauxcolumn-outer'&gt;
    &lt;div class='cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left'&gt;
    &lt;div class='fauxborder-right'/&gt;
    &lt;div class='fauxcolumn-inner'&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;div class='content-outer'&gt;
  &lt;div class='content-cap-top cap-top'&gt;
    &lt;div class='cap-left'/&gt;
    &lt;div class='cap-right'/&gt;
  &lt;/div&gt;
  &lt;div class='fauxborder-left content-fauxborder-left'&gt;
  &lt;div class='fauxborder-right content-fauxborder-right'/&gt;
  &lt;div class='content-inner'&gt;

    &lt;header&gt;
    &lt;div class='header-outer'&gt;
    &lt;div class='header-cap-top cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left header-fauxborder-left'&gt;
    &lt;div class='fauxborder-right header-fauxborder-right'/&gt;
    &lt;div class='region-inner header-inner'&gt;
      &lt;b:section class='header' id='header' maxwidgets='1' showaddelement='no'&gt;
        &lt;b:widget id='Header1' locked='true' title='ArgumentException (Header)' type='Header'&gt;
          &lt;b:includable id='main'&gt;

  &lt;b:if cond='data:useImage'&gt;
    &lt;b:if cond='data:imagePlacement == &amp;quot;BEHIND&amp;quot;'&gt;
      &lt;!--
      Show image as background to text. You can't really calculate the width
      reliably in JS because margins are not taken into account by any of
      clientWidth, offsetWidth or scrollWidth, so we don't force a minimum
      width if the user is using shrink to fit.
      This results in a margin-width's worth of pixels being cropped. If the
      user is not using shrink to fit then we expand the header.
      --&gt;
      &lt;b:if cond='data:mobile'&gt;
          &lt;div id='header-inner'&gt;
            &lt;div class='titlewrapper' style='background: transparent'&gt;
              &lt;h1 class='title' style='background: transparent; border-width: 0px'&gt;
                &lt;b:include name='title'/&gt;
              &lt;/h1&gt;
            &lt;/div&gt;
            &lt;b:include name='description'/&gt;
          &lt;/div&gt;
        &lt;b:else/&gt;
          &lt;div expr:style='&amp;quot;background-image: url(\&amp;quot;&amp;quot; + data:sourceUrl + &amp;quot;\&amp;quot;); &amp;quot;                        + &amp;quot;background-position: &amp;quot;                        + data:backgroundPositionStyleStr + &amp;quot;; &amp;quot;                        + data:widthStyleStr                        + &amp;quot;min-height: &amp;quot; + data:height                        + &amp;quot;_height: &amp;quot; + data:height                        + &amp;quot;background-repeat: no-repeat; &amp;quot;' id='header-inner'&gt;
            &lt;div class='titlewrapper' style='background: transparent'&gt;
              &lt;h1 class='title' style='background: transparent; border-width: 0px'&gt;
                &lt;b:include name='title'/&gt;
              &lt;/h1&gt;
            &lt;/div&gt;
            &lt;b:include name='description'/&gt;
          &lt;/div&gt;
        &lt;/b:if&gt;
    &lt;b:else/&gt;
      &lt;!--Show the image only--&gt;
      &lt;div id='header-inner'&gt;
        &lt;a expr:href='data:blog.homepageUrl' style='display: block'&gt;
          &lt;img expr:alt='data:title' expr:height='data:height' expr:id='data:widget.instanceId + &amp;quot;_headerimg&amp;quot;' expr:src='data:sourceUrl' expr:width='data:width' style='display: block'/&gt;
        &lt;/a&gt;
        &lt;!--Show the description--&gt;
        &lt;b:if cond='data:imagePlacement == &amp;quot;BEFORE_DESCRIPTION&amp;quot;'&gt;
          &lt;b:include name='description'/&gt;
        &lt;/b:if&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;
  &lt;b:else/&gt;
    &lt;!--No header image --&gt;
    &lt;div id='header-inner'&gt;
      &lt;div class='titlewrapper'&gt;
        &lt;h1 class='title'&gt;
          &lt;b:include name='title'/&gt;
        &lt;/h1&gt;
      &lt;/div&gt;
      &lt;b:include name='description'/&gt;
    &lt;/div&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
          &lt;b:includable id='description'&gt;
  &lt;div class='descriptionwrapper'&gt;
    &lt;p class='description'&gt;&lt;span&gt;&lt;data:description/&gt;&lt;/span&gt;&lt;/p&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
          &lt;b:includable id='title'&gt;
  &lt;b:if cond='data:blog.url == data:blog.homepageUrl'&gt;
    &lt;data:title/&gt;
  &lt;b:else/&gt;
    &lt;a expr:href='data:blog.homepageUrl'&gt;&lt;data:title/&gt;&lt;/a&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
        &lt;/b:widget&gt;
      &lt;/b:section&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='header-cap-bottom cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;/header&gt;

    &lt;div class='tabs-outer'&gt;
    &lt;div class='tabs-cap-top cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left tabs-fauxborder-left'&gt;
    &lt;div class='fauxborder-right tabs-fauxborder-right'/&gt;
    &lt;div class='region-inner tabs-inner'&gt;
      &lt;b:section class='tabs' id='crosscol' maxwidgets='1' showaddelement='yes'/&gt;
      &lt;b:section class='tabs' id='crosscol-overflow' showaddelement='no'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='tabs-cap-bottom cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class='main-outer'&gt;
    &lt;div class='main-cap-top cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;

    &lt;div class='fauxborder-left main-fauxborder-left'&gt;
    &lt;div class='fauxborder-right main-fauxborder-right'/&gt;
    &lt;div class='region-inner main-inner'&gt;

      &lt;div class='columns fauxcolumns'&gt;

        &lt;div class='fauxcolumn-outer fauxcolumn-center-outer'&gt;
        &lt;div class='cap-top'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;div class='fauxborder-left'&gt;
        &lt;div class='fauxborder-right'/&gt;
        &lt;div class='fauxcolumn-inner'&gt;
        &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class='cap-bottom'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class='fauxcolumn-outer fauxcolumn-left-outer'&gt;
        &lt;div class='cap-top'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;div class='fauxborder-left'&gt;
        &lt;div class='fauxborder-right'/&gt;
        &lt;div class='fauxcolumn-inner'&gt;
        &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class='cap-bottom'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class='fauxcolumn-outer fauxcolumn-right-outer'&gt;
        &lt;div class='cap-top'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;div class='fauxborder-left'&gt;
        &lt;div class='fauxborder-right'/&gt;
        &lt;div class='fauxcolumn-inner'&gt;
        &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class='cap-bottom'&gt;
          &lt;div class='cap-left'/&gt;
          &lt;div class='cap-right'/&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- corrects IE6 width calculation --&gt;
        &lt;div class='columns-inner'&gt;

        &lt;div class='column-center-outer'&gt;
        &lt;div class='column-center-inner'&gt;
          &lt;b:section class='main' id='main' showaddelement='no'&gt;
            &lt;b:widget id='Blog1' locked='true' title='Blog Posts' type='Blog'&gt;
              &lt;b:includable id='main' var='top'&gt;
  &lt;b:if cond='data:mobile == &amp;quot;false&amp;quot;'&gt;

    &lt;!-- posts --&gt;
    &lt;div class='blog-posts hfeed'&gt;

      &lt;b:include data='top' name='status-message'/&gt;

      &lt;data:defaultAdStart/&gt;
      &lt;b:loop values='data:posts' var='post'&gt;
        &lt;b:if cond='data:post.isDateStart'&gt;
          &lt;b:if cond='data:post.isFirstPost == &amp;quot;false&amp;quot;'&gt;
            &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:post.isDateStart'&gt;
          &amp;lt;div class=&amp;quot;date-outer&amp;quot;&amp;gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:post.dateHeader'&gt;
          &lt;h2 class='date-header'&gt;&lt;span&gt;&lt;data:post.dateHeader/&gt;&lt;/span&gt;&lt;/h2&gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:post.isDateStart'&gt;
          &amp;lt;div class=&amp;quot;date-posts&amp;quot;&amp;gt;
        &lt;/b:if&gt;
        &lt;div class='post-outer'&gt;
        &lt;b:include data='post' name='post'/&gt;
        &lt;b:if cond='data:blog.pageType == &amp;quot;static_page&amp;quot;'&gt;
          &lt;b:include data='post' name='comment_picker'/&gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:blog.pageType == &amp;quot;item&amp;quot;'&gt;
          &lt;b:include data='post' name='comment_picker'/&gt;
        &lt;/b:if&gt;
        &lt;/div&gt;
        &lt;b:if cond='data:post.includeAd'&gt;
          &lt;b:if cond='data:post.isFirstPost'&gt;
            &lt;data:defaultAdEnd/&gt;
          &lt;b:else/&gt;
            &lt;data:adEnd/&gt;
          &lt;/b:if&gt;
          &lt;div class='inline-ad'&gt;
            &lt;data:adCode/&gt;
          &lt;/div&gt;
          &lt;data:adStart/&gt;
        &lt;/b:if&gt;
      &lt;/b:loop&gt;
      &lt;b:if cond='data:numPosts != 0'&gt;
        &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;
      &lt;/b:if&gt;
      &lt;data:adEnd/&gt;
    &lt;/div&gt;

    &lt;!-- navigation --&gt;
    &lt;b:include name='nextprev'/&gt;

    &lt;!-- feed links --&gt;
    &lt;b:include name='feedLinks'/&gt;

    &lt;b:if cond='data:top.showStars'&gt;
      &lt;script src='//www.google.com/jsapi' type='text/javascript'/&gt;
      &lt;script type='text/javascript'&gt;
        google.load(&amp;quot;annotations&amp;quot;, &amp;quot;1&amp;quot;, {&amp;quot;locale&amp;quot;: &amp;quot;&lt;data:top.languageCode/&gt;&amp;quot;});
        function initialize() {
          google.annotations.setApplicationId(&lt;data:top.blogspotReviews/&gt;);
          google.annotations.createAll();
          google.annotations.fetch();
        }
        google.setOnLoadCallback(initialize);
      &lt;/script&gt;
    &lt;/b:if&gt;

  &lt;b:else/&gt;
    &lt;b:include name='mobile-main'/&gt;
  &lt;/b:if&gt;

  &lt;b:if cond='data:top.showDummy'&gt;
    &lt;data:top.dummyBootstrap/&gt;
  &lt;/b:if&gt;

&lt;/b:includable&gt;
              &lt;b:includable id='backlinkDeleteIcon' var='backlink'&gt;
  &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:backlink.adminClass'&gt;
    &lt;a expr:href='data:backlink.deleteUrl' expr:title='data:top.deleteBacklinkMsg'&gt;
      &lt;img src='//www.blogger.com/img/icon_delete13.gif'/&gt;
    &lt;/a&gt;
  &lt;/span&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='backlinks' var='post'&gt;
  &lt;a name='links'/&gt;&lt;h4&gt;&lt;data:post.backlinksLabel/&gt;&lt;/h4&gt;
  &lt;b:if cond='data:post.numBacklinks != 0'&gt;
    &lt;dl class='comments-block' id='comments-block'&gt;
      &lt;b:loop values='data:post.backlinks' var='backlink'&gt;
        &lt;div class='collapsed-backlink backlink-control'&gt;
          &lt;dt class='comment-title'&gt;
            &lt;span class='backlink-toggle-zippy'&gt;&amp;#160;&lt;/span&gt;
            &lt;a expr:href='data:backlink.url' rel='nofollow'&gt;&lt;data:backlink.title/&gt;&lt;/a&gt;
            &lt;b:include data='backlink' name='backlinkDeleteIcon'/&gt;
          &lt;/dt&gt;
          &lt;dd class='comment-body collapseable'&gt;
            &lt;data:backlink.snippet/&gt;
          &lt;/dd&gt;
          &lt;dd class='comment-footer collapseable'&gt;
            &lt;span class='comment-author'&gt;&lt;data:post.authorLabel/&gt; &lt;data:backlink.author/&gt;&lt;/span&gt;
            &lt;span class='comment-timestamp'&gt;&lt;data:post.timestampLabel/&gt; &lt;data:backlink.timestamp/&gt;&lt;/span&gt;
          &lt;/dd&gt;
        &lt;/div&gt;
      &lt;/b:loop&gt;
    &lt;/dl&gt;
  &lt;/b:if&gt;
  &lt;p class='comment-footer'&gt;
    &lt;a class='comment-link' expr:href='data:post.createLinkUrl' expr:id='data:widget.instanceId + &amp;quot;_backlinks-create-link&amp;quot;' target='_blank'&gt;&lt;data:post.createLinkLabel/&gt;&lt;/a&gt;
  &lt;/p&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='comment-form' var='post'&gt;
  &lt;div class='comment-form'&gt;
    &lt;a name='comment-form'/&gt;
    &lt;b:if cond='data:mobile'&gt;
      &lt;h4 id='comment-post-message'&gt;
        &lt;a expr:id='data:widget.instanceId + &amp;quot;_comment-editor-toggle-link&amp;quot;' href='javascript:void(0)'&gt;&lt;data:postCommentMsg/&gt;&lt;/a&gt;&lt;/h4&gt;
      &lt;p&gt;&lt;data:blogCommentMessage/&gt;&lt;/p&gt;
      &lt;data:blogTeamBlogMessage/&gt;
      &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
      &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/&gt;
    &lt;b:else/&gt;
      &lt;h4 id='comment-post-message'&gt;&lt;data:postCommentMsg/&gt;&lt;/h4&gt;
      &lt;p&gt;&lt;data:blogCommentMessage/&gt;&lt;/p&gt;
      &lt;data:blogTeamBlogMessage/&gt;
      &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
      &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'/&gt;
    &lt;/b:if&gt;
    &lt;data:post.friendConnectJs/&gt;
    &lt;data:post.cmtfpIframe/&gt;
    &lt;script type='text/javascript'&gt;
      BLOG_CMT_createIframe(&amp;#39;&lt;data:post.appRpcRelayPath/&gt;&amp;#39;, &amp;#39;&lt;data:post.communityId/&gt;&amp;#39;);
    &lt;/script&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='commentDeleteIcon' var='comment'&gt;
  &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:comment.adminClass'&gt;
    &lt;b:if cond='data:showCmtPopup'&gt;
      &lt;div class='goog-toggle-button'&gt;
        &lt;div class='goog-inline-block comment-action-icon'/&gt;
      &lt;/div&gt;
    &lt;b:else/&gt;
      &lt;a class='comment-delete' expr:href='data:comment.deleteUrl' expr:title='data:top.deleteCommentMsg'&gt;
        &lt;img src='//www.blogger.com/img/icon_delete13.gif'/&gt;
      &lt;/a&gt;
    &lt;/b:if&gt;
  &lt;/span&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='comment_count_picker' var='post'&gt;
  &lt;b:if cond='data:post.commentSource == 1'&gt;
    &lt;span class='cmt_count_iframe_holder' expr:data-count='data:post.numComments' expr:data-onclick='data:post.addCommentOnclick' expr:data-post-url='data:post.url' expr:data-url='data:post.canonicalUrl'&gt;
    &lt;/span&gt;
  &lt;b:else/&gt;
    &lt;a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;
      &lt;data:post.commentLabelFull/&gt;:
    &lt;/a&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='comment_picker' var='post'&gt;
  &lt;b:if cond='data:post.commentSource == 1'&gt;
    &lt;b:include data='post' name='iframe_comments'/&gt;
  &lt;b:else/&gt;
    &lt;b:if cond='data:post.showThreadedComments'&gt;
      &lt;b:include data='post' name='threaded_comments'/&gt;
    &lt;b:else/&gt;
      &lt;b:include data='post' name='comments'/&gt;
    &lt;/b:if&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='comments' var='post'&gt;
  &lt;div class='comments' id='comments'&gt;
    &lt;a name='comments'/&gt;
    &lt;b:if cond='data:post.allowComments'&gt;
      &lt;h4&gt;&lt;data:post.commentLabelFull/&gt;:&lt;/h4&gt;

      &lt;b:if cond='data:post.commentPagingRequired'&gt;
        &lt;span class='paging-control-container'&gt;
          &lt;b:if cond='data:post.hasOlderLinks'&gt;
            &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'&gt;&lt;data:post.oldestLinkText/&gt;&lt;/a&gt;
              &amp;#160;
            &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'&gt;&lt;data:post.olderLinkText/&gt;&lt;/a&gt;
              &amp;#160;
          &lt;/b:if&gt;

          &lt;data:post.commentRangeText/&gt;

          &lt;b:if cond='data:post.hasNewerLinks'&gt;
            &amp;#160;
            &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'&gt;&lt;data:post.newerLinkText/&gt;&lt;/a&gt;
            &amp;#160;
            &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'&gt;&lt;data:post.newestLinkText/&gt;&lt;/a&gt;
          &lt;/b:if&gt;
        &lt;/span&gt;
      &lt;/b:if&gt;

      &lt;div expr:id='data:widget.instanceId + &amp;quot;_comments-block-wrapper&amp;quot;'&gt;
        &lt;dl expr:class='data:post.avatarIndentClass' id='comments-block'&gt;
          &lt;b:loop values='data:post.comments' var='comment'&gt;
            &lt;dt expr:class='&amp;quot;comment-author &amp;quot; + data:comment.authorClass' expr:id='data:comment.anchorName'&gt;
              &lt;b:if cond='data:comment.favicon'&gt;
                &lt;img expr:src='data:comment.favicon' height='16px' style='margin-bottom:-2px;' width='16px'/&gt;
              &lt;/b:if&gt;
              &lt;a expr:name='data:comment.anchorName'/&gt;
              &lt;b:if cond='data:blog.enabledCommentProfileImages'&gt;
                &lt;data:comment.authorAvatarImage/&gt;
              &lt;/b:if&gt;
              &lt;b:if cond='data:comment.authorUrl'&gt;
                &lt;a expr:href='data:comment.authorUrl' rel='nofollow'&gt;&lt;data:comment.author/&gt;&lt;/a&gt;
              &lt;b:else/&gt;
                &lt;data:comment.author/&gt;
              &lt;/b:if&gt;
              &lt;data:commentPostedByMsg/&gt;
            &lt;/dt&gt;
            &lt;dd class='comment-body' expr:id='data:widget.instanceId + data:comment.cmtBodyIdPostfix'&gt;
              &lt;b:if cond='data:comment.isDeleted'&gt;
                &lt;span class='deleted-comment'&gt;&lt;data:comment.body/&gt;&lt;/span&gt;
              &lt;b:else/&gt;
                &lt;p&gt;
                  &lt;data:comment.body/&gt;
                &lt;/p&gt;
              &lt;/b:if&gt;
            &lt;/dd&gt;
            &lt;dd class='comment-footer'&gt;
              &lt;span class='comment-timestamp'&gt;
                &lt;a expr:href='data:comment.url' title='comment permalink'&gt;
                  &lt;data:comment.timestamp/&gt;
                &lt;/a&gt;
                &lt;b:include data='comment' name='commentDeleteIcon'/&gt;
              &lt;/span&gt;
            &lt;/dd&gt;
          &lt;/b:loop&gt;
        &lt;/dl&gt;
      &lt;/div&gt;

      &lt;b:if cond='data:post.commentPagingRequired'&gt;
        &lt;span class='paging-control-container'&gt;
          &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.oldestLinkUrl'&gt;
            &lt;data:post.oldestLinkText/&gt;
          &lt;/a&gt;
          &lt;a expr:class='data:post.oldLinkClass' expr:href='data:post.olderLinkUrl'&gt;
            &lt;data:post.olderLinkText/&gt;
          &lt;/a&gt;
          &amp;#160;
          &lt;data:post.commentRangeText/&gt;
          &amp;#160;
          &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newerLinkUrl'&gt;
            &lt;data:post.newerLinkText/&gt;
          &lt;/a&gt;
          &lt;a expr:class='data:post.newLinkClass' expr:href='data:post.newestLinkUrl'&gt;
            &lt;data:post.newestLinkText/&gt;
          &lt;/a&gt;
        &lt;/span&gt;
      &lt;/b:if&gt;

      &lt;p class='comment-footer'&gt;
        &lt;b:if cond='data:post.embedCommentForm'&gt;
          &lt;b:if cond='data:post.allowNewComments'&gt;
            &lt;b:include data='post' name='comment-form'/&gt;
          &lt;b:else/&gt;
            &lt;data:post.noNewCommentsText/&gt;
          &lt;/b:if&gt;
        &lt;b:else/&gt;
          &lt;b:if cond='data:post.allowComments'&gt;
            &lt;a expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;&lt;data:postCommentMsg/&gt;&lt;/a&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;

      &lt;/p&gt;
    &lt;/b:if&gt;
    &lt;b:if cond='data:showCmtPopup'&gt;
      &lt;div id='comment-popup'&gt;
        &lt;iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'&gt;
        &lt;/iframe&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div id='backlinks-container'&gt;
    &lt;div expr:id='data:widget.instanceId + &amp;quot;_backlinks-container&amp;quot;'&gt;
       &lt;b:if cond='data:post.showBacklinks'&gt;
         &lt;b:include data='post' name='backlinks'/&gt;
       &lt;/b:if&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='feedLinks'&gt;
  &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt; &lt;!-- Blog feed links --&gt;
    &lt;b:if cond='data:feedLinks'&gt;
      &lt;div class='blog-feeds'&gt;
        &lt;b:include data='feedLinks' name='feedLinksBody'/&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;b:else/&gt; &lt;!--Post feed links --&gt;
    &lt;div class='post-feeds'&gt;
      &lt;b:loop values='data:posts' var='post'&gt;
        &lt;b:if cond='data:post.allowComments'&gt;
          &lt;b:if cond='data:post.feedLinks'&gt;
            &lt;b:include data='post.feedLinks' name='feedLinksBody'/&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/b:loop&gt;
    &lt;/div&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='feedLinksBody' var='links'&gt;
  &lt;div class='feed-links'&gt;
  &lt;data:feedLinksMsg/&gt;
  &lt;b:loop values='data:links' var='f'&gt;
     &lt;a class='feed-link' expr:href='data:f.url' expr:type='data:f.mimeType' target='_blank'&gt;&lt;data:f.name/&gt; (&lt;data:f.feedType/&gt;)&lt;/a&gt;
  &lt;/b:loop&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='iframe_comments' var='post'&gt;

  &lt;b:if cond='data:post.allowIframeComments'&gt;
    &lt;script expr:src='data:post.iframeCommentSrc' type='text/javascript'/&gt;
    &lt;div class='cmt_iframe_holder' expr:data-href='data:post.canonicalUrl' expr:data-viewtype='data:post.viewType'/&gt;

    &lt;b:if cond='data:post.embedCommentForm == &amp;quot;false&amp;quot;'&gt;
      &lt;a expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;&lt;data:postCommentMsg/&gt;&lt;/a&gt;
    &lt;/b:if&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='mobile-index-post' var='post'&gt;
  &lt;div class='mobile-date-outer date-outer'&gt;
    &lt;b:if cond='data:post.dateHeader'&gt;
      &lt;div class='date-header'&gt;
        &lt;span&gt;&lt;data:post.dateHeader/&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='mobile-post-outer'&gt;
      &lt;a expr:href='data:post.url'&gt;
        &lt;h3 class='mobile-index-title entry-title' itemprop='name'&gt;
          &lt;data:post.title/&gt;
        &lt;/h3&gt;

        &lt;div class='mobile-index-arrow'&gt;&amp;amp;rsaquo;&lt;/div&gt;

        &lt;div class='mobile-index-contents'&gt;
          &lt;b:if cond='data:post.thumbnailUrl'&gt;
            &lt;div class='mobile-index-thumbnail'&gt;
              &lt;div class='Image'&gt;
                &lt;img expr:src='data:post.thumbnailUrl'/&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/b:if&gt;

          &lt;div class='post-body'&gt;
            &lt;b:if cond='data:post.snippet'&gt;&lt;data:post.snippet/&gt;&lt;/b:if&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;div style='clear: both;'/&gt;
      &lt;/a&gt;

      &lt;div class='mobile-index-comment'&gt;
        &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
          &lt;b:if cond='data:post.allowComments'&gt;
            &lt;b:if cond='data:post.numComments != 0'&gt;
              &lt;b:include data='post' name='comment_count_picker'/&gt;
            &lt;/b:if&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='mobile-main' var='top'&gt;
    &lt;!-- posts --&gt;
    &lt;div class='blog-posts hfeed'&gt;

      &lt;b:include data='top' name='status-message'/&gt;

      &lt;b:if cond='data:blog.pageType == &amp;quot;index&amp;quot;'&gt;
        &lt;b:loop values='data:posts' var='post'&gt;
          &lt;b:include data='post' name='mobile-index-post'/&gt;
        &lt;/b:loop&gt;
      &lt;b:else/&gt;
        &lt;b:loop values='data:posts' var='post'&gt;
          &lt;b:include data='post' name='mobile-post'/&gt;
        &lt;/b:loop&gt;
      &lt;/b:if&gt;
    &lt;/div&gt;

   &lt;b:include name='mobile-nextprev'/&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='mobile-nextprev'&gt;
  &lt;div class='blog-pager' id='blog-pager'&gt;
    &lt;b:if cond='data:newerPageUrl'&gt;
      &lt;div class='mobile-link-button' id='blog-pager-newer-link'&gt;
      &lt;a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-newer-link&amp;quot;' expr:title='data:newerPageTitle'&gt;&amp;amp;lsaquo;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;b:if cond='data:olderPageUrl'&gt;
      &lt;div class='mobile-link-button' id='blog-pager-older-link'&gt;
      &lt;a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-older-link&amp;quot;' expr:title='data:olderPageTitle'&gt;&amp;amp;rsaquo;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='mobile-link-button' id='blog-pager-home-link'&gt;
    &lt;a class='home-link' expr:href='data:blog.homepageUrl'&gt;&lt;data:homeMsg/&gt;&lt;/a&gt;
    &lt;/div&gt;

    &lt;div class='mobile-desktop-link'&gt;
      &lt;a class='home-link' expr:href='data:desktopLinkUrl'&gt;&lt;data:desktopLinkMsg/&gt;&lt;/a&gt;
    &lt;/div&gt;

  &lt;/div&gt;
  &lt;div class='clear'/&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='mobile-post' var='post'&gt;
  &lt;div class='date-outer'&gt;
    &lt;b:if cond='data:post.dateHeader'&gt;
      &lt;h2 class='date-header'&gt;&lt;span&gt;&lt;data:post.dateHeader/&gt;&lt;/span&gt;&lt;/h2&gt;
    &lt;/b:if&gt;
    &lt;div class='date-posts'&gt;
      &lt;div class='post-outer'&gt;

        &lt;div class='post hentry uncustomized-post-template' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'&gt;
          &lt;b:if cond='data:post.thumbnailUrl'&gt;
            &lt;meta expr:content='data:post.thumbnailUrl' itemprop='image_url'/&gt;
          &lt;/b:if&gt;
          &lt;meta expr:content='data:blog.blogId' itemprop='blogId'/&gt;
          &lt;meta expr:content='data:post.id' itemprop='postId'/&gt;

          &lt;a expr:name='data:post.id'/&gt;
          &lt;b:if cond='data:post.title'&gt;
            &lt;h3 class='post-title entry-title' itemprop='name'&gt;
              &lt;b:if cond='data:post.link'&gt;
                &lt;a expr:href='data:post.link'&gt;&lt;data:post.title/&gt;&lt;/a&gt;
              &lt;b:else/&gt;
                &lt;b:if cond='data:post.url'&gt;
                  &lt;b:if cond='data:blog.url != data:post.url'&gt;
                    &lt;a expr:href='data:post.url'&gt;&lt;data:post.title/&gt;&lt;/a&gt;
                  &lt;b:else/&gt;
                    &lt;data:post.title/&gt;
                  &lt;/b:if&gt;
                &lt;b:else/&gt;
                  &lt;data:post.title/&gt;
                &lt;/b:if&gt;
              &lt;/b:if&gt;
            &lt;/h3&gt;
          &lt;/b:if&gt;

          &lt;div class='post-header'&gt;
            &lt;div class='post-header-line-1'/&gt;
          &lt;/div&gt;

          &lt;div class='post-body entry-content' expr:id='&amp;quot;post-body-&amp;quot; + data:post.id' itemprop='articleBody'&gt;
            &lt;data:post.body/&gt;
            &lt;div style='clear: both;'/&gt; &lt;!-- clear for photos floats --&gt;
          &lt;/div&gt;

          &lt;div class='post-footer'&gt;
            &lt;div class='post-footer-line post-footer-line-1'&gt;
              &lt;span class='post-author vcard'&gt;
                &lt;b:if cond='data:top.showAuthor'&gt;
                  &lt;b:if cond='data:post.authorProfileUrl'&gt;
                    &lt;span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'&gt;
                      &lt;meta expr:content='data:post.authorProfileUrl' itemprop='url'/&gt;
                      &lt;a expr:href='data:post.authorProfileUrl' rel='author' title='author profile'&gt;
                        &lt;span itemprop='name'&gt;&lt;data:post.author/&gt;&lt;/span&gt;
                      &lt;/a&gt;
                    &lt;/span&gt;
                  &lt;b:else/&gt;
                    &lt;span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'&gt;
                      &lt;span itemprop='name'&gt;&lt;data:post.author/&gt;&lt;/span&gt;
                    &lt;/span&gt;
                  &lt;/b:if&gt;
                &lt;/b:if&gt;
              &lt;/span&gt;

              &lt;span class='post-timestamp'&gt;
                &lt;b:if cond='data:top.showTimestamp'&gt;
                  &lt;data:top.timestampLabel/&gt;
                  &lt;b:if cond='data:post.url'&gt;
                    &lt;meta expr:content='data:post.canonicalUrl' itemprop='url'/&gt;
                    &lt;a class='timestamp-link' expr:href='data:post.url' rel='bookmark' title='permanent link'&gt;&lt;abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'&gt;&lt;data:post.timestamp/&gt;&lt;/abbr&gt;&lt;/a&gt;
                  &lt;/b:if&gt;
                &lt;/b:if&gt;
              &lt;/span&gt;

              &lt;span class='post-comment-link'&gt;
                &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
                  &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
                    &lt;b:if cond='data:post.allowComments'&gt;
                      &lt;b:include data='post' name='comment_count_picker'/&gt;
                    &lt;/b:if&gt;
                  &lt;/b:if&gt;
                &lt;/b:if&gt;
              &lt;/span&gt;
            &lt;/div&gt;

            &lt;div class='post-footer-line post-footer-line-2'&gt;
              &lt;b:if cond='data:top.showMobileShare'&gt;
                &lt;div class='mobile-link-button goog-inline-block' id='mobile-share-button'&gt;
                  &lt;a href='javascript:void(0);'&gt;&lt;data:shareMsg/&gt;&lt;/a&gt;
                &lt;/div&gt;
              &lt;/b:if&gt;
              &lt;b:if cond='data:top.showDummy'&gt;
                &lt;div class='goog-inline-block dummy-container'&gt;&lt;data:post.dummyTag/&gt;&lt;/div&gt;
              &lt;/b:if&gt;
            &lt;/div&gt;

          &lt;/div&gt;
        &lt;/div&gt;

        &lt;b:if cond='data:blog.pageType == &amp;quot;static_page&amp;quot;'&gt;
          &lt;b:include data='post' name='comment_picker'/&gt;
        &lt;/b:if&gt;
        &lt;b:if cond='data:blog.pageType == &amp;quot;item&amp;quot;'&gt;
          &lt;b:include data='post' name='comment_picker'/&gt;
        &lt;/b:if&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='nextprev'&gt;
  &lt;div class='blog-pager' id='blog-pager'&gt;
    &lt;b:if cond='data:newerPageUrl'&gt;
      &lt;span id='blog-pager-newer-link'&gt;
      &lt;a class='blog-pager-newer-link' expr:href='data:newerPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-newer-link&amp;quot;' expr:title='data:newerPageTitle'&gt;&lt;data:newerPageTitle/&gt;&lt;/a&gt;
      &lt;/span&gt;
    &lt;/b:if&gt;

    &lt;b:if cond='data:olderPageUrl'&gt;
      &lt;span id='blog-pager-older-link'&gt;
      &lt;a class='blog-pager-older-link' expr:href='data:olderPageUrl' expr:id='data:widget.instanceId + &amp;quot;_blog-pager-older-link&amp;quot;' expr:title='data:olderPageTitle'&gt;&lt;data:olderPageTitle/&gt;&lt;/a&gt;
      &lt;/span&gt;
    &lt;/b:if&gt;

    &lt;a class='home-link' expr:href='data:blog.homepageUrl'&gt;&lt;data:homeMsg/&gt;&lt;/a&gt;

    &lt;b:if cond='data:mobileLinkUrl'&gt;
      &lt;div class='blog-mobile-link'&gt;
        &lt;a expr:href='data:mobileLinkUrl'&gt;&lt;data:mobileLinkMsg/&gt;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

  &lt;/div&gt;
  &lt;div class='clear'/&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='post' var='post'&gt;
  &lt;div class='post hentry' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'&gt;
    &lt;a expr:name='data:post.id'/&gt;
    &lt;b:if cond='data:post.title'&gt;
      &lt;h3 class='post-title entry-title' itemprop='name'&gt;
      &lt;b:if cond='data:post.link'&gt;
        &lt;a expr:href='data:post.link'&gt;&lt;data:post.title/&gt;&lt;/a&gt;
      &lt;b:else/&gt;
        &lt;b:if cond='data:post.url'&gt;
          &lt;b:if cond='data:blog.url != data:post.url'&gt;
            &lt;a expr:href='data:post.url'&gt;&lt;data:post.title/&gt;&lt;/a&gt;
          &lt;b:else/&gt;
            &lt;data:post.title/&gt;
          &lt;/b:if&gt;
        &lt;b:else/&gt;
          &lt;data:post.title/&gt;
        &lt;/b:if&gt;
      &lt;/b:if&gt;
      &lt;/h3&gt;
    &lt;/b:if&gt;

    &lt;div class='post-header'&gt;
    &lt;div class='post-header-line-1'/&gt;
    &lt;/div&gt;

    &lt;div class='post-body entry-content' expr:id='&amp;quot;post-body-&amp;quot; + data:post.id' itemprop='articleBody'&gt;
      &lt;data:post.body/&gt;
      &lt;div style='clear: both;'/&gt; &lt;!-- clear for photos floats --&gt;
    &lt;/div&gt;

    &lt;b:if cond='data:post.hasJumpLink'&gt;
      &lt;div class='jump-link'&gt;
        &lt;a expr:href='data:post.url + &amp;quot;#more&amp;quot;' expr:title='data:post.title'&gt;&lt;data:post.jumpText/&gt;&lt;/a&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='post-footer'&gt;
    &lt;div class='post-footer-line post-footer-line-1'&gt;&lt;span class='post-author vcard'&gt;
        &lt;b:if cond='data:top.showAuthor'&gt;
          &lt;data:top.authorLabel/&gt;
            &lt;b:if cond='data:post.authorProfileUrl'&gt;
              &lt;span class='fn'&gt;
                &lt;a expr:href='data:post.authorProfileUrl' itemprop='author' rel='author' title='author profile'&gt;
                  &lt;data:post.author/&gt;
                &lt;/a&gt;
              &lt;/span&gt;
            &lt;b:else/&gt;
              &lt;span class='fn'&gt;&lt;data:post.author/&gt;&lt;/span&gt;
            &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;span class='post-timestamp'&gt;
        &lt;b:if cond='data:top.showTimestamp'&gt;
          &lt;data:top.timestampLabel/&gt;
        &lt;b:if cond='data:post.url'&gt;
          &lt;a class='timestamp-link' expr:href='data:post.url' itemprop='url' rel='bookmark' title='permanent link'&gt;&lt;abbr class='published' expr:title='data:post.timestampISO8601' itemprop='datePublished'&gt;&lt;data:post.timestamp/&gt;&lt;/abbr&gt;&lt;/a&gt;
        &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;span class='post-comment-link'&gt;
        &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
          &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
            &lt;b:if cond='data:post.allowComments'&gt;
              &lt;a class='comment-link' expr:href='data:post.addCommentUrl' expr:onclick='data:post.addCommentOnclick'&gt;&lt;b:if cond='data:post.numComments == 1'&gt;1 &lt;data:top.commentLabel/&gt;&lt;b:else/&gt;&lt;data:post.numComments/&gt; &lt;data:top.commentLabelPlural/&gt;&lt;/b:if&gt;&lt;/a&gt;
            &lt;/b:if&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;span class='post-icons'&gt;
        &lt;!-- email post links --&gt;
        &lt;b:if cond='data:post.emailPostUrl'&gt;
          &lt;span class='item-action'&gt;
          &lt;a expr:href='data:post.emailPostUrl' expr:title='data:top.emailPostMsg'&gt;
              &lt;img alt='' class='icon-action' height='13' src='http://img1.blogblog.com/img/icon18_email.gif' width='18'/&gt;
          &lt;/a&gt;
          &lt;/span&gt;
        &lt;/b:if&gt;

        &lt;!-- quickedit pencil --&gt;
        &lt;b:include data='post' name='postQuickEdit'/&gt;
      &lt;/span&gt; &lt;span class='post-backlinks post-comment-link'&gt;
         &lt;b:if cond='data:blog.pageType != &amp;quot;item&amp;quot;'&gt;
           &lt;b:if cond='data:blog.pageType != &amp;quot;static_page&amp;quot;'&gt;
             &lt;b:if cond='data:post.showBacklinks'&gt;
               &lt;a class='comment-link' expr:href='data:post.url + &amp;quot;#links&amp;quot;'&gt;&lt;data:top.backlinkLabel/&gt;&lt;/a&gt;
             &lt;/b:if&gt;
           &lt;/b:if&gt;
         &lt;/b:if&gt;
       &lt;/span&gt; &lt;/div&gt;

      &lt;div class='post-footer-line post-footer-line-2'&gt;&lt;span class='post-labels'&gt;
        &lt;b:if cond='data:post.labels'&gt;
          &lt;data:postLabelsLabel/&gt;
          &lt;b:loop values='data:post.labels' var='label'&gt;
            &lt;a expr:href='data:label.url' rel='tag'&gt;&lt;data:label.name/&gt;&lt;/a&gt;&lt;b:if cond='data:label.isLast != &amp;quot;true&amp;quot;'&gt;,&lt;/b:if&gt;
          &lt;/b:loop&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;/div&gt;

      &lt;div class='post-footer-line post-footer-line-3'&gt;&lt;span class='post-location'&gt;
        &lt;b:if cond='data:top.showLocation'&gt;
          &lt;b:if cond='data:post.location'&gt;
            &lt;data:postLocationLabel/&gt;
            &lt;a expr:href='data:post.location.mapsUrl' target='_blank'&gt;&lt;data:post.location.name/&gt;&lt;/a&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;
      &lt;/span&gt; &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='postQuickEdit' var='post'&gt;
  &lt;b:if cond='data:post.editUrl'&gt;
    &lt;span expr:class='&amp;quot;item-control &amp;quot; + data:post.adminClass'&gt;
      &lt;a expr:href='data:post.editUrl' expr:title='data:top.editPostMsg'&gt;
        &lt;img alt='' class='icon-action' height='18' src='http://img2.blogblog.com/img/icon18_edit_allbkg.gif' width='18'/&gt;
      &lt;/a&gt;
    &lt;/span&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='shareButtons' var='post'&gt;
  &lt;b:if cond='data:top.showEmailButton'&gt;&lt;a class='goog-inline-block share-button sb-email' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=email&amp;quot;' expr:title='data:top.emailThisMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.emailThisMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showBlogThisButton'&gt;&lt;a class='goog-inline-block share-button sb-blog' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=blog&amp;quot;' expr:onclick='&amp;quot;window.open(this.href, \&amp;quot;_blank\&amp;quot;, \&amp;quot;height=270,width=475\&amp;quot;); return false;&amp;quot;' expr:title='data:top.blogThisMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.blogThisMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showTwitterButton'&gt;&lt;a class='goog-inline-block share-button sb-twitter' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=twitter&amp;quot;' expr:title='data:top.shareToTwitterMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.shareToTwitterMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showFacebookButton'&gt;&lt;a class='goog-inline-block share-button sb-facebook' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=facebook&amp;quot;' expr:onclick='&amp;quot;window.open(this.href, \&amp;quot;_blank\&amp;quot;, \&amp;quot;height=430,width=640\&amp;quot;); return false;&amp;quot;' expr:title='data:top.shareToFacebookMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.shareToFacebookMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showOrkutButton'&gt;&lt;a class='goog-inline-block share-button sb-orkut' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=orkut&amp;quot;' expr:title='data:top.shareToOrkutMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.shareToOrkutMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showPinterestButton'&gt;&lt;a class='goog-inline-block share-button sb-pinterest' expr:href='data:post.sharePostUrl + &amp;quot;&amp;amp;target=pinterest&amp;quot;' expr:title='data:top.shareToPinterestMsg' target='_blank'&gt;&lt;span class='share-button-link-text'&gt;&lt;data:top.shareToPinterestMsg/&gt;&lt;/span&gt;&lt;/a&gt;&lt;/b:if&gt;&lt;b:if cond='data:top.showDummy'&gt;&lt;div class='goog-inline-block dummy-container'&gt;&lt;data:post.dummyTag/&gt;&lt;/div&gt;&lt;/b:if&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='status-message'&gt;
  &lt;b:if cond='data:navMessage'&gt;
  &lt;div class='status-msg-wrap'&gt;
    &lt;div class='status-msg-body'&gt;
      &lt;data:navMessage/&gt;
    &lt;/div&gt;
    &lt;div class='status-msg-border'&gt;
      &lt;div class='status-msg-bg'&gt;
        &lt;div class='status-msg-hidden'&gt;&lt;data:navMessage/&gt;&lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div style='clear: both;'/&gt;
  &lt;/b:if&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='threaded-comment-form' var='post'&gt;
  &lt;div class='comment-form'&gt;
    &lt;a name='comment-form'/&gt;
    &lt;b:if cond='data:mobile'&gt;
      &lt;p&gt;&lt;data:blogCommentMessage/&gt;&lt;/p&gt;
      &lt;data:blogTeamBlogMessage/&gt;
      &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
      &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' style='display: none' width='100%'/&gt;
    &lt;b:else/&gt;
      &lt;p&gt;&lt;data:blogCommentMessage/&gt;&lt;/p&gt;
      &lt;data:blogTeamBlogMessage/&gt;
      &lt;a expr:href='data:post.commentFormIframeSrc' id='comment-editor-src'/&gt;
      &lt;iframe allowtransparency='true' class='blogger-iframe-colorize blogger-comment-from-post' frameborder='0' height='410' id='comment-editor' name='comment-editor' src='' width='100%'/&gt;
    &lt;/b:if&gt;
    &lt;data:post.friendConnectJs/&gt;
    &lt;data:post.cmtfpIframe/&gt;
    &lt;script type='text/javascript'&gt;
      BLOG_CMT_createIframe(&amp;#39;&lt;data:post.appRpcRelayPath/&gt;&amp;#39;, &amp;#39;&lt;data:post.communityId/&gt;&amp;#39;);
    &lt;/script&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='threaded_comment_js' var='post'&gt;
  &lt;script async='async' expr:src='data:post.commentSrc' type='text/javascript'/&gt;

  &lt;script type='text/javascript'&gt;
    (function() {
      var items = &lt;data:post.commentJso/&gt;;
      var msgs = &lt;data:post.commentMsgs/&gt;;
      var config = &lt;data:post.commentConfig/&gt;;

// &lt;![CDATA[
      var cursor = null;
      if (items &amp;&amp; items.length &gt; 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '&lt;span class="deleted-comment"&gt;' + entry.content.$t + '&lt;/span&gt;';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data &amp;&amp; data.feed &amp;&amp; data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author &amp;&amp; entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid &amp;&amp; pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&amp;v=2&amp;orderby=published&amp;reverse=false&amp;max-results=50';
          if (cursor) {
            url += '&amp;published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length &lt; 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&amp;callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              &amp;&amp; comment.author.name == config.authorName
              &amp;&amp; comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&amp;postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox &amp;&amp; (commentId !== replyParent)) {
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&amp;parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog &amp;&amp; window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog &amp;&amp; window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]&gt;
  &lt;/script&gt;
&lt;/b:includable&gt;
              &lt;b:includable id='threaded_comments' var='post'&gt;
  &lt;div class='comments' id='comments'&gt;
    &lt;a name='comments'/&gt;
    &lt;h4&gt;&lt;data:post.commentLabelFull/&gt;:&lt;/h4&gt;

    &lt;div class='comments-content'&gt;
      &lt;b:if cond='data:post.embedCommentForm'&gt;
        &lt;b:include data='post' name='threaded_comment_js'/&gt;
      &lt;/b:if&gt;
      &lt;div id='comment-holder'&gt;
         &lt;data:post.commentHtml/&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;p class='comment-footer'&gt;
      &lt;b:if cond='data:post.allowNewComments'&gt;
        &lt;b:include data='post' name='threaded-comment-form'/&gt;
      &lt;b:else/&gt;
        &lt;data:post.noNewCommentsText/&gt;
      &lt;/b:if&gt;
    &lt;/p&gt;

    &lt;b:if cond='data:showCmtPopup'&gt;
      &lt;div id='comment-popup'&gt;
        &lt;iframe allowtransparency='true' frameborder='0' id='comment-actions' name='comment-actions' scrolling='no'&gt;
        &lt;/iframe&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div id='backlinks-container'&gt;
    &lt;div expr:id='data:widget.instanceId + &amp;quot;_backlinks-container&amp;quot;'&gt;
       &lt;b:if cond='data:post.showBacklinks'&gt;
         &lt;b:include data='post' name='backlinks'/&gt;
       &lt;/b:if&gt;
    &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
            &lt;/b:widget&gt;
          &lt;/b:section&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class='column-left-outer'&gt;
        &lt;div class='column-left-inner'&gt;
          &lt;aside&gt;
          &lt;macro:include id='main-column-left-sections' name='sections'&gt;
            &lt;macro:param default='0' name='num' value='0'/&gt;
            &lt;macro:param default='sidebar-left' name='idPrefix'/&gt;
            &lt;macro:param default='sidebar' name='class'/&gt;
            &lt;macro:param default='true' name='includeBottom'/&gt;
          &lt;/macro:include&gt;
          &lt;/aside&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class='column-right-outer'&gt;
        &lt;div class='column-right-inner'&gt;
          &lt;aside&gt;
          &lt;macro:include id='main-column-right-sections' name='sections'&gt;
            &lt;macro:param default='2' name='num' value='1'/&gt;
            &lt;macro:param default='sidebar-right' name='idPrefix'/&gt;
            &lt;macro:param default='sidebar' name='class'/&gt;
            &lt;macro:param default='true' name='includeBottom'/&gt;
          &lt;/macro:include&gt;
          &lt;/aside&gt;
        &lt;/div&gt;
        &lt;/div&gt;

        &lt;/div&gt;

        &lt;div style='clear: both'/&gt;
      &lt;!-- columns --&gt;
      &lt;/div&gt;

    &lt;!-- main --&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='main-cap-bottom cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;

    &lt;footer&gt;
    &lt;div class='footer-outer'&gt;
    &lt;div class='footer-cap-top cap-top'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;div class='fauxborder-left footer-fauxborder-left'&gt;
    &lt;div class='fauxborder-right footer-fauxborder-right'/&gt;
    &lt;div class='region-inner footer-inner'&gt;
      &lt;macro:include id='footer-sections' name='sections'&gt;
        &lt;macro:param default='2' name='num'/&gt;
        &lt;macro:param default='footer' name='idPrefix'/&gt;
        &lt;macro:param default='foot' name='class'/&gt;
        &lt;macro:param default='false' name='includeBottom'/&gt;
      &lt;/macro:include&gt;
      &lt;!-- outside of the include in order to lock Attribution widget --&gt;
      &lt;b:section class='foot' id='footer-3' showaddelement='no'&gt;
        &lt;b:widget id='Attribution1' locked='true' title='' type='Attribution'&gt;
          &lt;b:includable id='main'&gt;
    &lt;b:if cond='data:feedbackSurveyLink'&gt;
      &lt;div class='mobile-survey-link' style='text-align: center;'&gt;
        &lt;data:feedbackSurveyLink/&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;

    &lt;div class='widget-content' style='text-align: center;'&gt;
      &lt;b:if cond='data:attribution != &amp;quot;&amp;quot;'&gt;
       &lt;data:attribution/&gt;
      &lt;/b:if&gt;
    &lt;/div&gt;

    &lt;b:include name='quickedit'/&gt;
  &lt;/b:includable&gt;
        &lt;/b:widget&gt;
      &lt;/b:section&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class='footer-cap-bottom cap-bottom'&gt;
      &lt;div class='cap-left'/&gt;
      &lt;div class='cap-right'/&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;/footer&gt;

  &lt;!-- content --&gt;
  &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class='content-cap-bottom cap-bottom'&gt;
    &lt;div class='cap-left'/&gt;
    &lt;div class='cap-right'/&gt;
  &lt;/div&gt;
  &lt;/div&gt;
  &lt;/div&gt;

  &lt;script type='text/javascript'&gt;
    window.setTimeout(function() {
        document.body.className = document.body.className.replace(&amp;#39;loading&amp;#39;, &amp;#39;&amp;#39;);
      }, 10);
  &lt;/script&gt;
  &lt;b:include data='blog' name='google-analytics'/&gt;
&lt;/body&gt;

&lt;macro:includable id='sections' var='col'&gt;
  &lt;macro:if cond='data:col.num == 0'&gt;
  &lt;macro:else/&gt;
    &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-1&amp;quot;' preferred='yes' showaddelement='yes'/&gt;

    &lt;macro:if cond='data:col.num &amp;gt;= 2'&gt;
      &lt;table border='0' cellpadding='0' cellspacing='0' mexpr:class='&amp;quot;section-columns columns-&amp;quot; + data:col.num'&gt;
      &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td class='first columns-cell'&gt;
          &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-2-1&amp;quot;'/&gt;
        &lt;/td&gt;

        &lt;td class='columns-cell'&gt;
          &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-2-2&amp;quot;'/&gt;
        &lt;/td&gt;

        &lt;macro:if cond='data:col.num &amp;gt;= 3'&gt;
          &lt;td class='columns-cell'&gt;
            &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-2-3&amp;quot;'/&gt;
          &lt;/td&gt;
        &lt;/macro:if&gt;

        &lt;macro:if cond='data:col.num &amp;gt;= 4'&gt;
          &lt;td class='columns-cell'&gt;
            &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-2-4&amp;quot;'/&gt;
          &lt;/td&gt;
        &lt;/macro:if&gt;
      &lt;/tr&gt;
      &lt;/tbody&gt;
      &lt;/table&gt;

      &lt;macro:if cond='data:col.includeBottom'&gt;
        &lt;b:section mexpr:class='data:col.class' mexpr:id='data:col.idPrefix + &amp;quot;-3&amp;quot;' showaddelement='no'/&gt;
      &lt;/macro:if&gt;
    &lt;/macro:if&gt;
  &lt;/macro:if&gt;
&lt;/macro:includable&gt;

&lt;b:section-contents id='sidebar-right-1'&gt;
  &lt;b:widget id='Profile1' locked='false' title='About Me' type='Profile'&gt;
    &lt;b:includable id='main'&gt;
    &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
      &lt;h2&gt;&lt;data:title/&gt;&lt;/h2&gt;
    &lt;/b:if&gt;
    &lt;div class='widget-content'&gt;
    &lt;b:if cond='data:team == &amp;quot;true&amp;quot;'&gt; &lt;!-- team blog profile --&gt;
      &lt;ul&gt;
        &lt;b:loop values='data:authors' var='i'&gt;
          &lt;li&gt;&lt;a class='profile-name-link g-profile' expr:href='data:i.userUrl' expr:style='&amp;quot;background-image: url(&amp;quot; + data:i.profileLogo + &amp;quot;);&amp;quot;'&gt;&lt;data:i.display-name/&gt;&lt;/a&gt;&lt;/li&gt;
        &lt;/b:loop&gt;
      &lt;/ul&gt;

    &lt;b:else/&gt; &lt;!-- normal blog profile --&gt;

      &lt;b:if cond='data:photo.url != &amp;quot;&amp;quot;'&gt;
        &lt;a expr:href='data:userUrl'&gt;&lt;img class='profile-img' expr:alt='data:photo.alt' expr:height='data:photo.height' expr:src='data:photo.url' expr:width='data:photo.width'/&gt;&lt;/a&gt;
      &lt;/b:if&gt;

      &lt;dl class='profile-datablock'&gt;
        &lt;dt class='profile-data'&gt;
          &lt;a class='profile-name-link g-profile' expr:href='data:userUrl' expr:style='&amp;quot;background-image: url(&amp;quot; + data:profileLogo + &amp;quot;);&amp;quot;' rel='author'&gt;
            &lt;data:displayname/&gt;
          &lt;/a&gt;
          &lt;b:if cond='data:hasgoogleprofile'&gt;
            &lt;br/&gt;
            &lt;div class='g-follow' data-annotation='bubble' data-height='20' expr:data-href='data:userUrl'/&gt;
          &lt;/b:if&gt;
        &lt;/dt&gt;

        &lt;b:if cond='data:showlocation == &amp;quot;true&amp;quot;'&gt;
          &lt;dd class='profile-data'&gt;&lt;data:location/&gt;&lt;/dd&gt;
        &lt;/b:if&gt;

        &lt;b:if cond='data:aboutme != &amp;quot;&amp;quot;'&gt;&lt;dd class='profile-textblock'&gt;&lt;data:aboutme/&gt;&lt;/dd&gt;&lt;/b:if&gt;
      &lt;/dl&gt;
      &lt;a class='profile-link' expr:href='data:userUrl' rel='author'&gt;&lt;data:viewProfileMsg/&gt;&lt;/a&gt;
    &lt;/b:if&gt;

     &lt;b:include name='quickedit'/&gt;
    &lt;/div&gt;
  &lt;/b:includable&gt;
  &lt;/b:widget&gt;
  &lt;b:widget id='HTML2' locked='false' title='Follow Me' type='HTML'&gt;
    &lt;b:includable id='main'&gt;
  &lt;!-- only display title if it's non-empty --&gt;
  &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
    &lt;h2 class='title'&gt;&lt;data:title/&gt;&lt;/h2&gt;
  &lt;/b:if&gt;
  &lt;div class='widget-content'&gt;
    &lt;data:content/&gt;
  &lt;/div&gt;

  &lt;b:include name='quickedit'/&gt;
&lt;/b:includable&gt;
  &lt;/b:widget&gt;
  &lt;b:widget id='Gadget1' locked='false' title='Recent Tweets' type='Gadget'&gt;
    &lt;b:includable id='main'&gt;  
  &lt;!-- only display title if it's non-empty --&gt;
  &lt;b:if cond='data:renderingUrl != &amp;quot;&amp;quot;'&gt;
    &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
      &lt;h2 class='title'&gt;&lt;data:title/&gt;&lt;/h2&gt;
    &lt;/b:if&gt;
    &lt;b:if cond='data:gadgetSnippet != &amp;quot;&amp;quot;'&gt;
       &lt;data:gadgetSnippet/&gt;
    &lt;b:else/&gt;
      &lt;div class='widget-content'&gt;
        &lt;b:if cond='data:nonSocialFragment != &amp;quot;&amp;quot;'&gt;
          &lt;data:nonSocialFragment/&gt;
        &lt;/b:if&gt;
      &lt;/div&gt;
    &lt;/b:if&gt;
  &lt;b:else/&gt;
    &lt;data:errorMessage/&gt;
  &lt;/b:if&gt;

  &lt;b:include name='quickedit'/&gt;
&lt;/b:includable&gt;
  &lt;/b:widget&gt;
  &lt;b:widget id='Label1' locked='false' title='Tag cloud' type='Label'&gt;
    &lt;b:includable id='main'&gt;
  &lt;b:if cond='data:title'&gt;
    &lt;h2&gt;&lt;data:title/&gt;&lt;/h2&gt;
  &lt;/b:if&gt;
  &lt;div expr:class='&amp;quot;widget-content &amp;quot; + data:display + &amp;quot;-label-widget-content&amp;quot;'&gt;
    &lt;b:if cond='data:display == &amp;quot;list&amp;quot;'&gt;
      &lt;ul&gt;
      &lt;b:loop values='data:labels' var='label'&gt;
        &lt;li&gt;
          &lt;b:if cond='data:blog.url == data:label.url'&gt;
            &lt;span expr:dir='data:blog.languageDirection'&gt;&lt;data:label.name/&gt;&lt;/span&gt;
          &lt;b:else/&gt;
            &lt;a expr:dir='data:blog.languageDirection' expr:href='data:label.url'&gt;&lt;data:label.name/&gt;&lt;/a&gt;
          &lt;/b:if&gt;
          &lt;b:if cond='data:showFreqNumbers'&gt;
            &lt;span dir='ltr'&gt;(&lt;data:label.count/&gt;)&lt;/span&gt;
          &lt;/b:if&gt;
        &lt;/li&gt;
      &lt;/b:loop&gt;
      &lt;/ul&gt;
    &lt;b:else/&gt;
      &lt;b:loop values='data:labels' var='label'&gt;
        &lt;span expr:class='&amp;quot;label-size label-size-&amp;quot; + data:label.cssSize'&gt;
          &lt;b:if cond='data:blog.url == data:label.url'&gt;
            &lt;span expr:dir='data:blog.languageDirection'&gt;&lt;data:label.name/&gt;&lt;/span&gt;
          &lt;b:else/&gt;
            &lt;a expr:dir='data:blog.languageDirection' expr:href='data:label.url'&gt;&lt;data:label.name/&gt;&lt;/a&gt;
          &lt;/b:if&gt;
          &lt;b:if cond='data:showFreqNumbers'&gt;
            &lt;span class='label-count' dir='ltr'&gt;(&lt;data:label.count/&gt;)&lt;/span&gt;
          &lt;/b:if&gt;
        &lt;/span&gt;
      &lt;/b:loop&gt;
    &lt;/b:if&gt;
    &lt;b:include name='quickedit'/&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
  &lt;/b:widget&gt;
  &lt;b:widget id='BlogArchive1' locked='false' title='Blog Archive' type='BlogArchive'&gt;
    &lt;b:includable id='main'&gt;
  &lt;b:if cond='data:title'&gt;
    &lt;h2&gt;&lt;data:title/&gt;&lt;/h2&gt;
  &lt;/b:if&gt;
  &lt;div class='widget-content'&gt;
  &lt;div id='ArchiveList'&gt;
  &lt;div expr:id='data:widget.instanceId + &amp;quot;_ArchiveList&amp;quot;'&gt;
    &lt;b:if cond='data:style == &amp;quot;HIERARCHY&amp;quot;'&gt;
     &lt;b:include data='data' name='interval'/&gt;
    &lt;/b:if&gt;
    &lt;b:if cond='data:style == &amp;quot;FLAT&amp;quot;'&gt;
      &lt;b:include data='data' name='flat'/&gt;
    &lt;/b:if&gt;
    &lt;b:if cond='data:style == &amp;quot;MENU&amp;quot;'&gt;
      &lt;b:include data='data' name='menu'/&gt;
    &lt;/b:if&gt;
  &lt;/div&gt;
  &lt;/div&gt;
  &lt;b:include name='quickedit'/&gt;
  &lt;/div&gt;
&lt;/b:includable&gt;
    &lt;b:includable id='flat' var='data'&gt;
  &lt;ul class='flat'&gt;
    &lt;b:loop values='data:data' var='i'&gt;
      &lt;li class='archivedate'&gt;
        &lt;a expr:href='data:i.url'&gt;&lt;data:i.name/&gt;&lt;/a&gt; (&lt;data:i.post-count/&gt;)
      &lt;/li&gt;
    &lt;/b:loop&gt;
  &lt;/ul&gt;
&lt;/b:includable&gt;
    &lt;b:includable id='interval' var='intervalData'&gt;
  &lt;b:loop values='data:intervalData' var='i'&gt;
      &lt;ul class='hierarchy'&gt;
        &lt;li expr:class='&amp;quot;archivedate &amp;quot; + data:i.expclass'&gt;
          &lt;b:include data='i' name='toggle'/&gt;
          &lt;a class='post-count-link' expr:href='data:i.url'&gt;&lt;data:i.name/&gt;&lt;/a&gt;
            &lt;span class='post-count' dir='ltr'&gt;(&lt;data:i.post-count/&gt;)&lt;/span&gt;
          &lt;b:if cond='data:i.data'&gt;
            &lt;b:include data='i.data' name='interval'/&gt;
          &lt;/b:if&gt;
          &lt;b:if cond='data:i.posts'&gt;
            &lt;b:include data='i.posts' name='posts'/&gt;
          &lt;/b:if&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
  &lt;/b:loop&gt;
&lt;/b:includable&gt;
    &lt;b:includable id='menu' var='data'&gt;
  &lt;select expr:id='data:widget.instanceId + &amp;quot;_ArchiveMenu&amp;quot;'&gt;
    &lt;option value=''&gt;&lt;data:title/&gt;&lt;/option&gt;
    &lt;b:loop values='data:data' var='i'&gt;
      &lt;option expr:value='data:i.url'&gt;&lt;data:i.name/&gt; (&lt;data:i.post-count/&gt;)&lt;/option&gt;
    &lt;/b:loop&gt;
  &lt;/select&gt;
&lt;/b:includable&gt;
    &lt;b:includable id='posts' var='posts'&gt;
  &lt;ul class='posts'&gt;
    &lt;b:loop values='data:posts' var='i'&gt;
      &lt;li&gt;&lt;a expr:href='data:i.url'&gt;&lt;data:i.title/&gt;&lt;/a&gt;&lt;/li&gt;
    &lt;/b:loop&gt;
  &lt;/ul&gt;
&lt;/b:includable&gt;
    &lt;b:includable id='toggle' var='interval'&gt;
  &lt;b:if cond='data:interval.toggleId'&gt;
  &lt;b:if cond='data:interval.expclass == &amp;quot;expanded&amp;quot;'&gt;
    &lt;a class='toggle' href='javascript:void(0)'&gt;
      &lt;span class='zippy toggle-open'&gt;&amp;#9660;&amp;#160;&lt;/span&gt;
    &lt;/a&gt;
  &lt;b:else/&gt;
    &lt;a class='toggle' href='javascript:void(0)'&gt;
      &lt;span class='zippy'&gt;
        &lt;b:if cond='data:blog.languageDirection == &amp;quot;rtl&amp;quot;'&gt;
          &amp;#9668;&amp;#160;
        &lt;b:else/&gt;
          &amp;#9658;&amp;#160;
        &lt;/b:if&gt;
      &lt;/span&gt;
    &lt;/a&gt;
  &lt;/b:if&gt;
 &lt;/b:if&gt;
&lt;/b:includable&gt;
  &lt;/b:widget&gt;
  &lt;b:widget id='Subscribe1' locked='false' title='Subscribe To' type='Subscribe'&gt;
    &lt;b:includable id='main'&gt;
  &lt;b:if cond='data:isPublic'&gt;
  &lt;div style='white-space:nowrap'&gt;

    &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
      &lt;h2 class='title'&gt;&lt;data:title/&gt;&lt;/h2&gt;
    &lt;/b:if&gt;
  &lt;div class='widget-content'&gt;
    &lt;b:loop values='data:feeds' var='feed'&gt;
        &lt;div expr:class='&amp;quot;subscribe-wrapper subscribe-type-&amp;quot; + data:feed.type'&gt;


        &lt;div expr:class='&amp;quot;subscribe expanded subscribe-type-&amp;quot; + data:feed.type' expr:id='&amp;quot;SW_READER_LIST_&amp;quot; + data:widgetId + data:feed.type' style='display:none;'&gt;

          &lt;div class='top'&gt;
            &lt;span class='inner' expr:onclick='&amp;quot;return(_SW_toggleReaderList(event, \&amp;quot;&amp;quot; + data:widgetId +data:feed.type + &amp;quot;\&amp;quot;));&amp;quot;'&gt;
              &lt;img class='subscribe-dropdown-arrow' expr:src='data:arrowDropdownImg'/&gt;
              &lt;img align='absmiddle' alt='' border='0' class='feed-icon' expr:src='data:feedIconImg'/&gt;
              &lt;data:feed.title/&gt;
            &lt;/span&gt;

            &lt;div class='feed-reader-links'&gt;
              &lt;a class='feed-reader-link' expr:href='&amp;quot;http://www.netvibes.com/subscribe.php?url=&amp;quot; + data:feed.encodedUrl' target='_blank'&gt;
                &lt;img expr:src='data:imagePathBase + &amp;quot;subscribe-netvibes.png&amp;quot;'/&gt;
              &lt;/a&gt;
              &lt;a class='feed-reader-link' expr:href='&amp;quot;http://add.my.yahoo.com/content?url=&amp;quot; + data:feed.encodedUrl' target='_blank'&gt;
                &lt;img expr:src='data:imagePathBase + &amp;quot;subscribe-yahoo.png&amp;quot;'/&gt;
              &lt;/a&gt;
              &lt;a class='feed-reader-link' expr:href='data:feed.url' target='_blank'&gt;
                &lt;img align='absmiddle' class='feed-icon' expr:src='data:feedIconImg'/&gt;
                Atom
              &lt;/a&gt;
            &lt;/div&gt;

          &lt;/div&gt;
          &lt;div class='bottom'/&gt;
        &lt;/div&gt;

        &lt;div class='subscribe' expr:id='&amp;quot;SW_READER_LIST_CLOSED_&amp;quot; + data:widgetId +data:feed.type' expr:onclick='&amp;quot;return(_SW_toggleReaderList(event, \&amp;quot;&amp;quot; + data:widgetId +data:feed.type + &amp;quot;\&amp;quot;));&amp;quot;'&gt;
          &lt;div class='top'&gt;
             &lt;span class='inner'&gt;
               &lt;img class='subscribe-dropdown-arrow' expr:src='data:arrowDropdownImg'/&gt;
               &lt;span expr:onclick='&amp;quot;return(_SW_toggleReaderList(event, \&amp;quot;&amp;quot; + data:widgetId +data:feed.type + &amp;quot;\&amp;quot;));&amp;quot;'&gt;
                 &lt;img align='absmiddle' alt='' border='0' class='feed-icon' expr:src='data:feedIconImg'/&gt;
                 &lt;data:feed.title/&gt;
               &lt;/span&gt;
             &lt;/span&gt;
           &lt;/div&gt;
          &lt;div class='bottom'/&gt;
        &lt;/div&gt;

      &lt;/div&gt;
    &lt;/b:loop&gt;

    &lt;div style='clear:both'/&gt;

  &lt;/div&gt;
  &lt;/div&gt;

  &lt;b:include name='quickedit'/&gt;

 &lt;/b:if&gt;
&lt;/b:includable&gt;
  &lt;/b:widget&gt;
  &lt;b:widget id='BlogList1' locked='false' title='My Blog List' type='BlogList'&gt;
    &lt;b:includable id='main'&gt;
    &lt;!-- only display title if it's non-empty --&gt;
    &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
      &lt;h2 class='title'&gt;&lt;data:title/&gt;&lt;/h2&gt;
    &lt;/b:if&gt;

    &lt;div class='widget-content'&gt;
      &lt;div class='blog-list-container' expr:id='data:widget.instanceId + &amp;quot;_container&amp;quot;'&gt;
        &lt;ul expr:id='data:widget.instanceId + &amp;quot;_blogs&amp;quot;'&gt;
          &lt;b:loop values='data:items' var='item'&gt;
            &lt;li expr:style='data:item.displayStyle'&gt;
              &lt;div class='blog-icon'&gt;
                &lt;b:if cond='data:showIcon == &amp;quot;true&amp;quot;'&gt;
                  &lt;img expr:data-lateloadsrc='data:item.blogIconUrl' height='16' width='16'/&gt;
                &lt;/b:if&gt;
              &lt;/div&gt;
              &lt;div class='blog-content'&gt;
                &lt;div class='blog-title'&gt;
                  &lt;a expr:href='data:item.blogUrl' target='_blank'&gt;
                    &lt;data:item.blogTitle/&gt;&lt;/a&gt;
                &lt;/div&gt;
                &lt;div class='item-content'&gt;
                  &lt;b:if cond='data:showItemThumbnail == &amp;quot;true&amp;quot;'&gt;
                    &lt;b:if cond='data:item.itemThumbnail'&gt;
                      &lt;div class='item-thumbnail'&gt;
                        &lt;a expr:href='data:item.blogUrl' target='_blank'&gt;
                          &lt;img alt='' border='0' expr:height='data:item.itemThumbnail.height' expr:src='data:item.itemThumbnail.url' expr:width='data:item.itemThumbnail.width'/&gt;
                        &lt;/a&gt;
                      &lt;/div&gt;
                    &lt;/b:if&gt;
                  &lt;/b:if&gt;
                  &lt;b:if cond='data:showItemTitle == &amp;quot;true&amp;quot;'&gt;
                    &lt;span class='item-title'&gt;
                      &lt;b:if cond='data:item.itemUrl != &amp;quot;&amp;quot;'&gt;
                        &lt;a expr:href='data:item.itemUrl' target='_blank'&gt;
                          &lt;data:item.itemTitle/&gt;&lt;/a&gt;
                      &lt;b:else/&gt;
                        &lt;data:item.itemTitle/&gt;
                      &lt;/b:if&gt;
                    &lt;/span&gt;
                  &lt;/b:if&gt;
                  &lt;b:if cond='data:showItemSnippet == &amp;quot;true&amp;quot;'&gt;
                    &lt;b:if cond='data:showItemTitle == &amp;quot;true&amp;quot;'&gt;
                      -
                    &lt;/b:if&gt;
                    &lt;span class='item-snippet'&gt;
                      &lt;data:item.itemSnippet/&gt;
                    &lt;/span&gt;
                  &lt;/b:if&gt;
                  &lt;b:if cond='data:showTimePeriodSinceLastUpdate == &amp;quot;true&amp;quot;'&gt;
                    &lt;div class='item-time'&gt;
                      &lt;data:item.timePeriodSinceLastUpdate/&gt;
                    &lt;/div&gt;
                  &lt;/b:if&gt;
                &lt;/div&gt;
              &lt;/div&gt;
              &lt;div style='clear: both;'/&gt;
            &lt;/li&gt;
          &lt;/b:loop&gt;
        &lt;/ul&gt;

        &lt;b:if cond='data:numItemsToShow != 0'&gt;
          &lt;b:if cond='data:totalItems &amp;gt; data:numItemsToShow'&gt;
            &lt;div class='show-option'&gt;
              &lt;span expr:id='data:widget.instanceId + &amp;quot;_show-n&amp;quot;' style='display: none;'&gt;
                &lt;a href='javascript:void(0)' onclick='return false;'&gt;
                  &lt;data:showNText/&gt;
                &lt;/a&gt;
              &lt;/span&gt;
              &lt;span expr:id='data:widget.instanceId + &amp;quot;_show-all&amp;quot;' style='margin-left: 5px;'&gt;
                &lt;a href='javascript:void(0)' onclick='return false;'&gt;
                  &lt;data:showAllText/&gt;
                &lt;/a&gt;
              &lt;/span&gt;
            &lt;/div&gt;
          &lt;/b:if&gt;
        &lt;/b:if&gt;

        &lt;b:include name='quickedit'/&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/b:includable&gt;
  &lt;/b:widget&gt;
  &lt;b:widget id='HTML1' locked='false' title='' type='HTML'&gt;
    &lt;b:includable id='main'&gt;
  &lt;!-- only display title if it's non-empty --&gt;
  &lt;b:if cond='data:title != &amp;quot;&amp;quot;'&gt;
    &lt;h2 class='title'&gt;&lt;data:title/&gt;&lt;/h2&gt;
  &lt;/b:if&gt;
  &lt;div class='widget-content'&gt;
    &lt;data:content/&gt;
  &lt;/div&gt;

  &lt;b:include name='quickedit'/&gt;
&lt;/b:includable&gt;
  &lt;/b:widget&gt;
&lt;/b:section-contents&gt;&lt;b:section-contents id='footer-1'/&gt;&lt;b:section-contents id='footer-2-1'/&gt;&lt;b:section-contents id='footer-2-2'/&gt;&lt;/html&gt;</content><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/template/default'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/template/default'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_PUBLISHING_MODE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of publishing done for this blog.</title><content type='text'>PUBLISH_MODE_HOSTED</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_PUBLISHING_MODE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_PUBLISHING_MODE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_ADMIN_PERMISSION</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of administrators' emails for the blog.</title><content type='text'>tonyandbarbs@googlemail.com</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ADMIN_PERMISSION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ADMIN_PERMISSION'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_ADULT_CONTENT</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog contains adult content</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ADULT_CONTENT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ADULT_CONTENT'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_ALTERNATE_JSRENDER_ALLOWED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether alternative JS renderings are allowed</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ALTERNATE_JSRENDER_ALLOWED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ALTERNATE_JSRENDER_ALLOWED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_ANALYTICS_ACCOUNT_NUMBER</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog's Google Analytics account number</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ANALYTICS_ACCOUNT_NUMBER'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ANALYTICS_ACCOUNT_NUMBER'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_ARCHIVE_DATE_FORMAT</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the archive index date format</title><content type='text'>9</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ARCHIVE_DATE_FORMAT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ARCHIVE_DATE_FORMAT'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_ARCHIVE_FREQUENCY</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>How frequently this blog should be archived</title><content type='text'>MONTHLY</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ARCHIVE_FREQUENCY'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_ARCHIVE_FREQUENCY'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_AUTHOR_PERMISSION</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of authors' emails who have permission to publish.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_AUTHOR_PERMISSION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_AUTHOR_PERMISSION'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_BACKLINKS_ALLOWED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show comment backlinks on the blog</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_BACKLINKS_ALLOWED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_BACKLINKS_ALLOWED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_BY_POST_ARCHIVING</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to provide an archive page for each post</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_BY_POST_ARCHIVING'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_BY_POST_ARCHIVING'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_ACCESS</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Who can comment</title><content type='text'>ANYONE</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_ACCESS'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_ACCESS'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_CAPTCHA</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to require commenters to complete a Captcha</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_CAPTCHA'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_CAPTCHA'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_EMAIL</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>List of email addresses to which notifications of new comments are sent</title><content type='text'>tonyandbarbs@googlemail.com</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_EMAIL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_EMAIL'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_FEED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for blog comments</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_FEED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_FEED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_FORM_LOCATION</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog comment form location</title><content type='text'>EMBEDDED_IFRAME</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_FORM_LOCATION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_FORM_LOCATION'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_MESSAGE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Blog comment message</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_MESSAGE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_MESSAGE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_MODERATION</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to enable comment moderation</title><content type='text'>ENABLED</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_MODERATION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_MODERATION'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_MODERATION_DELAY</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Number of days after which new comments are subject to moderation</title><content type='text'>14</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_MODERATION_DELAY'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_MODERATION_DELAY'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_MODERATION_EMAIL</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Email address for receiving notifications of new comments that require moderation</title><content type='text'>tonyandbarbs@googlemail.com</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_MODERATION_EMAIL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_MODERATION_EMAIL'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENT_PROFILE_IMAGES</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show profile images in comments</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_PROFILE_IMAGES'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENT_PROFILE_IMAGES'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENTS_ALLOWED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show comments</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENTS_ALLOWED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENTS_ALLOWED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_COMMENTS_TIME_STAMP_FORMAT</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Comment time stamp format number</title><content type='text'>29</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENTS_TIME_STAMP_FORMAT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_COMMENTS_TIME_STAMP_FORMAT'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_CONVERT_LINE_BREAKS</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to convert line breaks into &lt;br /&gt; tags in post editor</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_CONVERT_LINE_BREAKS'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_CONVERT_LINE_BREAKS'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_CUSTOM_PAGE_NOT_FOUND</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The content served when the requested post or page is not found.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_CUSTOM_PAGE_NOT_FOUND'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_CUSTOM_PAGE_NOT_FOUND'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_CUSTOM_ROBOTS_TXT</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The custom robots.txt content of the blog served to search engines.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_CUSTOM_ROBOTS_TXT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_CUSTOM_ROBOTS_TXT'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_CUSTOM_ROBOTS_TXT_ENABLED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog serves custom robots.txt content to search engines.</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_CUSTOM_ROBOTS_TXT_ENABLED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_CUSTOM_ROBOTS_TXT_ENABLED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_DATE_FORMAT</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the date header format</title><content type='text'>26</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_DATE_FORMAT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_DATE_FORMAT'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_DEFAULT_BACKLINKS_MODE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Default backlinks mode for posts</title><content type='text'>DEFAULT_HAVE_BACKLINKS</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_DEFAULT_BACKLINKS_MODE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_DEFAULT_BACKLINKS_MODE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_DEFAULT_COMMENTS_MODE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Default comment mode for posts</title><content type='text'>DEFAULT_HAVE_COMMENTS</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_DEFAULT_COMMENTS_MODE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_DEFAULT_COMMENTS_MODE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_DESCRIPTION</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>A description of the blog</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_DESCRIPTION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_DESCRIPTION'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_EMAIL_POST_LINKS</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show a link for users to email posts</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_EMAIL_POST_LINKS'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_EMAIL_POST_LINKS'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_FEED_REDIRECT_URL</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>URL to redirect post feed requests to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_FEED_REDIRECT_URL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_FEED_REDIRECT_URL'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_FLOAT_ALIGNMENT</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether float alignment is enabled for the blog</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_FLOAT_ALIGNMENT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_FLOAT_ALIGNMENT'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_LOCALE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Language for this blog</title><content type='text'>en_GB</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_LOCALE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_LOCALE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_MAX_NUM</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Maximum number of things to show on the main page"</title><content type='text'>10</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_MAX_NUM'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_MAX_NUM'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_MAX_UNIT</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Unit of things to show on the main page</title><content type='text'>POSTS</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_MAX_UNIT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_MAX_UNIT'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_META_DESCRIPTION</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The meta description of the blog served to search engines.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_META_DESCRIPTION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_META_DESCRIPTION'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_META_DESCRIPTION_ENABLED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog is served with meta descriptions.</title><content type='text'>false</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_META_DESCRIPTION_ENABLED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_META_DESCRIPTION_ENABLED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_NAME</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The name of the blog</title><content type='text'>ArgumentException</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_NAME'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_NAME'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_PER_POST_FEED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for per-post comments</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_PER_POST_FEED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_PER_POST_FEED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_POST_FEED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The type of feed to provide for blog posts</title><content type='text'>FULL</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_POST_FEED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_POST_FEED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_POST_FEED_FOOTER</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Footer to append to the end of each entry in the post feed</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_POST_FEED_FOOTER'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_POST_FEED_FOOTER'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_POST_TEMPLATE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The template for blog posts</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_POST_TEMPLATE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_POST_TEMPLATE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_PROMOTED</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog can be promoted on Blogger</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_PROMOTED'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_PROMOTED'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_QUICK_EDITING</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether Quick Editing is enabled</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_QUICK_EDITING'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_QUICK_EDITING'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_READ_ACCESS_MODE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The access type for the readers of the blog.</title><content type='text'>PUBLIC</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_READ_ACCESS_MODE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_READ_ACCESS_MODE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_READER_PERMISSION</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The list of emails for users who have permission to read the blog.</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_READER_PERMISSION'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_READER_PERMISSION'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_SEARCHABLE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether this blog should be indexed by search engines</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_SEARCHABLE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_SEARCHABLE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_SEND_EMAIL</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Comma-separated list of emails to send new blog posts to</title><content type='text'></content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_SEND_EMAIL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_SEND_EMAIL'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_SHOW_TITLE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show the title field</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_SHOW_TITLE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_SHOW_TITLE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_SHOW_URL</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show a related link box in the post composer</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_SHOW_URL'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_SHOW_URL'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_TIME_STAMP_FORMAT</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The number of the time stamp format</title><content type='text'>27</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_TIME_STAMP_FORMAT'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_TIME_STAMP_FORMAT'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_TIME_ZONE</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>The time zone for this blog</title><content type='text'>Europe/London</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_TIME_ZONE'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_TIME_ZONE'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.settings.BLOG_USE_LIGHTBOX</id><published>2009-04-29T21:28:55.571+01:00</published><updated>2014-05-10T07:54:44.306+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#settings'/><title type='text'>Whether to show images in the Lightbox when clicked</title><content type='text'>true</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_USE_LIGHTBOX'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/settings/BLOG_USE_LIGHTBOX'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-689406594495090206</id><published>2013-10-22T13:39:00.001+01:00</published><updated>2013-10-22T13:39:20.172+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='WCF'/><title type='text'>How to "fiddle" SOAP messages and WCF endpoints.</title><content type='html'>&lt;div dir="ltr" style="text-align: left;" trbidi="on"&gt;
Today I needed a nice easy way to look at the raw SOAP data being sent over the wire between the WCF test client and a custom WCF endpoint. For a quick peek, I figured I’d turn to fiddler for this job, but found very quickly that fiddler didn’t capture the traffic – most likely because fiddler drops itself in as a proxy that your browser uses, but clearly the WCF test client doesn’t.&lt;br /&gt;
&lt;br /&gt;
The fix though is easy.&lt;br /&gt;
&lt;br /&gt;
In WCF tester, add your reference to your service, say http://localhost:12345/myservice.svc. Then, right click on the “Config File” node in WCF tester and select to edit with SvcConfigEditor. Find your endpoint under client -&amp;gt; endpoint, and then change http://localhost:12345/myservice.svc to http://localhost&lt;b&gt;&lt;u&gt;.fiddler&lt;/u&gt;&lt;/b&gt;:12345/myservice.svc and hey presto, the traffic gets pushed through fiddler.&lt;br /&gt;
&lt;br /&gt;
You might wonder why I didn’t just add the service reference as http://localhost.fiddler:12345/myservice.svc - well, when I did that, any method invocations didn’t seem to trace in fiddler. May have been &amp;nbsp;user error on my part, but the above worked for me and I could diagnose the raw SOAP messages.&lt;/div&gt;
</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/689406594495090206/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2013/10/how-to-fiddle-soap-messages-and-wcf.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/689406594495090206'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/689406594495090206'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2013/10/how-to-fiddle-soap-messages-and-wcf.html' title='How to &quot;fiddle&quot; SOAP messages and WCF endpoints.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-614708814232704033</id><published>2012-11-15T15:29:00.000Z</published><updated>2012-11-15T15:29:05.279Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Windows 8 Store: Your Purchase Couldn’t be Completed</title><content type='html'>I've been struggling with this problem - I try to install a free windows 8 store app like trello and it just tells me that a problem occurred and my purchase couldn't be completed.&lt;br /&gt;
&lt;br /&gt;
After googling around and finding a few solutions, none of which worked, I noticed that I had disabled the windows update service (I don't recall doing that but, hey). Enabling and starting the windows update service and magically the windows store worked again.</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/614708814232704033/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2012/11/windows-8-store-your-purchase-couldnt.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/614708814232704033'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/614708814232704033'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/11/windows-8-store-your-purchase-couldnt.html' title='Windows 8 Store: Your Purchase Couldn’t be Completed'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6932215216097356126</id><published>2012-09-28T13:22:00.001+01:00</published><updated>2012-09-28T13:24:10.832+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Sharepoint'/><title type='text'>Using SharePoint 2010 feature upgrades to update existing sites (Part II)</title><content type='html'>&lt;p&gt;For the background to this, read my earlier post – &lt;a href="http://www.deepcode.co.uk/2012/09/using-sharepoint-2010-feature-upgrades.html"&gt;feature upgrades part 1&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;To summarise, we have an existing SharePoint portal, used for managing cases, where each case has it’s own site. We now need to update all case sites to add a web part to the landing page, and to add a new page entirely. Existing sites should be updated, and new sites being provisioned should have the new part and page.&lt;/p&gt;&lt;p&gt;For the source code, go grab it from codeplex here: &lt;a href="http://featureupgradesample.codeplex.com/" target="_blank"&gt;http://featureupgradesample.codeplex.com/&lt;/a&gt;. There are 3 folders within the source, representing the solution at the beginning (001 - Start), after adding the web part upgrade (002 – Adding a web part to existing pages), and after adding the new page upgrade (003 – Adding a new page).&lt;/p&gt;&lt;h3&gt;The starting point&lt;/h3&gt;&lt;p&gt;The solution at the beginning is a simplified version of my client’s solution – it has a site definition for a case site, which references several standard features (publishing etc), and our “CaseSiteContent” feature.&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh3.ggpht.com/-M-D6GmK21uY/UGWWUCLVP1I/AAAAAAAAAXs/QuEUYLHI4Sw/s1600-h/image3.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/--D1wUQoNts8/UGWWUwT-BZI/AAAAAAAAAXw/f7ssxd0B-Bw/image_thumb1.png?imgmax=800" width="204" height="260"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The case site content feature contains a module – which in turn provisions a landing page on the case site with some prescribed web parts.&lt;/p&gt;&lt;p&gt;On our SharePoint portal, for the purposes of this exercise, I’ve provisioned a publishing site as the host, and within that, two case sites based on this starting solution.&lt;/p&gt;&lt;p&gt;A case site presently looks like this;&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh5.ggpht.com/-S1lm2xKGYLk/UGWWVuxBZeI/AAAAAAAAAX8/j9QNb1RM-uQ/s1600-h/image8.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-OtbuUafo7ko/UGWWWR8axZI/AAAAAAAAAYE/-og46DpbhEQ/image_thumb4.png?imgmax=800" width="584" height="317"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Exciting huh? The site contains one page – the landing page, with one content editor web part at the moment.&lt;/p&gt;&lt;h3&gt;Adding the new web part&lt;/h3&gt;&lt;p&gt;What we need to do now is the first part of the problem – add a new web part to these existing sites, and any future ones. Again, I’ll just be adding a content editor web part, to keep life simple.&lt;/p&gt;&lt;p&gt;Note, we aren’t going to touch the site definition. It’s already in use, and therefore shouldn’t be changed. We’re going to apply the updates against the feature.&lt;/p&gt;&lt;p&gt;We start by adding an extra element manifest to the case site content module. At the moment, the elements.xml in this module looks like this;&lt;/p&gt;&lt;div class="csharpcode"&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="html"&gt;xml&lt;/span&gt; &lt;span class="attr"&gt;version&lt;/span&gt;&lt;span class="kwrd"&gt;="1.0"&lt;/span&gt; &lt;span class="attr"&gt;encoding&lt;/span&gt;&lt;span class="kwrd"&gt;="utf-8"&lt;/span&gt;?&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Elements&lt;/span&gt; &lt;span class="attr"&gt;xmlns&lt;/span&gt;&lt;span class="kwrd"&gt;="http://schemas.microsoft.com/sharepoint/"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Module&lt;/span&gt; &lt;span class="attr"&gt;Name&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent"&lt;/span&gt; &lt;span class="attr"&gt;Url&lt;/span&gt;&lt;span class="kwrd"&gt;="$Resources:cmscore,List_Pages_UrlName;"&lt;/span&gt; &lt;span class="attr"&gt;Path&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent\Pages"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;File&lt;/span&gt; &lt;span class="attr"&gt;Url&lt;/span&gt;&lt;span class="kwrd"&gt;="default.aspx"&lt;/span&gt; &lt;span class="attr"&gt;Type&lt;/span&gt;&lt;span class="kwrd"&gt;="GhostableInLibrary"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Property&lt;/span&gt; &lt;span class="attr"&gt;Name&lt;/span&gt;&lt;span class="kwrd"&gt;="Title"&lt;/span&gt; &lt;span class="attr"&gt;Value&lt;/span&gt;&lt;span class="kwrd"&gt;="Landing Page"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Property&lt;/span&gt; &lt;span class="attr"&gt;Name&lt;/span&gt;&lt;span class="kwrd"&gt;="PublishingPageLayout"&lt;/span&gt; &lt;span class="attr"&gt;Value&lt;/span&gt;&lt;span class="kwrd"&gt;="~SiteCollection/_catalogs/masterpage/BlankWebPartPage.aspx"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Property&lt;/span&gt; &lt;span class="attr"&gt;Name&lt;/span&gt;&lt;span class="kwrd"&gt;="ContentType"&lt;/span&gt; &lt;span class="attr"&gt;Value&lt;/span&gt;&lt;span class="kwrd"&gt;="$Resources:cmscore,contenttype_welcomepage_name;"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;&amp;nbsp;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;AllUsersWebPart&lt;/span&gt; &lt;span class="attr"&gt;WebPartZoneID&lt;/span&gt;&lt;span class="kwrd"&gt;="Header"&lt;/span&gt; &lt;span class="attr"&gt;WebPartOrder&lt;/span&gt;&lt;span class="kwrd"&gt;="1"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                &lt;span class="kwrd"&gt;&amp;lt;!&lt;/span&gt;[CDATA[&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;WebPart&lt;/span&gt; &lt;span class="attr"&gt;xmlns:xsi&lt;/span&gt;&lt;span class="kwrd"&gt;="http://www.w3.org/2001/XMLSchema-instance"&lt;/span&gt; &lt;span class="attr"&gt;xmlns:xsd&lt;/span&gt;&lt;span class="kwrd"&gt;="http://www.w3.org/2001/XMLSchema"&lt;/span&gt; &lt;span class="attr"&gt;xmlns&lt;/span&gt;&lt;span class="kwrd"&gt;="http://schemas.microsoft.com/WebPart/v2"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Title&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Hello World&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Title&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Assembly&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Microsoft.SharePoint, Version=14.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Assembly&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;TypeName&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Microsoft.SharePoint.WebPartPages.ContentEditorWebPart&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;TypeName&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Content&lt;/span&gt; &lt;span class="attr"&gt;xmlns&lt;/span&gt;&lt;span class="kwrd"&gt;="http://schemas.microsoft.com/WebPart/v2/ContentEditor"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;​&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;This is a simple case site example with a &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;strong&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Hello World&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;strong&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; webpart in it. Soon it will be updated&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                       via upgrades to add more pages and web parts&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Content&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;WebPart&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;              ]]&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;AllUsersWebPart&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;File&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Module&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Elements&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/div&gt;&lt;style type="text/css"&gt;.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, "Courier New", courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
&lt;/style&gt;  &lt;style type="text/css"&gt;.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, "Courier New", courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
&lt;/style&gt;  &lt;p&gt;Now we could just add a new web part in there, and that would work for new sites being provisioned, but wouldn’t help us with the upgrade of existing sites. So, we’re going to put the new web part in a separate manifest, included in this module (for new sites), but also reference that separate manifest from the upgrade process.&lt;/p&gt;&lt;p&gt;Copy (just ctrl-drag) the elements.xml to elements.01.01.xml, and make sure you set it’s deployment type to ElementManifest;&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh4.ggpht.com/-n0tmGYPKE5Y/UGWWXobkBoI/AAAAAAAAAYM/eQJtawKtwNM/s1600-h/image5.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/-xN0VCG8j-LU/UGWWYd-zHaI/AAAAAAAAAYU/SNY6IEd1SXE/image_thumb2.png?imgmax=800" width="571" height="162"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The content of this new manifest should be as follows (it looks kinda similar to the original, because we’ve just added a slightly different content editor web part).&lt;/p&gt;&lt;div class="csharpcode"&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="html"&gt;xml&lt;/span&gt; &lt;span class="attr"&gt;version&lt;/span&gt;&lt;span class="kwrd"&gt;="1.0"&lt;/span&gt; &lt;span class="attr"&gt;encoding&lt;/span&gt;&lt;span class="kwrd"&gt;="utf-8"&lt;/span&gt;?&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Elements&lt;/span&gt; &lt;span class="attr"&gt;xmlns&lt;/span&gt;&lt;span class="kwrd"&gt;="http://schemas.microsoft.com/sharepoint/"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Module&lt;/span&gt; &lt;span class="attr"&gt;Name&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent"&lt;/span&gt; &lt;span class="attr"&gt;Url&lt;/span&gt;&lt;span class="kwrd"&gt;="$Resources:cmscore,List_Pages_UrlName;"&lt;/span&gt; &lt;span class="attr"&gt;Path&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent\Pages"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;File&lt;/span&gt; &lt;span class="attr"&gt;Url&lt;/span&gt;&lt;span class="kwrd"&gt;="default.aspx"&lt;/span&gt; &lt;span class="attr"&gt;Type&lt;/span&gt;&lt;span class="kwrd"&gt;="GhostableInLibrary"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Property&lt;/span&gt; &lt;span class="attr"&gt;Name&lt;/span&gt;&lt;span class="kwrd"&gt;="Title"&lt;/span&gt; &lt;span class="attr"&gt;Value&lt;/span&gt;&lt;span class="kwrd"&gt;="Landing Page"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Property&lt;/span&gt; &lt;span class="attr"&gt;Name&lt;/span&gt;&lt;span class="kwrd"&gt;="PublishingPageLayout"&lt;/span&gt; &lt;span class="attr"&gt;Value&lt;/span&gt;&lt;span class="kwrd"&gt;="~SiteCollection/_catalogs/masterpage/BlankWebPartPage.aspx"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Property&lt;/span&gt; &lt;span class="attr"&gt;Name&lt;/span&gt;&lt;span class="kwrd"&gt;="ContentType"&lt;/span&gt; &lt;span class="attr"&gt;Value&lt;/span&gt;&lt;span class="kwrd"&gt;="$Resources:cmscore,contenttype_welcomepage_name;"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;&amp;nbsp;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;AllUsersWebPart&lt;/span&gt; &lt;span class="attr"&gt;WebPartZoneID&lt;/span&gt;&lt;span class="kwrd"&gt;="Header"&lt;/span&gt; &lt;span class="attr"&gt;WebPartOrder&lt;/span&gt;&lt;span class="kwrd"&gt;="2"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                &lt;span class="kwrd"&gt;&amp;lt;!&lt;/span&gt;[CDATA[&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;WebPart&lt;/span&gt; &lt;span class="attr"&gt;xmlns:xsi&lt;/span&gt;&lt;span class="kwrd"&gt;="http://www.w3.org/2001/XMLSchema-instance"&lt;/span&gt; &lt;span class="attr"&gt;xmlns:xsd&lt;/span&gt;&lt;span class="kwrd"&gt;="http://www.w3.org/2001/XMLSchema"&lt;/span&gt; &lt;span class="attr"&gt;xmlns&lt;/span&gt;&lt;span class="kwrd"&gt;="http://schemas.microsoft.com/WebPart/v2"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Title&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;New web part&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Title&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Assembly&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Microsoft.SharePoint, Version=14.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Assembly&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;TypeName&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Microsoft.SharePoint.WebPartPages.ContentEditorWebPart&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;TypeName&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Content&lt;/span&gt; &lt;span class="attr"&gt;xmlns&lt;/span&gt;&lt;span class="kwrd"&gt;="http://schemas.microsoft.com/WebPart/v2/ContentEditor"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;​&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;This is a whole new web part&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;                  &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Content&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;WebPart&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;              ]]&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;AllUsersWebPart&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;File&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Module&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Elements&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/div&gt;&lt;style type="text/css"&gt;.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, "Courier New", courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
&lt;/style&gt;  &lt;p&gt;Now, the one thing I’m not sure about here is the impact of defining the same file (default.aspx) in the manifest. When we deploy this, it works as expected, but I’m not sure if there are any other ramifications of doing this. If there are, then using the API to add a web part would probably be a better solution. &lt;/p&gt;&lt;p&gt;After adding the new manifest, you should find that it is included in the containing feature automatically by visual studio. Confirm this by opening the case site content feature, and clicking manifest at the bottom – it should look like this;&lt;/p&gt;&lt;pre class="csharpcode"&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Feature&lt;/span&gt; &lt;span class="attr"&gt;xmlns&lt;/span&gt;&lt;span class="kwrd"&gt;="http://schemas.microsoft.com/sharepoint/"&lt;/span&gt; &lt;span class="attr"&gt;Description&lt;/span&gt;&lt;span class="kwrd"&gt;="Provisions the content necessary for a case site definition."&lt;/span&gt; &lt;span class="attr"&gt;Id&lt;/span&gt;&lt;span class="kwrd"&gt;="48002b3b-317b-4224-bb9d-b1716de3bcdd"&lt;/span&gt; &lt;span class="attr"&gt;Scope&lt;/span&gt;&lt;span class="kwrd"&gt;="Web"&lt;/span&gt; &lt;span class="attr"&gt;Title&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;ElementManifests&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;ElementManifest&lt;/span&gt; &lt;span class="attr"&gt;Location&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent\Elements.xml"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;ElementFile&lt;/span&gt; &lt;span class="attr"&gt;Location&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent\Pages\default.aspx"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;ElementManifest&lt;/span&gt; &lt;span class="attr"&gt;Location&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent\Elements.01.01.xml"&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;ElementManifests&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Feature&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;p&gt;If we deployed now, and created a new site, it would work, but we’re not done yet. First of all we need to add a version number to the feature, and then define how to get from the current version (which will be 0.0.0.0) to our new version.&lt;/p&gt;&lt;p&gt;Open the feature again, and in the properties inspector, set the version property to 1.1.0.0;&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh6.ggpht.com/-lcbbyqf6ud4/UGWWZIq4eGI/AAAAAAAAAYY/BjkvNZ7xUC8/s1600-h/image9.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-riGzs5aFJJc/UGWWaEGu4bI/AAAAAAAAAYk/hQOlnpbsy7k/image_thumb4%25255B1%25255D.png?imgmax=800" width="297" height="288"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Next, we’ll tell SharePoint how to go from version 0.0.0.0 to our current version. From the feature designer, select “Manifest”, then click “Edit Options” from the bottom of the screen, which presents some XML that will be merged with the main feature manifest. Click “Open in XML Editor” to make your life easy and enter the following;&lt;/p&gt;&lt;div class="csharpcode"&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="html"&gt;xml&lt;/span&gt; &lt;span class="attr"&gt;version&lt;/span&gt;&lt;span class="kwrd"&gt;="1.0"&lt;/span&gt; &lt;span class="attr"&gt;encoding&lt;/span&gt;&lt;span class="kwrd"&gt;="utf-8"&lt;/span&gt; ?&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Feature&lt;/span&gt; &lt;span class="attr"&gt;xmlns&lt;/span&gt;&lt;span class="kwrd"&gt;="http://schemas.microsoft.com/sharepoint/"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;UpgradeActions&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;VersionRange&lt;/span&gt; &lt;span class="attr"&gt;BeginVersion&lt;/span&gt;&lt;span class="kwrd"&gt;="0.0.0.0"&lt;/span&gt; &lt;span class="attr"&gt;EndVersion&lt;/span&gt;&lt;span class="kwrd"&gt;="1.1.0.0"&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;ApplyElementManifests&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;                &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;ElementManifest&lt;/span&gt; &lt;span class="attr"&gt;Location&lt;/span&gt;&lt;span class="kwrd"&gt;="CaseSiteContent/Elements.01.01.xml"&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;            &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;ApplyElementManifests&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;VersionRange&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre class="alt"&gt;&lt;font size="1"&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;UpgradeActions&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size="1"&gt;&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Feature&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;&lt;/pre&gt;&lt;/div&gt;&lt;style type="text/css"&gt;.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, "Courier New", courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
&lt;/style&gt;  &lt;p&gt;This is saying, when this feature is upgraded from any version between 0.0.0.0 and up to, but not including 1.1.0.0, apply the new element manifest. So now we have a scenario where, new sites will run this new element manifest in anyway, and set it’s version to 1.1.0.0, and existing sites that aren’t patched up, will, during the upgrade process, run in just this extra manifest.&lt;/p&gt;&lt;p&gt;If we deploy this to SharePoint now, we can create a new case site and it contains our web part:&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh3.ggpht.com/-eob0tfdrN_o/UGWWaoZH4jI/AAAAAAAAAYs/oKUUKYrMh9o/s1600-h/image14.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/-xnVs0lUX_o0/UGWWb4ypxiI/AAAAAAAAAY0/xcANQblGNlM/image_thumb7.png?imgmax=800" width="644" height="307"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;However, our existing sites still aren’t upgraded, and that’s because, the upgrade process doesn’t happen automatically. We need to get each of the sites that uses this feature, get the feature itself and call upgrade on it. We can do this in a number of ways – using powershell, writing a console application, or using Chris O’Briens feature upgrade toolkit. For the purposes of this demo though, we’re going to upgrade sites individually using powershell.&lt;/p&gt;&lt;p&gt;Let’s take a look at the features on the case sites so far. I now have 3 case sites at;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="http://[server]/c1"&gt;http://[server]/c1&lt;/a&gt; (still v0.0.0.0)&lt;br /&gt;
&lt;li&gt;&lt;a href="http://[server]/c2"&gt;http://[server]/c2&lt;/a&gt; (also still v0.0.0.0)&lt;br /&gt;
&lt;li&gt;&lt;a href="http://[server]/c3"&gt;http://[server]/c3&lt;/a&gt; (new, v1.1.0.0)&lt;/li&gt;&lt;br /&gt;
&lt;/ul&gt;&lt;p&gt;We can confirm this with powershell – the following script will allow you to list all the features on a given site, along with the running version and the feature version.&lt;/p&gt;&lt;pre class="csharpcode"&gt;&lt;font size="1"&gt;Param(
    [Parameter(Mandatory=$&lt;span class="kwrd"&gt;true&lt;/span&gt;)]
    [&lt;span class="kwrd"&gt;string&lt;/span&gt;] $site,
    [&lt;span class="kwrd"&gt;string&lt;/span&gt;] $filter)

# Load sharepoint powershell &lt;span class="kwrd"&gt;if&lt;/span&gt; not already loaded
$spSnapIn = Get-PSSnapIn | where {$_.Name -eq &lt;span class="str"&gt;"Microsoft.SharePoint.PowerShell"&lt;/span&gt;}
&lt;span class="kwrd"&gt;if&lt;/span&gt;( $spSnapIn -eq $&lt;span class="kwrd"&gt;null&lt;/span&gt; )
{
    Add-PSSnapIn Microsoft.SharePoint.PowerShell
}

# Get the sharepoint web
$web = get-spweb $site
&lt;span class="kwrd"&gt;if&lt;/span&gt;( $filter ) 
{ 
    $features = $web.features | where {$_.Definition.DisplayName -match $filter} 
}
&lt;span class="kwrd"&gt;else&lt;/span&gt; 
{ 
    $features = $web.features 
}
&lt;/font&gt;
$features | select @{Name=&lt;span class="str"&gt;"Feature"&lt;/span&gt;;Expression={$_.Definition.DisplayName}}, Version, @{Name=&lt;span class="str"&gt;"Feature Version"&lt;/span&gt;;Expression={$_.Definition.Version}}
&lt;/pre&gt;&lt;style type="text/css"&gt;.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, "Courier New", courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
&lt;/style&gt;  &lt;p&gt;Save the above as “ListFeatureVersionsOnSite.ps1” (It’s also in the source code), and run it as follows;&lt;/p&gt;&lt;p&gt;.\ListFeatureVersionsOnSite.ps1 &lt;a href="http://[server]/c1"&gt;http://[server]/c1&lt;/a&gt;&lt;/p&gt;&lt;p&gt;You can also pass a filter parameter to only show features containing the filter value. So in our case, we run it with;&lt;/p&gt;&lt;p&gt;.\ListFeatureVersionsOnSite.ps1 &lt;a href="http://[server]/c1"&gt;http://[server]/c1&lt;/a&gt; CaseSite&lt;/p&gt;&lt;p&gt;And we get this:&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh5.ggpht.com/-FP9aTuufCvc/UGWWc-7wdEI/AAAAAAAAAY8/7f2ovJKGSNI/s1600-h/image19.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-uvjfBnp1GUU/UGWWeH97p3I/AAAAAAAAAZE/m7vxduJByqc/image_thumb10.png?imgmax=800" width="644" height="259"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;As you can see, they all report the feature version as being 1.1, but the first two sites are presently at 0.0.0.0, whilst the new one is up to date. As expected.&lt;/p&gt;&lt;p&gt;So, to upgrade the site, we just need to get the SPWeb object, get the appropriate SPFeature and then call upgrade on it. We can do that with this powershell script.&lt;/p&gt;&lt;pre class="csharpcode"&gt;&lt;font size="1"&gt;Param(
    [Parameter(Mandatory=$&lt;span class="kwrd"&gt;true&lt;/span&gt;)]
    [&lt;span class="kwrd"&gt;string&lt;/span&gt;] $site,
    [Parameter(Mandatory=$&lt;span class="kwrd"&gt;true&lt;/span&gt;)]
    [&lt;span class="kwrd"&gt;string&lt;/span&gt;] $filter
    )

# Load sharepoint powershell &lt;span class="kwrd"&gt;if&lt;/span&gt; not already loaded
$spSnapIn = Get-PSSnapIn | &lt;span class="kwrd"&gt;where&lt;/span&gt; {$_.Name -eq &lt;span class="str"&gt;"Microsoft.SharePoint.PowerShell"&lt;/span&gt;}
&lt;span class="kwrd"&gt;if&lt;/span&gt;( $spSnapIn -eq $&lt;span class="kwrd"&gt;null&lt;/span&gt; )
{
    Add-PSSnapIn Microsoft.SharePoint.PowerShell
}

# Get the sharepoint web
$web = get-spweb $site

# Get our feature
$feature = $web.features | &lt;span class="kwrd"&gt;where&lt;/span&gt; {$_.Definition.DisplayName -match $filter}
&lt;span class="kwrd"&gt;if&lt;/span&gt;( -not($feature))
{
    Write-Host &lt;span class="str"&gt;"Feature $filter not found"&lt;/span&gt;
}
&lt;span class="kwrd"&gt;else&lt;/span&gt;
{
    # Does it need an upgrade?
    &lt;span class="kwrd"&gt;if&lt;/span&gt;( $feature.Version -lt $feature.Definition.Version )
    {
        Write-Host &lt;span class="str"&gt;"Upgrading $feature.Definition.DisplayName from"&lt;/span&gt; $feature.Version &lt;span class="str"&gt;"to"&lt;/span&gt; $feature.Definition.Version
        $feature.Upgrade($&lt;span class="kwrd"&gt;false&lt;/span&gt;)
    }
    &lt;span class="kwrd"&gt;else&lt;/span&gt;
    {
        Write-Host &lt;span class="str"&gt;"$feature.Definition.DisplayName is already up to date at"&lt;/span&gt; $feature.Version
    }
}&lt;/font&gt;
&lt;/pre&gt;&lt;style type="text/css"&gt;.csharpcode, .csharpcode pre
{
 font-size: small;
 color: black;
 font-family: consolas, "Courier New", courier, monospace;
 background-color: #ffffff;
 /*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
 background-color: #f4f4f4;
 width: 100%;
 margin: 0em;
}
.csharpcode .lnum { color: #606060; }
&lt;/style&gt;  &lt;p&gt;Run it as UpgradeFeatureOnSite.ps1 [site] [featurefilter]. Here’s it running for case site one, which needed an upgrade:&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh4.ggpht.com/-2xlpP6d9F-Q/UGWWfHqe9RI/AAAAAAAAAZI/AnfRkOH3eo8/s1600-h/image23.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-pmt1Ov5Kgt4/UGWWf9A7RdI/AAAAAAAAAZU/Gl9BjuM9vqQ/image_thumb12.png?imgmax=800" width="644" height="43"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Out of interest, running it against case site 3 which is already at v1.1.0.0 does this;&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh6.ggpht.com/-sx8rN-M8lBs/UGWWhwOVawI/AAAAAAAAAZY/lxCQPT4LhC0/s1600-h/image28.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-hkj7beoFmGs/UGWWiU-RfcI/AAAAAAAAAZk/GY9vpruqPIs/image_thumb15.png?imgmax=800" width="644" height="46"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;We run the script in against all of our sites, and then we can confirm the feature versions again using the script above. All the sites should report as now being at version 1.1.0.0&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh6.ggpht.com/-or-G9y48HTs/UGWWjts-43I/AAAAAAAAAZs/bqSX18WkkQA/s1600-h/image32.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-j7excr61jQI/UGWWkMbi7LI/AAAAAAAAAZw/CwWc9kHvmAg/image_thumb17.png?imgmax=800" width="644" height="224"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;If we then take a look at our older case sites – we see the new element manifest has been applied and our new web part appears;&lt;/p&gt;&lt;p&gt;&lt;a href="http://lh6.ggpht.com/-_jxfd40Ol9I/UGWWlLsgUvI/AAAAAAAAAZ8/SqQqnKSS7wI/s1600-h/image36.png"&gt;&lt;img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-wpXiWZR8hy0/UGWWmwDbr8I/AAAAAAAAAaE/CPS2gmSpIDQ/image_thumb19.png?imgmax=800" width="644" height="379"&gt;&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;Adding the new page&lt;/h3&gt;&lt;p&gt;The process to add a new page would be the same, I’ve gone ahead and demonstrated that in the source code, but I’m not going to detail it here. It’s exactly the same;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Add another element manifest&lt;br /&gt;
&lt;li&gt;Increase the version of the feature (1.2)&lt;br /&gt;
&lt;li&gt;Add a new version range to the upgrade manifest, starting at 1.1 and ending at the new version (1.2), and reference the same element manifest.&lt;br /&gt;
&lt;li&gt;Deploy it&lt;br /&gt;
&lt;li&gt;Run the upgrade process across the existing sites&lt;/li&gt;&lt;br /&gt;
&lt;/ol&gt;&lt;h3&gt;Source code&lt;/h3&gt;&lt;p&gt;Is available here: &lt;a href="http://featureupgradesample.codeplex.com/" target="_blank"&gt;http://featureupgradesample.codeplex.com/&lt;/a&gt;&lt;/p&gt;&lt;h3&gt;Footnotes and disclaimers&lt;/h3&gt;&lt;p&gt;Here’s the “it works on my machine” bit!&lt;/p&gt;&lt;ul&gt;&lt;li&gt;I’m still not 100% about the duplicate file being put in the pages library across separate manifests. I’m hoping someone can assure me this is ok, otherwise, my plan would be to instead;  &lt;ul&gt;&lt;li&gt;Put the new web part in the main manifest file (for new sites)&lt;br /&gt;
&lt;li&gt;Use the custom upgrade action to trigger the feature upgrading code in a feature receiver, which will use the limited web part manager to inject the new web part.&lt;/li&gt;&lt;br /&gt;
&lt;/ul&gt;&lt;li&gt;A caveat.  &lt;ul&gt;&lt;li&gt;If you have sites with a customised page that is checked out/not published yet which the upgrade process is targeting, the upgrade manifest won’t work. If you have this scenario, it might be an idea to use code, to ensure the page is checked in and published before it changes it.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;And lastly, for upgrading features en-masse, take a look at the feature upgrade tool from Chris O’Brien – it’s on codeplex too, here: &lt;a href="http://spfeatureupgrade.codeplex.com/" target="_blank"&gt;http://spfeatureupgrade.codeplex.com/&lt;/a&gt;&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6932215216097356126/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2012/09/using-sharepoint-2010-feature-upgrades_28.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6932215216097356126'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6932215216097356126'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/09/using-sharepoint-2010-feature-upgrades_28.html' title='Using SharePoint 2010 feature upgrades to update existing sites (Part II)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/--D1wUQoNts8/UGWWUwT-BZI/AAAAAAAAAXw/f7ssxd0B-Bw/s72-c/image_thumb1.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-669482541317925551</id><published>2012-09-28T08:55:00.001+01:00</published><updated>2012-09-28T08:55:18.867+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Sharepoint'/><title type='text'>Using SharePoint 2010 feature upgrades to update existing sites.</title><content type='html'>&lt;p&gt;One of my clients has a large SharePoint application, used for managing cases. As each case is raised, a new SharePoint site is provisioned and there, collaborators work together to move the case through to a resolution. Ultimately, the SharePoint site is used as the collaboration portal, the document store, and to surface an MVC application that provides the bulk of the functionality and process management through K2 workflow.&lt;/p&gt; &lt;p&gt;The system does a lot more than that, but for the purposes of this post, that’s enough background. Suffice it to say, it’s 3+ years old now and contains ten’s of thousands of case sites, and they need some changes.&lt;/p&gt; &lt;p&gt;Two of these changes are actually what I’d imagine are quite common scenarios. They need to;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Create some new functionality, and provision a new web part on all existing case sites (and have the new web part on new one’s too of course)&lt;/li&gt; &lt;li&gt;Add a new page to all case sites, with another set of web parts.&lt;/li&gt;&lt;/ul&gt; &lt;p&gt;I wasn’t sure how to do this initially. If you know me, you’re aware that my speciality is application development, so the MVC part of this project, and I know enough SharePoint to get by, but this one had me stumped for a day.&lt;/p&gt; &lt;p&gt;The structure of the SharePoint solution is quite straight forward – for a case site, we have;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;A “case site” site definition.&lt;/li&gt; &lt;li&gt;Several “features” associated with the site definition (not stapled, just each feature activated through the site definition).&lt;/li&gt; &lt;li&gt;One of these features contains a module, which provisions the pages of the case site and the web parts contained therein.&lt;/li&gt;&lt;/ul&gt; &lt;h3&gt;&amp;nbsp;&lt;/h3&gt; &lt;h3&gt;The first experiment&lt;/h3&gt; &lt;p&gt;The first thing I tried, was just updating the page provisioning module to add the web parts. As I figured, this failed – it worked fine for new sites, but existing sites didn’t have the new web parts added to them, so I started reading up on the feature upgrade capabilities of SharePoint. I found these articles useful:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href="http://sisharepoint.wordpress.com/2010/01/21/using-the-featureupgrading-event-to-upgrade-features-sharepoint-2010/" target="_blank"&gt;Using the FeatureUpgrading event to upgrade features.&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="http://blog.petermunch.net/2010/04/30/versioning-and-upgrading-your-features-with-sharepoint-2010-application-lifecycle-management/" target="_blank"&gt;Versioning and upgrading your features with SharePoint 2010 ALM&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="http://www.sharepointnutsandbolts.com/2010/06/feature-upgrade-part-1-fundamentals.html" target="_blank"&gt;Chris O’Brien’s feature upgrade series&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt; &lt;h3&gt;&amp;nbsp;&lt;/h3&gt; &lt;h3&gt;Solving it&lt;/h3&gt; &lt;p&gt;So, armed with my new-found knowledge (ha), I finally got this working. In my next post I’ll address two scenarios, and provide all the source code that demonstrates the approach I settled on.&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Adding a web part to a sharepoint page, and upgrading the one’s already in use.&lt;/li&gt; &lt;li&gt;Adding a new page to a sharepoint site, and adding it to existing sites.&lt;/li&gt;&lt;/ul&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/669482541317925551/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2012/09/using-sharepoint-2010-feature-upgrades.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/669482541317925551'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/669482541317925551'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/09/using-sharepoint-2010-feature-upgrades.html' title='Using SharePoint 2010 feature upgrades to update existing sites.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-181858712702509633</id><published>2012-06-27T16:40:00.001+01:00</published><updated>2012-06-27T16:40:56.294+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><title type='text'>MSFT Frustrations</title><content type='html'>&lt;p&gt;Anyone else wondering who’s calling the shots over in Redmond at the moment? I wonder if they realise just how hard they are making things for us developers? Things that are bugging me at the moment include;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;They still think IE is king and continue to build products like CRM to be IE only.&lt;/li&gt; &lt;li&gt;They don’t force a better world by making IE updates be “required” on windows update – imagine if IE7 disappeared overnight!&lt;/li&gt; &lt;li&gt;Stupid decisions like the one to not support IE9 on XP.&lt;/li&gt; &lt;li&gt;Marketing hype – like CRM is a development platform, when there’s no development story around it at all.&lt;/li&gt;&lt;/ul&gt; &lt;p&gt;The reason I’m so narked today is, I’m working on a project that features significant integration to CRM Online, which has limited options for heavy customisation. To do anything useful, you either need to use Silverlight or an externally hosted ASP.NET app (on azure in my case) and use single sign on between the two. And this presents a set of problems;&lt;/p&gt; &lt;ul&gt; &lt;li&gt;This is an application within a large enterprise.&lt;/li&gt; &lt;li&gt;They still have thousands of desktops using XP&lt;/li&gt; &lt;li&gt;They still have thousands of desktops with IE7&lt;/li&gt; &lt;li&gt;They also have chrome on all these desktops.&lt;/li&gt; &lt;li&gt;The requirement is for a rich, HTML5 UI&lt;/li&gt; &lt;ul&gt; &lt;li&gt;Think single page apps, backbone, moustache, rest interfaces and an MVC application marshalling requests for data to CRM and a bunch of external services.&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt; &lt;p&gt;You can probably see where I’m going with this.&lt;/p&gt; &lt;ul&gt; &lt;li&gt;A HTML5 UI won’t work on IE7 – it’s not compliant with many of the standards needed, meaning we need to work in lots of IE7 specific mark-up and styling.&lt;/li&gt; &lt;li&gt;To test IE7, I need a virtual environment.&lt;/li&gt; &lt;li&gt;I can’t switch to chrome as dynamics thinks it’s a mobile browser.&lt;/li&gt; &lt;li&gt;I can’t upgrade to IE9 as it’s not available on XP.&lt;/li&gt; &lt;li&gt;Upgrading thousands of desktops to Windows 7 and IE9 isn’t going to happen overnight.&lt;/li&gt; &lt;li&gt;I can’t use Silverlight – it’s dead technology. (We all know there isn’t going to be a Silverlight 6)&lt;/li&gt;&lt;/ul&gt; &lt;p&gt;It’s not the end of the world, but I am confused by their lack of co-operation across divisions. &lt;/p&gt; &lt;p&gt;Why couldn’t they have just put the effort in to make dynamics cross browser? Why don’t they just force us all to upgrade to the latest and greatest through windows update? Why don’t they learn from chrome and make IE9 available on XP? Why kill off a perfectly good RIA technology for LOB applications.&lt;/p&gt; &lt;p&gt;To their credit, as far as CRM is concerned, there is an update coming – the Q2 2012 update for CRM will be cross browser, so I guess I should be thankful there, but we’re going live on Monday, so that doesn’t help with immediate concerns.&lt;/p&gt; &lt;p&gt;I look forward to the day when CRM has a real developer story similar at least to SharePoint solutions, to when cross domain calls are properly nailed and ubiquitous in the browser, where single sign on is a breeze and where everyone’s browser is fully compliant with the latest standards. &lt;/p&gt; &lt;p&gt;I can dream…. &lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/181858712702509633/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2012/06/msft-frustrations.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/181858712702509633'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/181858712702509633'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/06/msft-frustrations.html' title='MSFT Frustrations'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5251269188050350598</id><published>2011-11-28T19:48:00.000Z</published><updated>2011-11-28T19:48:00.356Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='NHibernate'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><title type='text'>NHibernate query patterns redux– what does 3.2 bring to the table?</title><content type='html'>&lt;p&gt;Some time ago, I wrote a brief cookbook of &lt;a href="http://www.deepcode.co.uk/2009/07/query-nhibernate-simple-query-patterns.html"&gt;NHibernate query patterns&lt;/a&gt;. In this post I’m going to look at the same query patterns, but using some of the new features of NHibernate 3 – specifically the baked in Linq provider that makes querying a breeze. I’ve published the code for this to &lt;a href="http://dcsamples.codeplex.com/" target="_blank"&gt;codeplex here&lt;/a&gt;.&lt;/p&gt;  &lt;p&gt;If you want to follow along, you’ll need the &lt;a href="http://msftdbprodsamples.codeplex.com/"&gt;adventure works sample database&lt;/a&gt; set up on your SQL server. I’m also going to ignore the mapping configuration for now, but in the sample code, I’ve used the HBM mapping format – if I were doing this “for real” though, I’d be using the new “Loquacious” configuration features to map up my domain classes – why it’s called Loquacious, I have no idea, but it’s basically a baked in replacement for fluent NHibernate.&lt;/p&gt;  &lt;p&gt;Ok, so the tables we’re interested in for this exercise are shown below;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://lh5.ggpht.com/-Dp7hBRt0zXI/TtOtRyoSSEI/AAAAAAAAAXQ/bVZv4MxTqcM/s1600-h/image16.png"&gt;&lt;img style="display: inline" title="image" alt="image" src="http://lh3.ggpht.com/-GaVVf--Hu2U/TtOtSfvqPkI/AAAAAAAAAXY/6AjN1cRGMmw/image_thumb4.png?imgmax=800" width="579" height="480" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;h3&gt;Find all addresses in the city of London.&lt;/h3&gt;  &lt;p&gt;Starting out nice and easy;&lt;/p&gt;  &lt;h3&gt;   &lt;div id="codeSnippetWrapper"&gt;     &lt;div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"&gt;       &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum1"&gt;   1:&lt;/span&gt; var query = from a &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Address&amp;gt;() &lt;/pre&gt;
&lt;!--CRLF--&gt;

      &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum2"&gt;   2:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; a.City == &lt;span style="color: #006080"&gt;&amp;quot;London&amp;quot;&lt;/span&gt; &lt;/pre&gt;
&lt;!--CRLF--&gt;

      &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum3"&gt;   3:&lt;/span&gt;             select a;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
  &lt;/div&gt;
Find all addresses in London, where postcode starts with SW&lt;/h3&gt;

&lt;p&gt;Still pretty simple, but a good test of how the provider translates the string operation “StartsWith” into SQL;&lt;/p&gt;

&lt;div id="codeSnippetWrapper"&gt;
  &lt;div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"&gt;
    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum1"&gt;   1:&lt;/span&gt; var query = from a &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Address&amp;gt;() &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum2"&gt;   2:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; a.City == &lt;span style="color: #006080"&gt;&amp;quot;London&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; a.PostCode.StartsWith(&lt;span style="color: #006080"&gt;&amp;quot;SW&amp;quot;&lt;/span&gt;) &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum3"&gt;   3:&lt;/span&gt;             select a;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;h3&gt;Find all addresses with a parent state/province that has a country/region code of GB&lt;/h3&gt;

&lt;p&gt;Querying down a join is simplistic;&lt;/p&gt;

&lt;div id="codeSnippetWrapper"&gt;
  &lt;div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"&gt;
    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum1"&gt;   1:&lt;/span&gt; var query = from a &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Address&amp;gt;() &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum2"&gt;   2:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; a.StateProvince.CountryCode == &lt;span style="color: #006080"&gt;&amp;quot;GB&amp;quot;&lt;/span&gt; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum3"&gt;   3:&lt;/span&gt;             select a;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;h3&gt;Find all addresses with a parent state/province that has a country/region code of GB or FR&lt;/h3&gt;

&lt;p&gt;Still straight forward;&lt;/p&gt;

&lt;div id="codeSnippetWrapper"&gt;
  &lt;div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"&gt;
    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum1"&gt;   1:&lt;/span&gt; var query = from a &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Address&amp;gt;() &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum2"&gt;   2:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; a.StateProvince.CountryCode == &lt;span style="color: #006080"&gt;&amp;quot;GB&amp;quot;&lt;/span&gt; || a.StateProvince.CountryCode == &lt;span style="color: #006080"&gt;&amp;quot;FR&amp;quot;&lt;/span&gt; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum3"&gt;   3:&lt;/span&gt;             select a;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;h3&gt;Find all customer accounts with a &amp;quot;Home” address in the region of GB&lt;/h3&gt;

&lt;p&gt;Getting a bit more complex, we’re joining in the chain from customer to address to do some filtering. The query this generates is still nice and efficient;&lt;/p&gt;

&lt;div id="codeSnippetWrapper"&gt;
  &lt;div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"&gt;
    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum1"&gt;   1:&lt;/span&gt; var query = from c &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Customer&amp;gt;()&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum2"&gt;   2:&lt;/span&gt;             join ca &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;CustomerAddress&amp;gt;() on c equals ca.Customer&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum3"&gt;   3:&lt;/span&gt;             join a &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Address&amp;gt;() on ca.Address equals a&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum4"&gt;   4:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; ca.Type.Name == &lt;span style="color: #006080"&gt;&amp;quot;Home&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; a.StateProvince.CountryCode == &lt;span style="color: #006080"&gt;&amp;quot;GB&amp;quot;&lt;/span&gt;&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum5"&gt;   5:&lt;/span&gt;             select c;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;h3&gt;Find all customer accounts with a “Home” address in the region of GB with more than one order&lt;/h3&gt;

&lt;p&gt;Now, this sounds complex, but actually, it’s the same query as above, but with some projections. No need to join the orders table in;&lt;/p&gt;

&lt;div id="codeSnippetWrapper"&gt;
  &lt;div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"&gt;
    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum1"&gt;   1:&lt;/span&gt; var query = from c &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Customer&amp;gt;()&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum2"&gt;   2:&lt;/span&gt;             join ca &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;CustomerAddress&amp;gt;() on c equals ca.Customer&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum3"&gt;   3:&lt;/span&gt;             join a &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Address&amp;gt;() on ca.Address equals a&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum4"&gt;   4:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; ca.Type.Name == &lt;span style="color: #006080"&gt;&amp;quot;Home&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; a.StateProvince.CountryCode == &lt;span style="color: #006080"&gt;&amp;quot;GB&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum5"&gt;   5:&lt;/span&gt;                   c.Orders.Count() &amp;gt; 1&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum6"&gt;   6:&lt;/span&gt;             select c;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;h3&gt;Find all customer accounts with a “Home” address in the region of GB with more than 2 orders and a total spend over $6000&lt;/h3&gt;

&lt;p&gt;Building on the last query, let’s do some more projections for our query.&lt;/p&gt;













&lt;div id="codeSnippetWrapper"&gt;
  &lt;div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px" id="codeSnippet"&gt;
    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum1"&gt;   1:&lt;/span&gt; var query = from c &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Customer&amp;gt;()&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum2"&gt;   2:&lt;/span&gt;             join ca &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;CustomerAddress&amp;gt;() on c equals ca.Customer&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum3"&gt;   3:&lt;/span&gt;             join a &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; _session.Query&amp;lt;Address&amp;gt;() on ca.Address equals a&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum4"&gt;   4:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; ca.Type.Name == &lt;span style="color: #006080"&gt;&amp;quot;Home&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; a.StateProvince.CountryCode == &lt;span style="color: #006080"&gt;&amp;quot;GB&amp;quot;&lt;/span&gt; &amp;amp;&amp;amp; &lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: white; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum5"&gt;   5:&lt;/span&gt;                   c.Orders.Count() &amp;gt; 2 &amp;amp;&amp;amp; c.Orders.Sum( ov =&amp;gt; ov.Total ) &amp;gt; 6000&lt;/pre&gt;
&lt;!--CRLF--&gt;

    &lt;pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; background-color: #f4f4f4; margin: 0em; border-left-style: none; padding-left: 0px; width: 100%; padding-right: 0px; font-family: &amp;#39;Courier New&amp;#39;, courier, monospace; direction: ltr; border-top-style: none; color: black; border-right-style: none; font-size: 8pt; overflow: visible; padding-top: 0px"&gt;&lt;span style="color: #606060" id="lnum6"&gt;   6:&lt;/span&gt;             select c;&lt;/pre&gt;
&lt;!--CRLF--&gt;&lt;/div&gt;
&lt;/div&gt;



&lt;h3&gt;In closing….&lt;/h3&gt;

&lt;p&gt;In my opinion, this makes life much easier than trying to remember how to use aliases, detached criteria and so on – although if you prefer that mechanism, it’s all still there, please yourself &lt;img style="border-bottom-style: none; border-left-style: none; border-top-style: none; border-right-style: none" class="wlEmoticon wlEmoticon-smile" alt="Smile" src="http://lh6.ggpht.com/-hzMdNlmYV5E/TtOtULs-moI/AAAAAAAAAXg/3Pzwf_Fp_UQ/wlEmoticon-smile%25255B2%25255D.png?imgmax=800" /&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5251269188050350598/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/11/nhibernate-query-patterns-redux-what.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5251269188050350598'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5251269188050350598'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/11/nhibernate-query-patterns-redux-what.html' title='NHibernate query patterns redux– what does 3.2 bring to the table?'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/-GaVVf--Hu2U/TtOtSfvqPkI/AAAAAAAAAXY/6AjN1cRGMmw/s72-c/image_thumb4.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1978874082141208126</id><published>2011-09-27T23:32:00.001+01:00</published><updated>2011-09-27T23:32:10.773+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='General Guff'/><category scheme='http://www.blogger.com/atom/ns#' term='events'/><category scheme='http://www.blogger.com/atom/ns#' term='Links'/><title type='text'>DRL DevJam 2011</title><content type='html'>&lt;p&gt;As you may or may not know, I changed jobs in June (around the time of my last post) and my new employer has been keeping me pretty much swamped. If you’d like to complain about the lack of Orchard posts and other general guff, you can now do it in person! We’re hosting a developer evening at our head office here in Bolton – come along and not only can you beg my boss to give me some time to build more samples and posts, but also we’ve got a pretty decent evening planned including;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;A coding challenge competition with &lt;strong&gt;prizes!&lt;/strong&gt;&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;£100 amazon vouchers&lt;/li&gt;      &lt;li&gt;Super top range mouse and keyboard&lt;/li&gt;      &lt;li&gt;Command launcher USB pens&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Fun&lt;/li&gt;    &lt;li&gt;Lots of discussion about technology, kanban, lean and other agile-y topics&lt;/li&gt;    &lt;li&gt;Fun&lt;/li&gt;    &lt;li&gt;Food and drinks (there will be a healthy option if you want it!)&lt;/li&gt;    &lt;li&gt;Fun&lt;/li&gt;    &lt;li&gt;A caricature to remind you of your evening with us.&lt;/li&gt;    &lt;li&gt;And more fun…&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;This is a new thing for us, it might become a regular gathering, or it might be a one off, we’ll see how it goes, but part of the reason for the event is, we’re looking for bright individuals like you to join our teams and we figured holding a nice geek out party (or DevJam as we like to call it) would be a great way to get to know you and you us.&lt;/p&gt;  &lt;p&gt;So, if you’re interested, the date is 24th October 2011, from 6:30pm until 9pm. You can get more information about the event, our company and to register for your &lt;strong&gt;free&lt;/strong&gt; place here: &lt;a href="http://www.eventbrite.com/event/2173571210/efbnen"&gt;http://www.eventbrite.com/event/2173571210/efbnen&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Hope to see you there!&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1978874082141208126/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/09/drl-devjam-2011.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1978874082141208126'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1978874082141208126'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/09/drl-devjam-2011.html' title='DRL DevJam 2011'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249</id><published>2011-06-08T16:17:00.001+01:00</published><updated>2011-07-03T19:47:02.935+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Orchard'/><category scheme='http://www.blogger.com/atom/ns#' term='RealWorldOrchard'/><title type='text'>Real world Orchard CMS–part 7–finding content</title><content type='html'>&lt;p&gt;As I said in my&lt;a href="http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html"&gt; earlier post&lt;/a&gt;, this series is about creating a real world site with &lt;a href="http://orchardproject.net/"&gt;Orchard CMS&lt;/a&gt;, I’m not covering using Orchard to manage the site, just the technical development parts. All of the code is available on codeplex here : &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com/&lt;/a&gt; (the code for this post is in part-07 subdirectory)&lt;/p&gt;  &lt;h4&gt;&lt;strong&gt;Preamble&lt;/strong&gt;&lt;/h4&gt;  &lt;p&gt;In this post I want to take a look at how we can use the orchard API to discover content. Continuing in the series with our fictitious product company, we want our product pages to be able to easily display a list of related content. We’ll find this content using the built in tags module that orchard provides and we’ll build a widget that allows us to find content with specific tags and display it as a list. Our spec is pretty simple;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Allow administrator to drop a widget on a layer to find content that has specific tags. &lt;/li&gt;    &lt;li&gt;Allow the widget to be configured to require that for content to match it only needs to have one of the tags &lt;/li&gt;    &lt;li&gt;Allow the widget to be configured to require that for content to match it needs to have all of the tags &lt;/li&gt;    &lt;li&gt;Allow the widget to control whether or not the current page/content should be excluded if it were to match the tags &lt;/li&gt;    &lt;li&gt;Allow the widget to be configured to only retrieve N content items. &lt;/li&gt;    &lt;li&gt;Allow the widget to be configured to present a simple list of content item titles as links or to display the content item in summary form. &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Doing this we can use the widget for a variety of purposes;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Display a list of featured content on the homepage (content tagged “featured” and “home”) &lt;/li&gt;    &lt;li&gt;Display a list of related content within a product page (content tagged “product-X”) &lt;/li&gt;    &lt;li&gt;Display a list of FAQ articles and posts within a product page (content tagged “product-X” and “faq”) &lt;/li&gt;    &lt;li&gt;etc… &lt;/li&gt; &lt;/ul&gt;  &lt;h4&gt;Setting up&lt;/h4&gt;  &lt;p&gt;Well, we’ve got to start with our old friends that make up the overall widget the record, part, handler, driver, migration, placement.info, module.txt and editor and display templates (phew! a lot of plumbing huh?). I’ve covered these topics in a fair amount of detail already and the docs are already quite extensive so for this post I’ll discuss mainly the driver in more detail as this is where the guts of the content discovery goes on;&lt;/p&gt;  &lt;p&gt;First of all, let’s start with the record: in the SampleSiteModule project, create /models/RelatedContentWidgetRecord.cs;&lt;/p&gt;  &lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Records;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;RelatedContent&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; RelatedContentWidgetRecord : ContentPartRecord
    {    
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; TagList { get; set; }
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; MaxItems { get; set; }
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;bool&lt;/span&gt; ExcludeCurrentItemIfMatching { get; set; }
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;bool&lt;/span&gt; MustHaveAllTags { get; set; }
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;bool&lt;/span&gt; ShowListOnly { get; set; }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Remember our module is exposing all of it’s different components as features that can be independently turned on/off, hence why all of our code is marked with the OrchardFeature attribute. The record describes all the settings we’ll use for our widget – the TagList property will be a comma separated list of tags to search for, MaxItems will control how many items we get at most, and the three bools control the widget behaviour – ExcludeCurrentItemIfMatching will strip out the current content item if it matches the rules (so a link to the current page doesn’t appear in the widget’s list), MustHaveAllTags controls whether all the specified tags must be present on the content items to be deemed a match or whether if can just contain at least one of them and ShowListOnly will allow the widget to render a simple list of links or a full blown summary view of the content items.&lt;/p&gt;

&lt;p&gt;Next, we need to wrap the record up in a part - /models/RelatedContentWidgetPart.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System.ComponentModel;
&lt;span class="kwrd"&gt;using&lt;/span&gt; System.ComponentModel.DataAnnotations;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;RelatedContent&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; RelatedContentWidgetPart : ContentPart&amp;lt;RelatedContentWidgetRecord&amp;gt;
    {
        [Required]
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; TagList
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.TagList; }
            set { Record.TagList = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }

        [Required]
        [DefaultValue(5)]
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; MaxItems
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.MaxItems; }
            set { Record.MaxItems = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }

        [DefaultValue(&lt;span class="kwrd"&gt;true&lt;/span&gt;)]
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;bool&lt;/span&gt; ExcludeCurrentItemIfMatching
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.ExcludeCurrentItemIfMatching; }
            set { Record.ExcludeCurrentItemIfMatching = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }
        
        [DefaultValue(&lt;span class="kwrd"&gt;false&lt;/span&gt;)]
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;bool&lt;/span&gt; MustHaveAllTags 
        { 
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.MustHaveAllTags; }
            set { Record.MustHaveAllTags = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }

        [DefaultValue(&lt;span class="kwrd"&gt;true&lt;/span&gt;)]
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;bool&lt;/span&gt; ShowListOnly
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.ShowListOnly; }
            set { Record.ShowListOnly = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Nothing groundbreaking in there, so moving swiftly on, the handler – /handlers/RelatedContentWidgetRecordHandler.cs&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Handlers;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Data;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Handlers
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;RelatedContent&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; RelatedContentWidgetRecordHandler : ContentHandler
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; RelatedContentWidgetRecordHandler(IRepository&amp;lt;RelatedContentWidgetRecord&amp;gt; repository)
        {
            Filters.Add(StorageFilter.For(repository));
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;And the driver – for now, just create the following shell and we’ll build it up in a second – /drivers/RelatedContentWidgetDriver.cs&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Drivers;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Drivers
{
    &lt;span class="rem"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span class="rem"&gt;/// Content part driver for the related content widget&lt;/span&gt;
    &lt;span class="rem"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;RelatedContent&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; RelatedContentWidgetDriver : ContentPartDriver&amp;lt;RelatedContentWidgetPart&amp;gt;
    {
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Display(RelatedContentWidgetPart part, &lt;span class="kwrd"&gt;string&lt;/span&gt; displayType, dynamic shapeHelper)
        {
            var list = shapeHelper.List();

            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_RelatedContentWidget&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.Parts_RelatedContentWidget(
                        ShowListOnly : part.ShowListOnly,
                        ContentItems : list
                        ));
        }

        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(RelatedContentWidgetPart part, dynamic shapeHelper)
        {
            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_RelatedContentWidget_Edit&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.EditorTemplate(
                    TemplateName: &lt;span class="str"&gt;&amp;quot;Parts/RelatedContentWidget&amp;quot;&lt;/span&gt;,
                    Model: part,
                    Prefix: Prefix));
        }

        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(RelatedContentWidgetPart part, IUpdateModel updater, dynamic shapeHelper)
        {
            updater.TryUpdateModel(part, Prefix, &lt;span class="kwrd"&gt;null&lt;/span&gt;, &lt;span class="kwrd"&gt;null&lt;/span&gt;);
            &lt;span class="kwrd"&gt;return&lt;/span&gt; Editor(part, shapeHelper);
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Let’s setup a migration (note: in the code on codeplex, because I built this up in stages, the migration is a little different as it has a create and two updates to progressively add features) – create /Migration-RelatedContentWidget.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Data;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.MetaData;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Core.Contents.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Data.Migration;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;RelatedContent&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; MigrationsRelatedContentWidget : DataMigrationImpl
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; Create()
        {
            &lt;span class="rem"&gt;// Define the persistence table as a content part record with&lt;/span&gt;
            &lt;span class="rem"&gt;// my specific fields.&lt;/span&gt;
            SchemaBuilder.CreateTable(&lt;span class="str"&gt;&amp;quot;RelatedContentWidgetRecord&amp;quot;&lt;/span&gt;, 
                table =&amp;gt; table
                    .ContentPartRecord()
                    .Column(&lt;span class="str"&gt;&amp;quot;TagList&amp;quot;&lt;/span&gt;, DbType.String, a =&amp;gt; a.Unlimited())
                    .Column(&lt;span class="str"&gt;&amp;quot;MaxItems&amp;quot;&lt;/span&gt;, DbType.Int32)
                    .Column(&lt;span class="str"&gt;&amp;quot;ExcludeCurrentItemIfMatching&amp;quot;&lt;/span&gt;, DbType.Boolean)
                    .Column(&lt;span class="str"&gt;&amp;quot;MustHaveAllTags&amp;quot;&lt;/span&gt;, DbType.Boolean)
                    .Column(&lt;span class="str"&gt;&amp;quot;ShowListOnly&amp;quot;&lt;/span&gt;, DbType.Boolean)
                    );

            &lt;span class="rem"&gt;// Tell the content def manager that our widget is attachable&lt;/span&gt;
            ContentDefinitionManager.AlterPartDefinition(&lt;span class="kwrd"&gt;typeof&lt;/span&gt;(RelatedContentWidgetPart).Name,
                builder =&amp;gt; builder.Attachable());

            &lt;span class="rem"&gt;// Tell the content def manager that we have a content type &lt;/span&gt;
            &lt;span class="rem"&gt;// the parts it contains and that it should be treated as a widget&lt;/span&gt;
            ContentDefinitionManager.AlterTypeDefinition(&lt;span class="str"&gt;&amp;quot;RelatedContentWidget&amp;quot;&lt;/span&gt;,
                cfg =&amp;gt; cfg
                    .WithPart(&lt;span class="str"&gt;&amp;quot;RelatedContentWidgetPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;WidgetPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;CommonPart&amp;quot;&lt;/span&gt;)
                    .WithSetting(&lt;span class="str"&gt;&amp;quot;Stereotype&amp;quot;&lt;/span&gt;, &lt;span class="str"&gt;&amp;quot;Widget&amp;quot;&lt;/span&gt;));

            &lt;span class="kwrd"&gt;return&lt;/span&gt; 1;
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;All of that should be pretty familiar, creates the record table, defines the widget part and the widget type with appropriate stereotype etc. See earlier posts in this series if you’re not sure what this is doing.&lt;/p&gt;

&lt;p&gt;Next, we need to update placement.info so our parts will appear;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_TwitterWidget&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:1&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_TwitterWidget_Edit&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:7.5&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;

&lt;font style="background-color: #ffff00"&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_RelatedContentWidget&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:1&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_RelatedContentWidget_Edit&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:7.5&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
&lt;/font&gt;
    &lt;span class="rem"&gt;&amp;lt;!-- Synopsis --&amp;gt;&lt;/span&gt;
    &lt;span class="rem"&gt;&amp;lt;!-- Note the summary view is the only display mode... --&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;DisplayType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Summary&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Synopsis&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:10&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Synopsis_Edit&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:8&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;We need to define the editor template next, in /Views/EditorTemplates/Parts/RelatedContentWidget.cshtml&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@model SampleSiteModule.Models.RelatedContentWidgetPart

&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;fieldset&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;legend&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Related Content&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;legend&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Tags to find (comma separated)&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.TextBoxFor( m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.TagList )
        @Html.ValidationMessageFor( m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.TagList )
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Items must have all tags&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.CheckBoxFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.MustHaveAllTags)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Exclude current content if matches?&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.CheckBoxFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.ExcludeCurrentItemIfMatching)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Number of items to find&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.TextBoxFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.MaxItems)
        @Html.ValidationMessageFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.MaxItems)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Show as list only? (Setting this will show just a basic list, otherwise the full summary view will be rendered for each item)&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.CheckBoxFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.ShowListOnly)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;fieldset&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;and the display template in /Views/Parts/RelatedContentWidget.cshtml;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@using Orchard.ContentManagement;
@{
    IEnumerable&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;object&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; latest = Model.ContentItems;
}
@if (latest == null || latest.Count() &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt; 1) {
&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;No related content.&amp;quot;)&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
}
else {
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;ul&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;content-items&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    @foreach (dynamic item in latest) 
    {
        string title = item.Title;
        ContentItem contentItem = item.ContentItem;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;li&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;content-item-summary&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @if( Model.ShowListOnly )
        {
            @Html.ItemDisplayLink(title, contentItem)
        }
        else
        {
            @Display(item)
        }
        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;li&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    }
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;ul&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
}&lt;/pre&gt;

&lt;p&gt;We could have just left the default widget and list templates to render everything for us, but we wanted control over the list formatting and whether or not to just show links or full summary content, so in this case, we created the above template. Note the condition on ShowListOnly – if it’s not going to just show a list, we simply call @Display(item) and this will take care of&amp;#160; rendering out the content item in summary format (regardless of it’s type). &lt;/p&gt;

&lt;p&gt;The last thing to do now is update module.txt to reflect our new feature;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;Name: Product Types
Category: Sample Site
Description: Content types for product list and main product page
Dependencies: Contrib.Reviews, Mello.ImageGallery
AntiForgery: enabled
Author: Tony Johnson
Website: http://www.deepcode.co.uk
Version: 1.0
OrchardVersion: 1.1
Features:
    TwitterWidget:
        Name: Twitter Widget
        Category: Sample Site
        Description: Widget for latest tweets
    Synopsis:
        Name: Synopsis
        Category: Sample Site
        Description: Allows synopsis to be added to types
    &lt;font style="background-color: #ffff00"&gt;RelatedContent:
        Name: Related content widget
        Category: Sample Site
        Description: Widget to find content based on tags&lt;/font&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;



&lt;h4&gt;Where are we&lt;/h4&gt;

&lt;p&gt;That’s a lot of stuff to put in place to get the widget ready and so far, it won’t do anything, which we’ll fix in a second, but you should now be able to enable this feature through the orchard admin interface and add a related content widget to your pages. You should see the following configuration;&lt;/p&gt;

&lt;p&gt;&lt;a href="http://lh4.ggpht.com/-D6gH3wDWXuo/Te-SiMSYEkI/AAAAAAAAAXA/A27ZvZ-oHHA/s1600-h/image%25255B8%25255D.png"&gt;&lt;img style="display: inline" title="image" alt="image" src="http://lh4.ggpht.com/-BPtdvSwiLbo/Te-SipJWG8I/AAAAAAAAAXE/uoq5SuZv2Y0/image_thumb%25255B6%25255D.png?imgmax=800" width="350" height="352" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and the display on the page will presently just show the no related content message (note here I’m using the default theme);&lt;/p&gt;

&lt;p&gt;&lt;a href="http://lh4.ggpht.com/--0KdIJt0wyE/Te-SmYkDy8I/AAAAAAAAAXI/xzCQhyk4Pss/s1600-h/image%25255B11%25255D.png"&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-gESZlKD4amg/Te-SnrranVI/AAAAAAAAAXM/nTp3_1YYDkw/image_thumb%25255B7%25255D.png?imgmax=800" width="173" height="59" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h4&gt;&lt;/h4&gt;





&lt;h4&gt;Updating the driver to get some content&lt;/h4&gt;

&lt;p&gt;This was one of the more difficult parts of this post, it took me an age to work out how the query interface worked, which was quite a surprise, but once you understand it, it’s pretty clear. Again, as ever, thanks to randompete and bertrandleroy on the forums for helping me out.&lt;/p&gt;

&lt;h2&gt;&lt;/h2&gt;

&lt;h2&gt;Getting content with one of the tags – the basic query&lt;/h2&gt;

&lt;p&gt;Lets start by just getting a list of content that has one of the tags, is ordered correctly and returns just the number of entries we’re looking for. To begin, we’re going to need an IContentManager injected by autofac that we can use to query content, so give the driver a constructor that takes one of these and store it into a private readonly field;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;readonly&lt;/span&gt; IContentManager _cms;

&lt;span class="kwrd"&gt;public&lt;/span&gt; RelatedContentWidgetDriver(IContentManager cms)
{
     _cms = cms;
}&lt;/pre&gt;

&lt;p&gt;We can now use this to query for content in our driver’s display method – change it as follows;&lt;/p&gt;

&lt;div class="csharpcode"&gt;
  &lt;pre&gt;&lt;span class="lnum"&gt;   1:  &lt;/span&gt;        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Display(RelatedContentWidgetPart part, &lt;span class="kwrd"&gt;string&lt;/span&gt; displayType, dynamic shapeHelper)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   2:  &lt;/span&gt;        {&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   3:  &lt;/span&gt;            &lt;span class="rem"&gt;// Convert CSV tags to list&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   4:  &lt;/span&gt;            List&amp;lt;&lt;span class="kwrd"&gt;string&lt;/span&gt;&amp;gt; tags = &lt;span class="kwrd"&gt;new&lt;/span&gt; List&amp;lt;&lt;span class="kwrd"&gt;string&lt;/span&gt;&amp;gt;();&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   5:  &lt;/span&gt;            &lt;span class="kwrd"&gt;if&lt;/span&gt; (!String.IsNullOrWhiteSpace(part.TagList))&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   6:  &lt;/span&gt;            {&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   7:  &lt;/span&gt;                Array.ForEach(part.TagList.Split(&lt;span class="str"&gt;','&lt;/span&gt;), t =&amp;gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   8:  &lt;/span&gt;                {&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   9:  &lt;/span&gt;                    &lt;span class="kwrd"&gt;if&lt;/span&gt; (!String.IsNullOrWhiteSpace(t))&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  10:  &lt;/span&gt;                    {&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  11:  &lt;/span&gt;                        t = t.Trim();&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  12:  &lt;/span&gt;                        &lt;span class="kwrd"&gt;if&lt;/span&gt; (!tags.Contains(t))&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  13:  &lt;/span&gt;                            tags.Add(t);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  14:  &lt;/span&gt;                    }&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  15:  &lt;/span&gt;                });&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  16:  &lt;/span&gt;            }&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  17:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  18:  &lt;/span&gt;            &lt;span class="rem"&gt;// If we have no tags.....&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  19:  &lt;/span&gt;            &lt;span class="kwrd"&gt;if&lt;/span&gt; (tags.Count &amp;lt; 1)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  20:  &lt;/span&gt;            {&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  21:  &lt;/span&gt;                &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_RelatedContentWidget&amp;quot;&lt;/span&gt;,&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  22:  &lt;/span&gt;                    () =&amp;gt; shapeHelper.Parts_RelatedContentWidget(&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  23:  &lt;/span&gt;                            ContentItems: shapeHelper.List()&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  24:  &lt;/span&gt;                            ));&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  25:  &lt;/span&gt;            }&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  26:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  27:  &lt;/span&gt;            IEnumerable&amp;lt;TagsPart&amp;gt; parts = &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  28:  &lt;/span&gt;                _cms.Query&amp;lt;TagsPart, TagsPartRecord&amp;gt;()&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  29:  &lt;/span&gt;                .Where(tpr =&amp;gt; tpr.Tags.Any(t =&amp;gt; tags.Contains(t.TagRecord.TagName)))&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  30:  &lt;/span&gt;                .Join&amp;lt;CommonPartRecord&amp;gt;()&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  31:  &lt;/span&gt;                .OrderByDescending(cpr =&amp;gt; cpr.PublishedUtc)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  32:  &lt;/span&gt;                .Slice(part.MaxItems);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  33:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  34:  &lt;/span&gt;            &lt;span class="rem"&gt;// Create a list and push our display content items in&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  35:  &lt;/span&gt;            var list = shapeHelper.List();&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  36:  &lt;/span&gt;            list.AddRange(parts.Select(p =&amp;gt; _cms.BuildDisplay(p, &lt;span class="str"&gt;&amp;quot;Summary&amp;quot;&lt;/span&gt;)));&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  37:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  38:  &lt;/span&gt;            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_RelatedContentWidget&amp;quot;&lt;/span&gt;,&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  39:  &lt;/span&gt;                () =&amp;gt; shapeHelper.Parts_RelatedContentWidget(&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  40:  &lt;/span&gt;                        ShowListOnly : part.ShowListOnly,&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  41:  &lt;/span&gt;                        ContentItems : list&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  42:  &lt;/span&gt;                        ));&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  43:  &lt;/span&gt;        }&lt;/pre&gt;
&lt;/div&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Ok, so the first section (lines 4-16) are just concerned with taking a CSV list from the widget’s part and splitting it down into a unique list of tags that we can search for. This takes into account spaces, empty items and so on, so just gives us a more sane list of tags to search for than what a user might have keyed. Lines 18-25 just deal with the condition where we have no tags at all, in which case we’re just returning the same as we did in our earlier example – an empty list that will just render the “no related content” message.&lt;/p&gt;

&lt;p&gt;The code gets a little more interesting at line 27-32. Line 28 first of all starts a query against the TagsPart, so this will query against the properties exposed from any content item that has the tags part attached to it, on line 29 we then tell the query engine to build a query that looks at the tags associated with the content to determine if the tag name is in our provided list, if it is, it will be included in the results, if not, it won’t.&lt;/p&gt;

&lt;p&gt;Line 30 then joins the common part onto the query for the next part of the query (this will do an inner join to bring the common part properties in) and line 31 orders the results, in descending order, by the published date exposed from the common part record. Finally, line 32 actually executes the query, getting just the first N rows only (MaxItems part property).&lt;/p&gt;

&lt;p&gt;On line 35/36 we build a list shape and add the items we’ve found to it, asking the IContentManager to build the display shape for the item, in summary display mode (not necessarily what will be rendered, this just sets the shapes up into the shape tree).&lt;/p&gt;

&lt;p&gt;Finally, line 38, we return the part shape as normal, containing the list we’ve build and the flag to indicate how we want the results formatted.&lt;/p&gt;

&lt;h2&gt;Excluding the current page from the results&lt;/h2&gt;

&lt;p&gt;Next we’ll get the widget to exclude the current page if that is appearing in the links. Interestingly there doesn’t appear to be any reliable way to ask orchard what the ID is of the current content item being rendered (if there is one, you won’t have one in a themed custom controller action perhaps), so, with a little help from randompete, I decided to take the current request URL and manually match it to the routepart urls to get the ID of the content item being rendered (most navigable content has the routepart).&lt;/p&gt;

&lt;p&gt;With the content id in hand, it’s then trivial to add an exclusion to the above query so that item doesn’t get included. To start with though, we’ll need a way to get access to the current work context, so add a dependency and field on the driver for an IWorkContextAccessor;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;readonly&lt;/span&gt; IContentManager _cms;
&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;readonly&lt;/span&gt; IWorkContextAccessor _work;

&lt;span class="kwrd"&gt;public&lt;/span&gt; RelatedContentWidgetDriver(IContentManager cms, IWorkContextAccessor work)
{
    _cms = cms;
    _work = work;
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;And then, add a method to your driver that will get the current id of the page/content being rendered for the current url;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="rem"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;
&lt;span class="rem"&gt;/// Helper that will attempt to work out the current content id from the url&lt;/span&gt;
&lt;span class="rem"&gt;/// of the request.&lt;/span&gt;
&lt;span class="rem"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;
&lt;span class="rem"&gt;/// &amp;lt;param name=&amp;quot;defaultIfNotFound&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;
&lt;span class="rem"&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; TryGetCurrentContentId(&lt;span class="kwrd"&gt;int&lt;/span&gt; defaultIfNotFound)
{
    &lt;span class="kwrd"&gt;string&lt;/span&gt; urlPath = _work.GetContext().HttpContext.Request.AppRelativeCurrentExecutionFilePath.Substring(2);

    var routableHit = _cms
        .Query&amp;lt;RoutePart, RoutePartRecord&amp;gt;(VersionOptions.Published)
        .Where(r =&amp;gt; r.Path == urlPath)
        .Slice(1).FirstOrDefault();

    &lt;span class="kwrd"&gt;if&lt;/span&gt; (routableHit != &lt;span class="kwrd"&gt;null&lt;/span&gt;) &lt;span class="kwrd"&gt;return&lt;/span&gt; routableHit.Id;

    &lt;span class="kwrd"&gt;return&lt;/span&gt; defaultIfNotFound;
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;This isn’t doing anything particularly clever, it’s getting the URL of the current request (relative to the web app itself and stripping off the resultant ~/ from the beginning) and then performing another query against the RoutePart’s Path property to find the one that matches. If it is found, we return the id of the item that was found.&lt;/p&gt;

&lt;p&gt;Back in our display method we can now use this to exclude the current item;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;font style="background-color: #ffff00"&gt;&lt;span class="rem"&gt;// Get current item&lt;/span&gt;
&lt;span class="kwrd"&gt;int&lt;/span&gt; currentItemId = -1;
&lt;span class="kwrd"&gt;if&lt;/span&gt;( part.ExcludeCurrentItemIfMatching )
    currentItemId = TryGetCurrentContentId(-1);
&lt;/font&gt;
IEnumerable&amp;lt;TagsPart&amp;gt; parts =
    _cms.Query&amp;lt;TagsPart, TagsPartRecord&amp;gt;()
    .Where(tpr =&amp;gt; tpr.Tags.Any(t =&amp;gt; tags.Contains(t.TagRecord.TagName)))
    .Join&amp;lt;CommonPartRecord&amp;gt;()
&lt;font style="background-color: #ffff00"&gt;    .Where(cpr =&amp;gt; cpr.Id != currentItemId)
&lt;/font&gt;    .OrderByDescending(cpr =&amp;gt; cpr.PublishedUtc)
    .Slice(part.MaxItems);&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h2&gt;Extend the query to honour our MustHaveAllTags part property.&lt;/h2&gt;

&lt;p&gt;And finally, we’ll change our query according to the MustHaveAllTags property on our widget. The display method has changed a bit, so here it is in it’s entirety with the changed area highlighted;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Display(RelatedContentWidgetPart part, &lt;span class="kwrd"&gt;string&lt;/span&gt; displayType, dynamic shapeHelper)
{
    &lt;span class="rem"&gt;// Convert CSV tags to list&lt;/span&gt;
    List&amp;lt;&lt;span class="kwrd"&gt;string&lt;/span&gt;&amp;gt; tags = &lt;span class="kwrd"&gt;new&lt;/span&gt; List&amp;lt;&lt;span class="kwrd"&gt;string&lt;/span&gt;&amp;gt;();
    &lt;span class="kwrd"&gt;if&lt;/span&gt; (!String.IsNullOrWhiteSpace(part.TagList))
    {
        Array.ForEach(part.TagList.Split(&lt;span class="str"&gt;','&lt;/span&gt;), t =&amp;gt;
        {
            &lt;span class="kwrd"&gt;if&lt;/span&gt; (!String.IsNullOrWhiteSpace(t))
            {
                t = t.Trim();
                &lt;span class="kwrd"&gt;if&lt;/span&gt; (!tags.Contains(t))
                    tags.Add(t);
            }
        });
    }

    &lt;span class="rem"&gt;// If we have no tags.....&lt;/span&gt;
    &lt;span class="kwrd"&gt;if&lt;/span&gt; (tags.Count &amp;lt; 1)
    {
        &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_RelatedContentWidget&amp;quot;&lt;/span&gt;,
            () =&amp;gt; shapeHelper.Parts_RelatedContentWidget(
                    ContentItems: shapeHelper.List()
                    ));
    }

    &lt;span class="rem"&gt;// See if we can find the current page/content id to filter it out&lt;/span&gt;
    &lt;span class="rem"&gt;// from the related content if necessary.&lt;/span&gt;
    &lt;span class="kwrd"&gt;int&lt;/span&gt; currentItemId = -1;
    &lt;span class="kwrd"&gt;if&lt;/span&gt;( part.ExcludeCurrentItemIfMatching )
        currentItemId = TryGetCurrentContentId(-1);

&lt;font style="background-color: #ffff00"&gt;    &lt;span class="rem"&gt;// Setup a query on the tags part&lt;/span&gt;
    IContentQuery&amp;lt;TagsPart, TagsPartRecord&amp;gt; query = _cms.Query&amp;lt;TagsPart, TagsPartRecord&amp;gt;();

    &lt;span class="kwrd"&gt;if&lt;/span&gt; (part.MustHaveAllTags)
    {
        &lt;span class="rem"&gt;// Add where conditions for every tag specified&lt;/span&gt;
        &lt;span class="kwrd"&gt;foreach&lt;/span&gt; (&lt;span class="kwrd"&gt;string&lt;/span&gt; tag &lt;span class="kwrd"&gt;in&lt;/span&gt; tags)
        {
            &lt;span class="kwrd"&gt;string&lt;/span&gt; tag1 = tag; &lt;span class="rem"&gt;// Prevent access to modified closure&lt;/span&gt;
            query.Where(tpr =&amp;gt; tpr.Tags.Any(t =&amp;gt; t.TagRecord.TagName == tag1));
        }
    }
    &lt;span class="kwrd"&gt;else&lt;/span&gt;
    {
        &lt;span class="rem"&gt;// Add where condition for any tag specified&lt;/span&gt;
        query.Where(tpr =&amp;gt; tpr.Tags.Any(t =&amp;gt; tags.Contains(t.TagRecord.TagName)));
    }
            
    &lt;span class="rem"&gt;// Finish the query (exclude current, do ordering and slice max items) and execute&lt;/span&gt;
    IEnumerable&amp;lt;TagsPart&amp;gt; parts = 
        query.Join&amp;lt;CommonPartRecord&amp;gt;()
        .Where(cpr =&amp;gt; cpr.Id != currentItemId)
        .OrderByDescending(cpr =&amp;gt; cpr.PublishedUtc)
        .Slice(part.MaxItems);&lt;/font&gt;

    &lt;span class="rem"&gt;// Create a list and push our display content items in&lt;/span&gt;
    var list = shapeHelper.List();
    list.AddRange(parts.Select(p =&amp;gt; _cms.BuildDisplay(p, &lt;span class="str"&gt;&amp;quot;Summary&amp;quot;&lt;/span&gt;)));

    &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_RelatedContentWidget&amp;quot;&lt;/span&gt;,
        () =&amp;gt; shapeHelper.Parts_RelatedContentWidget(
                ShowListOnly : part.ShowListOnly,
                ContentItems : list
                ));
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;As you can see, the only difference between “must have all tags” and “must have one of the tags” is the all tags adds a where clause for each tag directly – the rest of the query is unchanged.&lt;/p&gt;

&lt;h4&gt;&lt;/h4&gt;

&lt;h4&gt;Until next time&lt;/h4&gt;

&lt;p&gt;That’s it for this post – as ever, grab the code from codeplex: &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com&lt;/a&gt; under the part-07 folder (I’ve retired the final folder by the way as the posts are keeping up with the code now!). In the next post I’ll be looking at creating sub-navigation.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6182461211126360249/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html#comment-form' title='12 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' title='Real world Orchard CMS–part 7–finding content'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/-BPtdvSwiLbo/Te-SipJWG8I/AAAAAAAAAXE/uoq5SuZv2Y0/s72-c/image_thumb%25255B6%25255D.png?imgmax=800' height='72' width='72'/><thr:total>12</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384</id><published>2011-05-31T21:40:00.001+01:00</published><updated>2011-07-03T19:47:02.936+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Orchard'/><category scheme='http://www.blogger.com/atom/ns#' term='RealWorldOrchard'/><title type='text'>Real world Orchard CMS–part 6–custom content types and custom content parts</title><content type='html'>&lt;p&gt;As I said in my&lt;a href="http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html"&gt; earlier post&lt;/a&gt;, this series is about creating a real world site with &lt;a href="http://orchardproject.net/"&gt;Orchard CMS&lt;/a&gt;, I’m not covering using Orchard to manage the site, just the technical development parts. All of the code is available on codeplex here : &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com/&lt;/a&gt;&lt;/p&gt;  &lt;h4&gt;&lt;strong&gt;Preamble&lt;/strong&gt;&lt;/h4&gt;  &lt;p&gt;I’ve had to slow down on the posts this last week as I’m coming to the end of a re-architecture project for a UK retailer, so it’s been a bit hectic working late nights with no time to write, but to re-cap, so far in the last 5 parts, we’ve got a theme up and running, tidied it up a bit, created a dummy twitter widget and then in the last part, we made the twitter widget functional. I’ve been encouraged by the sudden leap in visitors to this blog since I started the Orchard series, so just wanted to say thanks for visiting and for the encouraging feedback I’ve received, makes me want to get more out there and make my own small contribution to building the community.&lt;/p&gt;  &lt;p&gt;So, getting to the point for today - In this post we’re going to look at composing our own content types from existing modules. Orchard, rather than just defining content types as a set of properties, allows you to compose your content from various content parts. This is a pretty neat concept as you can easily define say an event content part and then attach it to any content item on your site, effectively allowing anything on the site to become an event.&lt;/p&gt;  &lt;p&gt;For our purposes, we’re going to compose some content types from the common, orchard-in-built parts along with some parts and functionality exposed from &lt;a href="http://www.orchardproject.net/gallery/List/Modules/Orchard.Module.Contrib.Voting" target="_blank"&gt;Contrib.Voting&lt;/a&gt;, &lt;a href="http://www.orchardproject.net/gallery/List/Modules/Orchard.Module.Contrib.Reviews" target="_blank"&gt;Contrib.Reviews&lt;/a&gt; and the &lt;a href="http://www.orchardproject.net/gallery/List/Modules/Orchard.Module.Mello.ImageGallery" target="_blank"&gt;Mello image gallery&lt;/a&gt;. We’ll also build a custom part which will allow us to provide simple synopsis information for when the product is rendered in a list and we’ll compose two content types – ProductList and Product, which will make up the concept of a product catalogue on our site. Our finished result should be as follows;&lt;/p&gt;  &lt;p&gt;The listing page;&lt;/p&gt;  &lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/--ZmqXUCcnnI/TeVR-ioRipI/AAAAAAAAAWA/pm35-Q_BF5s/image%25255B4%25255D.png?imgmax=800" width="642" height="398" /&gt;&lt;/p&gt;  &lt;p&gt;One of the product pages&lt;/p&gt;  &lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-5Jt4fEOfHy4/TeVSA2vAVGI/AAAAAAAAAWE/w3bHJy5Dk88/image%25255B9%25255D.png?imgmax=800" width="642" height="703" /&gt;&lt;/p&gt;  &lt;p&gt;Take note of some of the complexity here – we not only have the details of the product, but we’ve got some really rich functionality around ratings, feedback reviews, and screenshots presented in a nice way, and the best part is we don’t have to write any code to get this stuff! (well, apart from a migration and updating some theme templates). You’ll notice in the product page screenshot above, that we have some widgets to the right with TODO in them - we’ll be building on what we create today in future posts to provide navigation to product specific content (basically sub-level navigation being fed by the in-built menu/navigation tool), and to allow you to add the product to a shopping basket or register your interest if it’s pre-release, and finally, to automatically find and aggregate any content related to the product.&lt;/p&gt;  &lt;h4&gt;&lt;strong&gt;Getting the modules&lt;/strong&gt;&lt;/h4&gt;  &lt;p&gt;If you aren’t working from the source code on codeplex, then you’ll need to use the gallery to get the latest modules for &lt;a href="http://www.orchardproject.net/gallery/List/Modules/Orchard.Module.Contrib.Voting" target="_blank"&gt;Contrib.Voting&lt;/a&gt;, &lt;a href="http://www.orchardproject.net/gallery/List/Modules/Orchard.Module.Contrib.Reviews" target="_blank"&gt;Contrib.Reviews&lt;/a&gt; and the &lt;a href="http://www.orchardproject.net/gallery/List/Modules/Orchard.Module.Mello.ImageGallery" target="_blank"&gt;Mello image gallery&lt;/a&gt;. You can do this in a number of ways, but the easiest is probably through the Modules option in admin and go to the gallery tab to find the modules. From there, you can simply click install to get the module in question.&lt;/p&gt;  &lt;h4&gt;&lt;strong&gt;Defining a migration&lt;/strong&gt;&lt;/h4&gt;  &lt;p&gt;In order to get our new content types defined, we need to tell orchard about the content types and which content parts are composed together to make those types up. So, in the SampleSiteModule project, create a new “Migration-ProductTypes.cs” file as follows;&lt;/p&gt;  &lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.MetaData;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Core.Contents.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Data.Migration;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule
{
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; MigrationsProductTypes : DataMigrationImpl
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; Create()
        {
            &lt;span class="rem"&gt;// Define the product list type which will&lt;/span&gt;
            &lt;span class="rem"&gt;// contain body details, common, route, menu and be a container&lt;/span&gt;
            ContentDefinitionManager.AlterTypeDefinition(&lt;span class="str"&gt;&amp;quot;ProductList&amp;quot;&lt;/span&gt;,
                cfg =&amp;gt; cfg
                    .WithPart(&lt;span class="str"&gt;&amp;quot;BodyPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;CommonPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;RoutePart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;MenuPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;ContainerPart&amp;quot;&lt;/span&gt;)
                    .Creatable());

            &lt;span class="rem"&gt;// Define the product type which will&lt;/span&gt;
            &lt;span class="rem"&gt;// contain body details, common, route, be containable and have&lt;/span&gt;
            &lt;span class="rem"&gt;// the reviews and image gallery parts.&lt;/span&gt;
            ContentDefinitionManager.AlterTypeDefinition(&lt;span class="str"&gt;&amp;quot;Product&amp;quot;&lt;/span&gt;,
                cfg =&amp;gt; cfg
                    .WithPart(&lt;span class="str"&gt;&amp;quot;BodyPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;CommonPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;RoutePart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;ContainablePart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;ReviewsPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;ImageGalleryPart&amp;quot;&lt;/span&gt;)
                    .Creatable());

            &lt;span class="kwrd"&gt;return&lt;/span&gt; 1;
        }
    }
}&lt;/pre&gt;

&lt;p&gt;As I’m sure you already know, a migration is any class that inherits DataMigrationImpl and offers at least a Create method. That create method will be invoked whenever your feature is enabled for the first time – subsequent activations will only run any methods named UpdateFromX() if the current version already installed is represented by an UpdateFromX() method in your migration.&lt;/p&gt;

&lt;p&gt;In our code, we’re quite simply telling the content definition manager of the existence of two new types – ProductList and Product.&lt;/p&gt;

&lt;p&gt;ProductList is composed from the BodyPart (which gives us the usual html body content), the CommonPart, the RoutePart (to allow items of this type to have a url), the MenuPart (to allow items to appear on the menu) and the ContainerPart (instructing orchard that this type will contain other items).&lt;/p&gt;

&lt;p&gt;The Product part follows the same structure, but we have ContainablePart instead of ContainerPart and we’ve also added the ReviewsPart and ImageGalleryPart which brings in the reviews functionality and the image gallery.&lt;/p&gt;

&lt;h4&gt;Modify the module.txt file&lt;/h4&gt;

&lt;p&gt;Next, we need to update our module.txt file as follows;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;Name: Product Types
Category: Sample Site
Description: Content types &lt;span class="kwrd"&gt;for&lt;/span&gt; product list and main product page
Dependencies: Contrib.Reviews, Mello.ImageGallery
AntiForgery: enabled
Author: Tony Johnson
Website: http:&lt;span class="rem"&gt;//www.deepcode.co.uk&lt;/span&gt;
Version: 1.0
OrchardVersion: 1.1
Features:
    TwitterWidget:
        Name: Twitter Widget
        Category: Sample Site
        Description: Widget &lt;span class="kwrd"&gt;for&lt;/span&gt; latest tweets&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;I decided that the main feature of this module should be the definition of these types. The other features we’re building are complimentary to the rest of the site, and something has to be the main feature. Notice the dependencies introduced which means this module can’t be enabled unless it can find the Reviews and ImageGallery parts, however it will automatically enable them if they are present and so, after you’ve built your module, in the modules admin tool you should now be able to enable the “Product Types” feature;&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-CbqUdZgrPII/TeVSBRnaolI/AAAAAAAAAWI/sZmis-I0m9c/image%25255B12%25255D.png?imgmax=800" width="539" height="138" /&gt;&lt;/p&gt;

&lt;p&gt;After enabling, you should then find options to create a new product list and product on the new menu;&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/-Wjqv5Aosbx4/TeVSCJHk0OI/AAAAAAAAAWM/Yk2s42rhrLA/image%25255B15%25255D.png?imgmax=800" width="237" height="252" /&gt;&lt;/p&gt;

&lt;p&gt;Go ahead and create a new product list with a route url of /products (this will become important later when we set up some widget layers) and create a couple of products to go with it. You’ll need to create a&amp;#160; new image gallery with some images in it in order to get the screenshot images into a product page. Note, when creating your pages, it’s a good idea to make the url /products/product-name as this will make the widget layers easier later.&lt;/p&gt;

&lt;p&gt;Once you’ve created some content, if you navigate to your new product list page you should have something like this;&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/-S4UJguRn80M/TeVSDYnbOLI/AAAAAAAAAWQ/a8y-_wRExCo/image%25255B19%25255D.png?imgmax=800" width="642" height="483" /&gt;&lt;/p&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;





&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-vUvv1PsMlbk/TeVSFPOr1gI/AAAAAAAAAWU/micd6ltxnag/image%25255B23%25255D.png?imgmax=800" width="642" height="504" /&gt;&lt;/p&gt;

&lt;h4&gt;Default part rendering&lt;/h4&gt;

&lt;p&gt;How quick was that! As you can see, we haven’t defined any templates yet so the default templates for the various parts that make up our types are kicking in. This is great out of the box, but it’s not quite how we want it – on the product list page we don’t want screenshots or the date/time meta data, we want our heading a little more consistent and we want to show more of the body text, then on the product page itself we want to move some of the parts around a little so they are more like what we have in the original screenshots. We’ll sort this out in our theme in a second, but first – the synopsis idea.&lt;/p&gt;

&lt;p&gt;At the moment, the list view is rendering an extracted synopsis of the product from the main body content. Whilst that might be just what you’re looking for on your site, in our case we want to be able to provide a more condensed and meaningful synopsis text to appear here instead of the body content, so before we think about skinning this we’ll look at building a custom content part that will allow us to attach synopsis text and an optional thumbnail image to content types – when we sort the theme out later, we’ll change the rendering of the list view to only show the synopsis part, the title/link and the current review rating so it will look like this;&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-0vTwDcpzuhM/TeVSKrqUnDI/AAAAAAAAAWY/j7akjevBnHs/image%25255B38%25255D.png?imgmax=800" width="642" height="124" /&gt;&lt;/p&gt;

&lt;h4&gt;Synopsis part&lt;/h4&gt;

&lt;p&gt;Creating the synopsis part is quite straight forward, but involves quite a few steps. Just like when we created the twitter widget (the widget configuration is a part) we need to create a content part record which will describe the persistence, a content part which will wrap the record, a handler, a driver to build the shapes, a couple of templates – one for how to edit the content and one for the default rendering and create a migration. We’ll also need to update placement.info and module.txt for our module to describe where to put the various bits and tell orchard about the feature.&lt;/p&gt;

&lt;p&gt;Lets crack on….&lt;/p&gt;

&lt;h4&gt;&lt;/h4&gt;

&lt;h4&gt;Create the record and part&lt;/h4&gt;

&lt;p&gt;In the model directory, create the following two files (should be self explanatory if you’ve read previous posts).&lt;/p&gt;

&lt;p&gt;&lt;em&gt;SynopsisRecord.cs&lt;/em&gt;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Records;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;Synopsis&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; SynopsisRecord : ContentPartRecord
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; SynopsisText { get; set; }
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; ThumbnailUrl { get; set; }
    }
}&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;SynopsisPart.cs&lt;/em&gt;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;Synopsis&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; SynopsisPart : ContentPart&amp;lt;SynopsisRecord&amp;gt;
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; Synopsis
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.SynopsisText; }
            set { Record.SynopsisText = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }

        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; ThumbnailUrl
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.ThumbnailUrl; }
            set { Record.ThumbnailUrl = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }
    }
}&lt;/pre&gt;

&lt;h4&gt;Create the handler&lt;/h4&gt;

&lt;p&gt;In the handlers folder create SynopsisHandler.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Handlers;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Data;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Handlers
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;Synopsis&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; SynopsisHandler : ContentHandler
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; SynopsisHandler(IRepository&amp;lt;SynopsisRecord&amp;gt; repository)
        {
            Filters.Add(StorageFilter.For(repository));
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h4&gt;&lt;/h4&gt;

&lt;h4&gt;Create the driver&lt;/h4&gt;

&lt;p&gt;And in the drivers folder create SynopsisDriver.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Drivers;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Drivers
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;Synopsis&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; SynopsisDriver : ContentPartDriver&amp;lt;SynopsisPart&amp;gt;
    {
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Display(SynopsisPart part, &lt;span class="kwrd"&gt;string&lt;/span&gt; displayType, dynamic shapeHelper)
        {
            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_Synopsis&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.Parts_Synopsis(
                        Synopsis : part.Synopsis,
                        Thumbnail : part.ThumbnailUrl ));
        }

        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(SynopsisPart part, dynamic shapeHelper)
        {
            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_Synopsis_Edit&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.EditorTemplate(
                    TemplateName: &lt;span class="str"&gt;&amp;quot;Parts/Synopsis&amp;quot;&lt;/span&gt;,
                    Model: part,
                    Prefix: Prefix));
        }

        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(SynopsisPart part, IUpdateModel updater, dynamic shapeHelper)
        {
            updater.TryUpdateModel(part, Prefix, &lt;span class="kwrd"&gt;null&lt;/span&gt;, &lt;span class="kwrd"&gt;null&lt;/span&gt;);
            &lt;span class="kwrd"&gt;return&lt;/span&gt; Editor(part, shapeHelper);
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Just a very quick refresher – the Display and Editor methods are called to build shapes that will be used when rendering this shape on the site and in the admin tool. In the case of the display method we’re creating a custom shape that gets added to the shape tree called Parts_Synopsis with properties for Synopsis and Thumbnail taken from the content part that orchard is presenting (as such a shape doesn’t necessarily have to reflect it’s underlying content part, we can add whatever we want into the properties of the shape). &lt;/p&gt;

&lt;h4&gt;Define a migration.&lt;/h4&gt;

&lt;p&gt;In the root of the module, create a file named &amp;quot;Migration-Synopsis.cs”, this should be second nature now:&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Data;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.MetaData;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Core.Contents.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Data.Migration;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;Synopsis&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; MigrationsSynopsis : DataMigrationImpl
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; Create()
        {
            SchemaBuilder.CreateTable(&lt;span class="str"&gt;&amp;quot;SynopsisRecord&amp;quot;&lt;/span&gt;,
                table =&amp;gt; table
                    .ContentPartRecord()
                    .Column(&lt;span class="str"&gt;&amp;quot;SynopsisText&amp;quot;&lt;/span&gt;, DbType.String, c =&amp;gt; c.Unlimited())
                    .Column(&lt;span class="str"&gt;&amp;quot;ThumbnailUrl&amp;quot;&lt;/span&gt;, DbType.String));

            &lt;span class="rem"&gt;// Tell the content def manager that our part is attachable&lt;/span&gt;
            ContentDefinitionManager.AlterPartDefinition(&lt;span class="kwrd"&gt;typeof&lt;/span&gt;(SynopsisPart).Name,
                builder =&amp;gt; builder.Attachable());

            &lt;span class="kwrd"&gt;return&lt;/span&gt; 1;
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h4&gt;Define the editor template&lt;/h4&gt;

&lt;p&gt;Create the following view in Views/EditorTemplates/Parts/Synopsis.cshtml;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@model SampleSiteModule.Models.SynopsisPart

&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;fieldset&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;legend&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Synopsis&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;legend&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Synopsis&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.TextAreaFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.Synopsis)
        @Html.ValidationMessageFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.Synopsis)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Thumbnail&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.TextBoxFor( m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.ThumbnailUrl )
        @Html.ValidationMessageFor( m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.ThumbnailUrl )
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;fieldset&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Notice at the moment I’ve just thrown a textbox on there for the thumbnail – ideally I’d like this to select something in the media manager, but haven’t quite worked out how to do that yet. I’ll post something on this when I’ve worked out how to go about it.&lt;/p&gt;

&lt;h4&gt;Define the view template&lt;/h4&gt;

&lt;p&gt;And this view will be the default mechanism for rendering this part on a page – create Views/Parts/Synopsis.cshtml;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@using Orchard.Core.Routable.Models
@using Orchard.ContentManagement.ViewModels
@using Orchard.ContentManagement
@using Orchard.Core.Common.Models
@using SampleSiteModule.Models

@{
    Style.Require(&amp;quot;Synopsis&amp;quot;);
    var synopsisText = (Model.Synopsis.ToString()).Replace(&amp;quot;\n&amp;quot;, &amp;quot;&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&amp;quot;);
    var thumbnailUrl = Model.Thumbnail == null ? &amp;quot;&amp;quot; : Model.Thumbnail;    
}

@if (String.IsNullOrEmpty(thumbnailUrl))
{
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@Html.Raw(synopsisText)&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
}
else
{
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;synopsis-container&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;synopsis-text&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@Html.Raw(synopsisText)&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;synopsis-thumbnail&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;img&lt;/span&gt; &lt;span class="attr"&gt;src&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;@thumbnailUrl&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;width&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;150&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;height&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;150&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;synopsis-clear&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h4&gt;Create the resource manifest provider&lt;/h4&gt;

&lt;p&gt;You will notice that, in the view template, we have a Style.Require(“synopsis”) call in this template but we don’t have a stylesheet and how does the Style.Require work out where the actual CSS file is anyway? This is where a resource manifest provider comes in, which tells orchard how to resolve a Style.Require (or a Script.Require for that matter) and ensure it only gets included once. If the resource exists in the theme, the resource will be resolved from there first I believe (I did check, but it was a couple of weeks ago now and I’ve slept since then), but otherwise it will use the resource provided by the manifest provider.&lt;/p&gt;

&lt;p&gt;Create a ResourceManifest.cs file in the root of the module project;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.UI.Resources;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule
{
    &lt;span class="rem"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span class="rem"&gt;/// Defines common resources for this module.&lt;/span&gt;
    &lt;span class="rem"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; ResourceManifest : IResourceManifestProvider
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;void&lt;/span&gt; BuildManifests(ResourceManifestBuilder builder)
        {
            builder.Add().DefineStyle(&lt;span class="str"&gt;&amp;quot;Synopsis&amp;quot;&lt;/span&gt;).SetUrl(&lt;span class="str"&gt;&amp;quot;synopsis.css&amp;quot;&lt;/span&gt;);
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h4&gt;Create the stylesheet&lt;/h4&gt;

&lt;p&gt;So now we have a resource manifest telling us where the resource is and we are using it in the view template, we’d better make it available. Create synopsis.css in the Styles folder;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;DIV.synopsis-container
{
    float: left;
    width: 100%;
}
DIV.synopsis-text
{
    margin-left: 160px;
}
DIV.synopsis-thumbnail
{
    float: left;
    width: 150px;
    margin-left: -100%;
}
DIV.synopsis-clear
{
    content: &amp;quot;.&amp;quot;;
    display: block;
    height: 0px;
    clear: both;
    visibility: hidden;
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h4&gt;Update the placement.info file&lt;/h4&gt;

&lt;p&gt;We’re almost there – if we don’t tell orchard where to put our new parts by default, they won’t appear. Modify the placement.info file to add the highlighted lines;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_TwitterWidget&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:1&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_TwitterWidget_Edit&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:7.5&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;

 &lt;font style="background-color: #ffff00"&gt; &lt;span class="rem"&gt;&amp;lt;!-- Synopsis --&amp;gt;&lt;/span&gt;
  &lt;span class="rem"&gt;&amp;lt;!-- Note the summary view is the only display mode... --&amp;gt;&lt;/span&gt;
  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;DisplayType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Summary&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Synopsis&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:10&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
  &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Synopsis_Edit&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:8&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/font&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;



&lt;p&gt;A quick word of explanation… We don’t actually want our synopsis part to appear anywhere other than on the listing screen. When orchard renders parts into the listing it sets the display type to summary and we can specify which display type we’re interested in within the placement.info file. In the above I’m saying that the Parts_Synopsis shape should be put into the content local zone at position 10, but only if the display type is summary. Clear as mud?&lt;/p&gt;

&lt;h4&gt;Update the module.txt file to expose our new synopsis feature&lt;/h4&gt;

&lt;p&gt;Finally to get this content part available, we need to tell orchard about it. Update module.txt as follows;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;Name: Product Types
Category: Sample Site
Description: Content types for product list and main product page
Dependencies: Contrib.Reviews, Mello.ImageGallery
AntiForgery: enabled
Author: Tony Johnson
Website: http://www.deepcode.co.uk
Version: 1.0
OrchardVersion: 1.1
Features:
    TwitterWidget:
        Name: Twitter Widget
        Category: Sample Site
        Description: Widget for latest tweets
&lt;font style="background-color: #ffff00"&gt;    Synopsis:
        Name: Synopsis
        Category: Sample Site
        Description: Allows synopsis to be added to types&lt;/font&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h4&gt;Attach the synopsis to our product type in it’s migration&lt;/h4&gt;

&lt;p&gt;Ok, so that was all the plumbing for our new content part done, let’s go ahead and update the product types migration to include the synopsis on our product. Add the following method to Migration-ProductTypes.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;       &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; UpdateFrom1()
        {
            ContentDefinitionManager.AlterTypeDefinition(&lt;span class="str"&gt;&amp;quot;Product&amp;quot;&lt;/span&gt;,
                cfg =&amp;gt; cfg.WithPart(&lt;span class="str"&gt;&amp;quot;SynopsisPart&amp;quot;&lt;/span&gt;));

            &lt;span class="kwrd"&gt;return&lt;/span&gt; 2;
        }&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h4&gt;&lt;/h4&gt;

&lt;h4&gt;Go forth and view the beauty of your creation&lt;/h4&gt;

&lt;p&gt;Build, activate the synopsis feature and update the product types feature from the admin tool and when done, go ahead and fill in the synopsis fields of your already created products.&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-3HWMlFvXGuU/TeVSLWAGVrI/AAAAAAAAAWc/7lYJIGGBcW0/image%25255B41%25255D.png?imgmax=800" width="372" height="77" /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-Wec_JATgZ7k/TeVSL1T4oQI/AAAAAAAAAWg/NwG-CpmiXCE/image%25255B42%25255D.png?imgmax=800" width="372" height="116" /&gt;&lt;/p&gt;

&lt;h4&gt;Check out my rendering&lt;/h4&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/-7kFrmuGvosM/TeVSNhwmK3I/AAAAAAAAAWk/N6rjWY9wtKE/image%25255B46%25255D.png?imgmax=800" width="642" height="410" /&gt;&lt;/p&gt;

&lt;p&gt;Er, yeah, this isn’t pretty is it! The synopsis data doesn’t appear in the main product pages, by design (see placement.info above), but the summary view is now horrendous, let’s try and sort all this out by updating our theme to render everything exactly where we want it and how we want it;&lt;/p&gt;

&lt;h4&gt;&lt;/h4&gt;









&lt;h4&gt;Tidying up the product listing using our theme’s placement.info&lt;/h4&gt;

&lt;p&gt;Interestingly enough, the largest part of the tidy up for the product listing is as easy as manipulating the placement.info file in our theme project. Update placement.info to add the highlighted lines below;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="rem"&gt;&amp;lt;!-- Remove the page title from the homepage --&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;Path&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;~/&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_RoutableTitle&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="rem"&gt;&amp;lt;!-- Remove metadata part from all pages and from blogs --&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;ContentType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Page&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Metadata&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;ContentType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Blog&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Metadata&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="rem"&gt;&amp;lt;!-- Remove comment counts from blog posts and set the summary blog post body alternate --&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;ContentType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;BlogPost&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Comments_Count&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;DisplayType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Summary&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Body_Summary&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:5;Alternate=Parts_BlogPostSummaryBody&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

  &lt;font style="background-color: #ffff00"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;ContentType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Product&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="rem"&gt;&amp;lt;!-- In summary view, remove the body summary (we will replace with synopsis),&lt;/span&gt;
&lt;span class="rem"&gt;            the meta data and the image gallery thumbnails --&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;DisplayType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Summary&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Body_Summary&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Metadata_Summary&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_ImageGallery&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="rem"&gt;&amp;lt;!-- In detail view, remove the meda data, move the stars for ratings to the top&lt;/span&gt;
&lt;span class="rem"&gt;             put the image gallery below the content and define alternate wrappers for&lt;/span&gt;
&lt;span class="rem"&gt;             the image gallery and the body text --&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;DisplayType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Detail&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Metadata&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Stars_Details&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:0&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_ImageGallery&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:2;Wrapper=Product_ImageGalleryWrapper&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Body&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:1;Wrapper=Product_BodyTextWrapper&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/font&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;First off, we’re telling placement.info to work on the Product content type, then we have separate rules for when we’re showing a product in summary view and detail view. Concentrating on the summary view first, all we need to do is remove the Parts_Common_Body_Summary, Parts_Common_Metadata_Summary and Parts_ImageGallery shapes from the rendering to get the layout we’re interested in - you can find the names of shapes easily using the orchard shape tracing feature (yet more bowing to Sébastien Ros for this feature! , followed by mass apologies to everyone for the lame emoticon – please don’t leave!)&lt;/p&gt;

&lt;p&gt;&lt;a href="http://lh6.ggpht.com/-qfuKtT2Q9lc/TeVSONikTZI/AAAAAAAAAWo/1Q2JmSh94Ys/s1600-h/bow%25255B2%25255D.gif"&gt;&lt;img style="display: inline" title="bow" alt="bow" src="http://lh5.ggpht.com/-kKzltJD32xA/TeVSOijdZgI/AAAAAAAAAWs/QWGd52-9Cco/bow_thumb.gif?imgmax=800" width="51" height="25" /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Ok, so, that gives us just our title, rating and synopsis parts rendering as desired;&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/-ib060-_V0sA/TeVSQItf-nI/AAAAAAAAAWw/B0lyt-VJs7Y/image%25255B50%25255D.png?imgmax=800" width="642" height="393" /&gt;&lt;/p&gt;

&lt;p&gt;Hmmm, not quite – the title/link isn’t quite right …&lt;/p&gt;

&lt;h4&gt;Changing how the routable title is rendered in summary form.&lt;/h4&gt;

&lt;p&gt;We want our routable title to be a H4 as opposed to the H1 it is at the moment. The shape we’re interested in is Parts_RoutableTitle so we can create a new razor template in our theme’s Views folder called Parts.RoutableTitle.Summary.cshml (again you can find the template names that can be used to provide alternate shape rendering by using shape tracing). This template will be used whenever the RoutableTitle part is rendered in summary view;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@* This overrides how a routable title part is rendered in summary form *@

@using Orchard.ContentManagement
@{
    ContentItem contentItem = Model.ContentPart.ContentItem;
    string title = Model.Title.ToString();
}

&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;h4&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@Html.ItemDisplayLink(title, contentItem)&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;h4&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;And now our product list is just right…..&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-WCrGjoB4ubc/TeVSRhxUvAI/AAAAAAAAAW0/XbqMOhZXOsI/image%25255B54%25255D.png?imgmax=800" width="642" height="384" /&gt;&lt;/p&gt;

&lt;h4&gt;&lt;/h4&gt;

&lt;h4&gt;Reordering parts on the main product page and specifying alternates directly&lt;/h4&gt;

&lt;p&gt;So our product page now needs a bit of alternate/re-ordering love – this is what we have at the moment;&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-42ZaTXttytA/TeVSTeeddrI/AAAAAAAAAW4/4LiolYRUCN4/image%25255B61%25255D.png?imgmax=800" width="642" height="541" /&gt;&lt;/p&gt;

&lt;p&gt;and this is what we’re aiming for;&lt;/p&gt;

&lt;p&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/-EXSKrfav_KU/TeVSVKWiEBI/AAAAAAAAAW8/LzDCUxOVChI/image%25255B62%25255D.png?imgmax=800" width="642" height="581" /&gt;&lt;/p&gt;

&lt;p&gt;Yes, the changes are subtle, but they are;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Removed meta data (published date) from the top&lt;/li&gt;

  &lt;li&gt;Added a “Details” title to the main body content&lt;/li&gt;

  &lt;li&gt;Moved screenshots to be above reviews&lt;/li&gt;

  &lt;li&gt;Added a “Screenshots” title to the screenshots section&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Earlier, we changed the theme’s placement.info file to include the following;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;DisplayType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Detail&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Metadata&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Stars_Details&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:0&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_ImageGallery&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:2;Wrapper=Product_ImageGalleryWrapper&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Body&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:1;Wrapper=Product_BodyTextWrapper&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;You can probably guess what’s going on here, but first off, when we render this product in Detail mode, we get rid of the metadata shape. We then ensure that the Parts_Stars_Details part is right at the top of the local zone, move Parts_ImageGallery to position 2 and Parts_Common_Body to position 1, we also specify wrappers for the image gallery and body parts! In earlier posts we specified alternates directly in the placement.info file, and specifying wrappers is a similar concept. It allows you to define a shape that will be rendered around the target shape. &lt;/p&gt;

&lt;p&gt;By specifying Product_ImageGalleryWrapper and Product_BodyTextWrapper, we can now create templates that will be used to wrap the target parts by naming them Product.ImageGalleryWrapper.cshtml and Product.BodyTextWrapper.cshtml respectively (in our template project’s views folder);&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Product.ImageGalleryWrapper.cshtml&lt;/em&gt;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@using Orchard.ContentManagement;
@using Orchard.Widgets.Models;

&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;h4&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Screenshots&amp;quot;)&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;h4&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    @Display(Model.Metadata.ChildContent)
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;&lt;em&gt;Product.BodyTextWrapper.cshtml&lt;/em&gt;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@using Orchard.ContentManagement;
@using Orchard.Widgets.Models;

&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;h4&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Details&amp;quot;)&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;h4&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    @Display(Model.Metadata.ChildContent)
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;h4&gt;&lt;/h4&gt;

&lt;h4&gt;That’s all folks&lt;/h4&gt;

&lt;p&gt;And we’re done! If all that sounded like a lot of stuff, it was, but we’ve achieved a great deal! I hope you find this useful, next up (hopefully next week):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Creating sub-navigation 
    &lt;ul&gt;
      &lt;li&gt;Creating a widget that will allow navigation within sections of your site&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;

  &lt;li&gt;Relating content 
    &lt;ul&gt;
      &lt;li&gt;Creating a widget to find content on your site that may be related to the current content being viewed.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;

  &lt;li&gt;Basic shopping, advanced widgets and controller based content 
    &lt;ul&gt;
      &lt;li&gt;This will be a multi-part post I think covering implementing basic shopping basket functionality &lt;/li&gt;

      &lt;li&gt;Creating a widget that renders initially as part of the normal rendering pipe and then updates with AJAX calls to a custom controller. &lt;/li&gt;

      &lt;li&gt;Implementing a custom controller to provide complete rendering control – to display our shopping basket – yet keeping the rendering themeable.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;As ever, grab the code from codeplex: &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com&lt;/a&gt; under the part-06 folder (or just skip ahead to final, which is evolving quicker than the blog posts are!).&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2086190862818823384/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html#comment-form' title='14 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' title='Real world Orchard CMS–part 6–custom content types and custom content parts'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/--ZmqXUCcnnI/TeVR-ioRipI/AAAAAAAAAWA/pm35-Q_BF5s/s72-c/image%25255B4%25255D.png?imgmax=800' height='72' width='72'/><thr:total>14</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958</id><published>2011-05-17T16:59:00.001+01:00</published><updated>2011-07-03T19:47:02.937+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Orchard'/><category scheme='http://www.blogger.com/atom/ns#' term='RealWorldOrchard'/><title type='text'>Real world Orchard CMS – part 5 – caching - lets get that twitter widget working.</title><content type='html'>&lt;p&gt;As I said in my&lt;a href="http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html" target="_blank"&gt; earlier post&lt;/a&gt;, this series is about creating a real world site with &lt;a href="http://orchardproject.net" target="_blank"&gt;Orchard CMS&lt;/a&gt;, I’m not covering using Orchard to manage the site, just the technical development parts. All of the code is available on codeplex here : &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com/&lt;/a&gt;&lt;/p&gt;  &lt;h4&gt;&lt;strong&gt;Preamble&lt;/strong&gt; &lt;/h4&gt;  &lt;p&gt;So far we’ve created a basic theme, created a twitter widget to display the latest twitter feeds and gone back and tidied up some parts of our theme that weren’t working out for us. In this post I’m going to quickly go back and tidy up a loose end that’s been bugging me - getting the twitter widget doing something useful. We originally created that part to just return some canned results, but I figure going back to address this is a good exercise as we can look at caching in Orchard, so without further ado, our twitter widget will shortly look like this;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TdKbX0jrDPI/AAAAAAAAAV8/Xu5Dyka37No/image2.png?imgmax=800" width="328" height="307" /&gt; &lt;/p&gt;  &lt;h4&gt;Getting tweets&lt;/h4&gt;  &lt;p&gt;First off we need to get our ITwitterService concrete implementation to go to twitter and get the latest tweets for the person we’ve specified. Open the TwitterService.cs file in the services folder of the module project and change it as follows;&lt;/p&gt;  &lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System;
&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Collections.Generic;
&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Linq;
&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Xml.Linq;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Services
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; TwitterService : ITwitterService
    {
        &lt;font style="background-color: #ffff00"&gt;&lt;span class="kwrd"&gt;const&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; FeedUrl = &lt;span class="str"&gt;&amp;quot;http://api.twitter.com/1/statuses/user_timeline/{0}.rss&amp;quot;&lt;/span&gt;;&lt;/font&gt;

        &lt;span class="rem"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;
        &lt;span class="rem"&gt;/// gets the latest tweets based on the configuration specified in the TwitterWidgetPart.&lt;/span&gt;
        &lt;span class="rem"&gt;/// Uses Linq2XML to load the feed url and select the tweets.&lt;/span&gt;
        &lt;span class="rem"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;
        &lt;span class="rem"&gt;/// &amp;lt;param name=&amp;quot;twitterUserName&amp;quot;&amp;gt;Name of the twitter user.&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span class="rem"&gt;/// &amp;lt;param name=&amp;quot;maxPosts&amp;quot;&amp;gt;The max posts.&amp;lt;/param&amp;gt;&lt;/span&gt;
        &lt;span class="rem"&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;public&lt;/span&gt; IList&amp;lt;Tweet&amp;gt; GetLatestTweetsFor(&lt;span class="kwrd"&gt;string&lt;/span&gt; twitterUserName, &lt;span class="kwrd"&gt;int&lt;/span&gt; maxPosts)
        {
            &lt;font style="background-color: #ffff00"&gt;XDocument doc = XDocument.Load(String.Format(FeedUrl, twitterUserName));
            &lt;span class="kwrd"&gt;return&lt;/span&gt; (from item &lt;span class="kwrd"&gt;in&lt;/span&gt; doc.Descendants(&lt;span class="str"&gt;&amp;quot;item&amp;quot;&lt;/span&gt;) 
                         select &lt;span class="kwrd"&gt;new&lt;/span&gt; Tweet
                         {
                             Text = TrimUserFrom((&lt;span class="kwrd"&gt;string&lt;/span&gt;) item.Element(&lt;span class="str"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;)),
                             DateStamp = (DateTime) item.Element(&lt;span class="str"&gt;&amp;quot;pubDate&amp;quot;&lt;/span&gt;),
                             Link = (&lt;span class="kwrd"&gt;string&lt;/span&gt;) item.Element(&lt;span class="str"&gt;&amp;quot;link&amp;quot;&lt;/span&gt;)
                         })
                         .Take( maxPosts )
                         .ToList();&lt;/font&gt;
        }

        &lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; TrimUserFrom(&lt;span class="kwrd"&gt;string&lt;/span&gt; tweet)
        {
            &lt;span class="kwrd"&gt;int&lt;/span&gt; position = tweet.IndexOf(&lt;span class="str"&gt;':'&lt;/span&gt;);
            &lt;span class="kwrd"&gt;if&lt;/span&gt; (position == -1) &lt;span class="kwrd"&gt;return&lt;/span&gt; tweet;

            &lt;span class="kwrd"&gt;return&lt;/span&gt; tweet.Substring(position + 1);
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;&lt;style type="text/css"&gt;


.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;I’ve highlighted the key parts – our method signature is slightly different (It felt wrong to pass a part across the boundary), and we’re using Linq2XML to get the latest tweets in RSS format from twitter for the username specified, we execute a simple linq query to get the items and construct a list of Tweet objects, all very straight forward. Notice that the service itself isn’t concerning itself here with caching, we’re going to take care of caching in the driver in this instance.&lt;/p&gt;

&lt;h4&gt;Modify the driver to use caching&lt;/h4&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Caching;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Drivers;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Services;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Services;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Drivers
{
    &lt;span class="rem"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span class="rem"&gt;/// Content part driver for the twitter widget part&lt;/span&gt;
    &lt;span class="rem"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; TwitterWidgetDriver : ContentPartDriver&amp;lt;TwitterWidgetPart&amp;gt;
    {
        &lt;font style="background-color: #ffff00"&gt;&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;const&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; TwitterUserCacheKey = &lt;span class="str"&gt;&amp;quot;TwitterWidgetPostsFor-{0}&amp;quot;&lt;/span&gt;;&lt;/font&gt;
        &lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;readonly&lt;/span&gt; ITwitterService _twitter;
        &lt;font style="background-color: #ffff00"&gt;&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;readonly&lt;/span&gt; ICacheManager _cache;&lt;/font&gt;
        &lt;font style="background-color: #ffff00"&gt;&lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;readonly&lt;/span&gt; IClock _clock;
&lt;/font&gt;
        &lt;span class="kwrd"&gt;public&lt;/span&gt; TwitterWidgetDriver(ITwitterService twitter, &lt;font style="background-color: #ffff00"&gt;ICacheManager cache, IClock clock&lt;/font&gt;)
        {
            _twitter = twitter;
            _cache = cache;
            _clock = clock;
        }

        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Display(TwitterWidgetPart part, &lt;span class="kwrd"&gt;string&lt;/span&gt; displayType, dynamic shapeHelper)
        {
            &lt;font style="background-color: #ffff00"&gt;&lt;span class="rem"&gt;// Get tweets, from the cache or from twitter&lt;/span&gt;
            var tweets = _cache.Get(String.Format(TwitterUserCacheKey, part.TwitterUserName), ctx =&amp;gt; 
                {
                    ctx.Monitor( _clock.When( TimeSpan.FromMinutes(part.CacheMinutes)));
                    &lt;span class="kwrd"&gt;return&lt;/span&gt; _twitter.GetLatestTweetsFor(part.TwitterUserName, part.MaxPosts);
                });&lt;/font&gt;

            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_TwitterWidget&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.Parts_TwitterWidget(
                        TwitterUserName: part.TwitterUserName ?? String.Empty,
                        Tweets: tweets));
        }

        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(TwitterWidgetPart part, dynamic shapeHelper)
        {
            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_TwitterWidget_Edit&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.EditorTemplate(
                    TemplateName: &lt;span class="str"&gt;&amp;quot;Parts/TwitterWidget&amp;quot;&lt;/span&gt;,
                    Model: part,
                    Prefix: Prefix));
        }

        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(TwitterWidgetPart part, IUpdateModel updater, dynamic shapeHelper)
        {
            updater.TryUpdateModel(part, Prefix, &lt;span class="kwrd"&gt;null&lt;/span&gt;, &lt;span class="kwrd"&gt;null&lt;/span&gt;);
            &lt;span class="kwrd"&gt;return&lt;/span&gt; Editor(part, shapeHelper);
        }
    }
}&lt;/pre&gt;

&lt;p&gt;This is almost the same as it was before, but we take two new dependencies -&amp;#160; an ICacheManager and an IClock. In the display method we then use _cache.Get which will inspect the cache to see if we have data that is already cache, within the duration specified, for the twitter user provided in the twitter widget configuration. If the cache determines that it doesn’t have cached data, it then executes the Func provided which in turn determines how to invalidate the cache (in this case when the clock has ticked over the specified number of minutes) and calls the twitter service as normal. The remainder of the code is as before.&lt;/p&gt;

&lt;h4&gt;Finally, make it look a bit prettier&lt;/h4&gt;

&lt;p&gt;The Views/Parts/TwitterWidget.cshtml file then changes as;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models

@&lt;span class="kwrd"&gt;if&lt;/span&gt; (Model.Tweets.Count &amp;lt; 1)
{
    &amp;lt;p&amp;gt;There are no tweets &lt;span class="kwrd"&gt;for&lt;/span&gt; @Model.TwitterUserName&amp;lt;/p&amp;gt;
}
&lt;span class="kwrd"&gt;else&lt;/span&gt;
{
    &lt;span class="kwrd"&gt;foreach&lt;/span&gt; (Tweet tweet &lt;span class="kwrd"&gt;in&lt;/span&gt; Model.Tweets)
    {
        &amp;lt;p&amp;gt;&amp;lt;a href=&lt;span class="str"&gt;&amp;quot;@tweet.Link&amp;quot;&lt;/span&gt; target=&lt;span class="str"&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&amp;gt;@tweet.Text&amp;lt;/a&amp;gt;
            &amp;lt;br/&amp;gt;
            @tweet.FriendlyDate
        &amp;lt;/p&amp;gt;            
    }
}&lt;/pre&gt;

&lt;h4&gt;Final words&lt;/h4&gt;

&lt;p&gt;Easy huh? I’ve made a few other minor modifications to the source, mostly in structure and naming (eg: putting drivers and handlers into more sensible folders and renaming a couple of files), but nothing that really affects the build.&lt;/p&gt;

&lt;p&gt;As ever, grab the code from codeplex: &lt;a href="http://orchardsamplesite.codeplex.com"&gt;http://orchardsamplesite.codeplex.com&lt;/a&gt; under the part-05 folder (or just skip ahead to final, which is evolving quicker than the blog posts are!).&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5035218310814463958/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html#comment-form' title='11 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' title='Real world Orchard CMS – part 5 – caching - lets get that twitter widget working.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/TdKbX0jrDPI/AAAAAAAAAV8/Xu5Dyka37No/s72-c/image2.png?imgmax=800' height='72' width='72'/><thr:total>11</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274</id><published>2011-05-17T15:29:00.001+01:00</published><updated>2011-07-03T19:47:02.938+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Orchard'/><category scheme='http://www.blogger.com/atom/ns#' term='RealWorldOrchard'/><title type='text'>Real world Orchard CMS – part 4 – cleaning up the theme</title><content type='html'>&lt;p&gt;As I said in my&lt;a href="http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html" target="_blank"&gt; earlier post&lt;/a&gt;, this series is about creating a real world site with &lt;a href="http://orchardproject.net" target="_blank"&gt;Orchard CMS&lt;/a&gt;, I’m not covering using Orchard to manage the site, just the technical development parts. All of the code is available on codeplex here : &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com/&lt;/a&gt;&lt;/p&gt;  &lt;h4&gt;&lt;strong&gt;Preamble&lt;/strong&gt; &lt;/h4&gt;  &lt;p&gt;In the earlier parts of this series we created a basic theme, and a widget that will display latest twitter feeds (actually, that widget just displays canned results but if you look in the “final” directory in the source, you’ll find the finished working version of this widget). In this post I want to look at enhancing the theme somewhat as there are a few subtleties at the moment that aren’t right with how we want this theme to function.&lt;/p&gt;  &lt;p&gt;If you’re following along, by now you should have added some content to your site, on the home page you should have;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;A html widget that shows the featured product content (just mocked up at the moment)&lt;/li&gt;    &lt;li&gt;A html widget with some “about us” content in the left hand column&lt;/li&gt;    &lt;li&gt;The twitter widget in the left hand column&lt;/li&gt;    &lt;li&gt;A blog created with a couple of dummy posts&lt;/li&gt;    &lt;li&gt;A recent blog posts widget in the centre column&lt;/li&gt;    &lt;li&gt;An additional html widget with some “support” content in the right hand column.&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Like this;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TdKGI_aNcWI/AAAAAAAAAU8/kxyz3vVshzY/image%5B4%5D.png?imgmax=800" width="500" height="482" /&gt; &lt;/p&gt;  &lt;p&gt;But this isn’t quite how we want it. It should look more like this;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TdKGJba928I/AAAAAAAAAVA/PvWJc_IWA54/image%5B61%5D.png?imgmax=800" width="538" height="482" /&gt;&lt;/p&gt;  &lt;p&gt;So there are 5 key things we need to sort out;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Page titles&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Getting rid of it on the homepage&lt;/li&gt;      &lt;li&gt;Restyling it everywhere else&lt;/li&gt;      &lt;li&gt;Removing the publishing metadata (date) on pages&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Using a filter provider to indicate we’re rendering the homepage&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;To make some discreet changes in the main layout template without having a separate template just for the homepage.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Making the widget titles stand out more (I believe this is what they call “making it pop” &amp;lt;&amp;lt;snigger&amp;gt;&amp;gt;)&lt;/li&gt;    &lt;li&gt;Reformatting the recent blog posts widget on the homepage&lt;/li&gt;    &lt;li&gt;Improving our main blog page to show full articles&lt;/li&gt; &lt;/ul&gt;  &lt;h4&gt;&lt;strong&gt;Part 4.1 – sorting out page titles&lt;/strong&gt;&lt;/h4&gt;  &lt;p&gt;Page titles in the theme at the moment serve their purpose, but they aren’t quite right for us in a number of ways. These are;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;They show publish date/time with every page title, which on the blog list page can be a little cumbersome in particular.     &lt;br /&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TdKGJ0_IMeI/AAAAAAAAAVE/R_JycQMN5N0/image%5B37%5D.png?imgmax=800" width="214" height="241" /&gt;&lt;/li&gt;    &lt;li&gt;We don’t want the page title on the homepage at all, it’s a little ungainly.&lt;/li&gt;    &lt;li&gt;We want them to “pop” more ;)&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;What we want to achieve is to change the way page titles are displayed from this, as the theme is presently configured;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TdKGKAXv-gI/AAAAAAAAAVI/reFcUIBGbuY/image%5B40%5D.png?imgmax=800" width="405" height="134" /&gt; &lt;/p&gt;  &lt;p&gt;to this… yes, I know, it’s only a subtle change, but &amp;lt;sarcasm&amp;gt;it “pops” now don’t you think&amp;lt;/sarcasm&amp;gt;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TdKGKVQOu8I/AAAAAAAAAVM/4A9JChp7h0o/image%5B43%5D.png?imgmax=800" width="401" height="125" /&gt;&amp;#160; &lt;/p&gt;  &lt;p&gt;The first thing we want to look at is placement.info – placement.info is the theme writers friend, I suggest you go off an &lt;a href="http://www.orchardproject.net/docs/Understanding-placement-info.ashx" target="_blank"&gt;read about it in the documentation&lt;/a&gt;, but suffice it to say it allows you to send shapes you don’t want to oblivion or to provide alternate templates (or wrappers) in certain conditions. You can specify criteria, such as on a particular page, when rendering a particular content type, I want to hide the metadata shape, or I want to render it with an alternative template name and so on. We’re going to use placement.info to get rid of the title and metadata on the homepage and get rid of the metadata on other pages.&lt;/p&gt;  &lt;p&gt;In your theme project, create a file named “Placement.info” in the root of the project, and fill it thus;&lt;/p&gt;  &lt;div class="csharpcode"&gt;   &lt;pre&gt;&lt;span class="lnum"&gt;   1:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   2:  &lt;/span&gt;    &lt;span class="rem"&gt;&amp;lt;!-- Remove the page title from the homepage --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   3:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;Path&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;~/&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   4:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_RoutableTitle&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   5:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   6:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   7:  &lt;/span&gt;    &lt;span class="rem"&gt;&amp;lt;!-- Remove metadata part from all pages and from blogs --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   8:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;ContentType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Page&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   9:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Metadata&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  10:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  11:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;ContentType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Blog&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  12:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Metadata&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  13:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  14:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Lines 3,4,5 create a rule that whenever the homepage is being rendered, it should take the shape named Parts_RoutableTitle and send it to a local zone named “-“. This zone doesn’t exist, it’s used to send the shape rendering to purgatory. The routable title shape usually includes the metadata shape also (Parts_Common_Metadata – the shape with the published date/time on it), so by removing the entire title shape we also get rid of the metadata on the homepage.&lt;/p&gt;

&lt;p&gt;Lines 7-10 remove the Parts_Common_Metadata shape from any page that is rendered. A page is of course a content type, and the match rule reflects this.&lt;/p&gt;

&lt;p&gt;Similarly on lines 11-13 we tell orchard to remove the metadata shape from the blog list pages. Note this is not the blog post pages, where we want to keep that meta data to show when the post was published, blog post pages have a content type of BlogPost, so these lines will only affect the overall blog listing page.&lt;/p&gt;

&lt;p&gt;So that part was simple enough, we’ve removed the bits we don’t want, so we now need to reformat the bits we wanted to change; Before we go on, ensure you understand the following bits of the orchard documentation, which explain things more clearly than I can;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/Accessing-and-rendering-shapes.ashx"&gt;http://www.orchardproject.net/docs/Accessing-and-rendering-shapes.ashx&lt;/a&gt;&lt;/li&gt;

  &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/Alternates.ashx"&gt;http://www.orchardproject.net/docs/Alternates.ashx&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In summary, a shape which is added to the pipeline for rendering will have a bunch of templates that you could override to change how it will be rendered. For instance, to change a page title with a shape name of Parts_RoutableTitle, you could just create a new razor file in your template’s view folder called Parts.RoutableTitle.cshtml and this will change every page title throughout your site. Alternates are also available, so you could create Parts.RoutableTitle-Page.cshtml and this will be the template used whenever the Parts_RoutableTitle shape is rendered within a content type of Page. For a full list of alternates, use the shape tracing feature of orchard 1.1 (and enable the url alternates feature for more alternates out of the box);&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TdKGLK6BO1I/AAAAAAAAAVQ/RG3ksCg6I0M/image%5B46%5D.png?imgmax=800" width="952" height="554" /&gt; &lt;/p&gt;

&lt;p&gt;So, because we want to change the title on every page (except the homepage where we’ve removed it), we can just create Parts.RoutableTitle.cshtml in our views folder as follows;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;h1&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;page-title&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@Model.Title&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;h1&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;That’s all – if you’re wondering how to know the “Title” property is available on this dynamic, again, take a close look at the shape tracing feature, specifically the model tab (Anyone else want to send free beer to whomever wrote this little nugget of gold???)&lt;/p&gt;

&lt;p&gt;All we then need is the H1.page-title class in our stylesheet;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;h1.page-title{ font-size: 2em; border-bottom: 1px dotted black; margin-bottom: 8pt; padding-bottom: 2px; }&lt;/pre&gt;

&lt;p&gt;&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;We should now be in a position where the title and metadata is removed from the homepage, the metadata is removed from the pages we don’t want it and our titles “pop”. Let’s go back to the homepage. &lt;/p&gt;

&lt;h4&gt;Part 4.2 closing the gaps on the homepage with a filter provider&lt;/h4&gt;

&lt;p&gt;Notice that between the promo content and the widget areas there is still some blank content. In fact if you inspect the rendered source you will find this;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-body&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;    
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-body&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;without-sidebar&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone zone-content&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;article&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;content-item page&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
                &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;header&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
                &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;header&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;article&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;Which, in our layout.cshtml corresponds to;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@if (displayContent || displayBodySideBar)
{
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-body&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;    
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-body&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;@bodyClasses&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
            @Display(Model.Content)
        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;

        @if (displayBodySideBar)
        {
            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-body-sidebar&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
            @Display(Model.BodySideBar)
            &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        }
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;     
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Hmmm – so our Model.content is empty (so displayContent should have been false) but it’s clearly not null, so it’s rendering this whole section which we don’t really want if we’re on the homepage and I want that gap closed. I could create a separate layout for the homepage using url alternates, but to be honest this is so trivial I’d sooner just be able to check in the template code if this is the homepage and if so, don’t display the entire body content section, even if there IS content in there. We can use a FilterProvider for just this purpose;&lt;/p&gt;

&lt;p&gt;Create a class file in your theme called LayoutFilter.cs with the following code;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Web.Mvc;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Mvc.Filters;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSite
{
    &lt;span class="rem"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;
    &lt;span class="rem"&gt;/// This filter just adds an IsHomepage flag to the Layout shape if the page&lt;/span&gt;
    &lt;span class="rem"&gt;/// being rendered is the homepage. We check this in the layout to determine&lt;/span&gt;
    &lt;span class="rem"&gt;/// whether to render the content area or not (this theme is used to just render&lt;/span&gt;
    &lt;span class="rem"&gt;/// widgets in zones on the homepage)&lt;/span&gt;
    &lt;span class="rem"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; HomepageLayoutFilter : FilterProvider, IResultFilter
    {
        &lt;span class="kwrd"&gt;private&lt;/span&gt; &lt;span class="kwrd"&gt;readonly&lt;/span&gt; IWorkContextAccessor _wca;

        &lt;span class="kwrd"&gt;public&lt;/span&gt; HomepageLayoutFilter(IWorkContextAccessor wca)
        {
            _wca = wca;
        }

        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;void&lt;/span&gt; OnResultExecuting(ResultExecutingContext filterContext)
        {
            var workContext = _wca.GetContext();
            var routeValues = filterContext.RouteData.Values;

            &lt;span class="kwrd"&gt;if&lt;/span&gt; (((&lt;span class="kwrd"&gt;string&lt;/span&gt;)routeValues[&lt;span class="str"&gt;&amp;quot;area&amp;quot;&lt;/span&gt;]) == &lt;span class="str"&gt;&amp;quot;HomePage&amp;quot;&lt;/span&gt;)
                workContext.Layout.IsHomepage = &lt;span class="kwrd"&gt;true&lt;/span&gt;;
        }

        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;void&lt;/span&gt; OnResultExecuted(ResultExecutedContext filterContext)
        {
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;This filter gets discovered automatically and called when a page render is executing. It gets an IWorkContextAccessor injected into it, which we can use to manipulate the shapes already in the shape tree. Our OnResultExecuting method gets called and we determine if the MVC area we are in is for the HomePage and if it is, we inject a property into the Layout shape that flags that this is the homepage. We then just need to take that into account in our layout.cshtml by changing this line;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;var displayContent = (Model.Content != &lt;span class="kwrd"&gt;null&lt;/span&gt;);&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;to this;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;var displayContent = !(WorkContext.Layout.IsHomepage == &lt;span class="kwrd"&gt;true&lt;/span&gt;);&lt;/pre&gt;

&lt;p&gt;Now when the homepage is rendered, that slightly annoying gap should close without having to create a whole separate template.&lt;/p&gt;

&lt;h4&gt;Part 4.3 – adding more distinction to the titles of widgets&lt;/h4&gt;

&lt;p&gt;Presently the widget titles on the homepage (and the rest of the site) look a little lost in the overall design – they look a little anaemic don’t you think;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TdKGLblCMpI/AAAAAAAAAVU/2nYBjg0TlVo/image%5B10%5D.png?imgmax=800" width="433" height="71" /&gt;&lt;/p&gt;

&lt;p&gt;We want them to look more like this;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TdKGLrqWnGI/AAAAAAAAAVY/an-9Awl9hG8/image%5B13%5D.png?imgmax=800" width="479" height="69" /&gt;&lt;/p&gt;

&lt;p&gt;Which is extremely simple, we just override the wrapper markup for widgets by creating “Widget.Wrapper.cshtml” in our views folder with the following code;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@* This overrides the default widget wrapper *@
@using Orchard.ContentManagement;
@using Orchard.Widgets.Models;
@{
    var title = ((IContent)Model.ContentItem).As&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;WidgetPart&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;().Title;
    var tag = Tag(Model, &amp;quot;article&amp;quot;);
}
@tag.StartElement
    @if (HasText(title) || Model.Header != null)
    {
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;header&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @if (HasText(title))
        {
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;h1&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;widget-title&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@title&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;h1&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        }
        @Display(Model.Header)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;header&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    }
    @Display(Model.Child)
    @if (Model.Footer != null)
    {
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;footer&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Display(Model.Footer)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;footer&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    }
@tag.EndElement&lt;/pre&gt;

&lt;p&gt;This is very similar to the default widget wrapper, except we’re using H1 for the title with a CSS class of widget-title, we define this in our stylesheet as;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;h1.widget-title{ font-size: 1.1em; font-weight: bold; border-bottom: 1px dotted black; margin-bottom: 8px; padding-bottom: 2px;}&lt;/pre&gt;

&lt;p&gt;And that gives us our new widget titles. We’ll be doing the same thing in another post later to add the twitter icon to our widget title for the twitter component (see the original mock up in the &lt;a href="http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html" target="_blank"&gt;introductory post&lt;/a&gt;)&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;&lt;/p&gt;

&lt;h4&gt;&lt;strong&gt;Part 4.4 - &lt;/strong&gt;&lt;strong&gt;A less cluttered look to the recent blog post summaries&lt;/strong&gt;&lt;/h4&gt;

&lt;p&gt;As you can see below, the amount of information we’re presenting on the homepage for a quick summary of posts is a little much;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TdKGMMvZnaI/AAAAAAAAAVc/Oe-YZNYtijI/image%5B19%5D.png?imgmax=800" width="318" height="424" /&gt;&lt;/p&gt;

&lt;p&gt;We’re going to aim for something a little more succinct; &lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TdKGMdjz1MI/AAAAAAAAAVg/mGBs3DS_42I/image%5B16%5D.png?imgmax=800" width="324" height="352" /&gt;&amp;#160;&lt;/p&gt;

&lt;p&gt;Notice we’ve removed the tags, removed the comment count, make the title stand out a little more and also added who the author was. To achieve this we’re going to use the url alternates feature that can be found in the designer tools module – get it from the gallery and install it;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TdKGMn2d2aI/AAAAAAAAAVk/eqewUGe6mCE/image%5B49%5D.png?imgmax=800" width="573" height="279" /&gt; &lt;/p&gt;

&lt;p&gt;Ensure you have enabled the url alternates feature;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TdKGNOFZoMI/AAAAAAAAAVo/jjCoSH8-Ne4/image%5B53%5D.png?imgmax=800" width="642" height="73" /&gt; &lt;/p&gt;

&lt;p&gt;This feature provides some additional alternates for shapes based on url, we’re going to use an alternate for how to render blog post shapes, in summary form, on the home page. With this feature active, we can now create a shape template called Content-BlogPost-url-homepage.Summary.cshtml in our views folder. This rather long template name indicates that it will be called when rendering a summary display of a BlogPost content item when on the homepage url. The content of the file should be;&lt;/p&gt;

&lt;div class="csharpcode"&gt;
  &lt;pre&gt;&lt;span class="lnum"&gt;   1:  &lt;/span&gt;@*&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   2:  &lt;/span&gt;    This template changes the way blog post summaries &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   3:  &lt;/span&gt;    are rendered on the homepage (Requires url alternates feature)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   4:  &lt;/span&gt;*@&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   5:  &lt;/span&gt;@using Orchard.Core.Routable.Models&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   6:  &lt;/span&gt;@using Orchard.ContentManagement.ViewModels&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   7:  &lt;/span&gt;@using Orchard.ContentManagement&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   8:  &lt;/span&gt;@using Orchard.Core.Common.Models&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   9:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  10:  &lt;/span&gt;@{&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  11:  &lt;/span&gt;    ContentItem item = Model.ContentItem;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  12:  &lt;/span&gt;    RoutePart rpItem = item.As&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;RoutePart&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;();&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  13:  &lt;/span&gt;    BodyPart bpItem = item.As&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;BodyPart&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;();&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  14:  &lt;/span&gt;    &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  15:  &lt;/span&gt;    string linkUrl = Url.ItemDisplayUrl(item);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  16:  &lt;/span&gt;}&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  17:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  18:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;h4&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;a&lt;/span&gt; &lt;span class="attr"&gt;href&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;@linkUrl&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@rpItem.Title&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;a&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;h4&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  19:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;publishinfo&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@Model.ContentItem.CommonPart.PublishedUtc by @Model.ContentItem.CommonPart.Owner.UserName&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  20:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  21:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@Html.Raw(Html.Excerpt(bpItem.Text, 200).ToString())&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;p&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  22:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Nothing much to explain here,&amp;#160; we get the content item that is being rendered (the blog post) and get it’s Route content part and Body content part, then render it how we wanted it. EDIT: &lt;a href="http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html#comments" target="_blank"&gt;See the comment from Bertrand LeRoy on the part 3 post about working with dates.&lt;/a&gt;&lt;/p&gt;

&lt;h4&gt;&lt;strong&gt;Part 4.5 - A cleaner and fuller blog page&lt;/strong&gt;&lt;/h4&gt;

&lt;p&gt;The final part of this (what has turned into a length) post is regarding the blog page. Most blogs display the full article of the most recent posts on the main blog page rather than just a summary but ours renders like this;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TdKGNk-KTdI/AAAAAAAAAVs/l6SbB7FWEpM/image%5B29%5D.png?imgmax=800" width="642" height="282" /&gt; &lt;/p&gt;

&lt;p&gt;For our site, I’d sooner see the full article;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TdKGPKIAGtI/AAAAAAAAAVw/0ks4ZRyHoiI/image%5B34%5D.png?imgmax=800" width="642" height="772" /&gt; &lt;/p&gt;

&lt;p&gt;To achieve this, we look back to our old friend, placement.info, adding the following match rule and placements.&lt;/p&gt;

&lt;pre class="csharpcode"&gt;    &lt;span class="rem"&gt;&amp;lt;!-- Remove comment counts from blog posts and set the summary blog post body alternate --&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;ContentType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;BlogPost&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Comments_Count&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;-&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt; &lt;span class="attr"&gt;DisplayType&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Summary&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_Common_Body_Summary&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:5;Alternate=Parts_BlogPostSummaryBody&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Match&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;Notice we have nested match rules – the outer rule is matching against blog posts content type, the inner rule is only for when the display type for this content type is summary. We’re obviously getting rid of the comments count in general, but then in the summary rule, we’re also telling orchard to look for an alternate named Parts_BlogPostSummaryBody, which it will use when the match conditions are met and when it’s rendering a shape named Parts_Common_Body_Summary. Remember from the documentation that content is composed of multiple parts - the blog post is therefore made up of multiple parts and one of those is the body part (Parts_Common_Body), which when it’s rendered on the blog list page will render in summary form (Parts_Common_Body_Summary)….&lt;/p&gt;

&lt;p&gt;So, this rule and placement is saying when I’m rendering a blog post and when I’m rendering it in summary form, and when the shape I’m rendering is the Parts_Common_Body_Summary shape, look for an alternate named Parts_BlogPostSummaryBody, which in turn translates to a template file of Parts.BlogPostSummaryBody.cshtml which should be in your views folder and have the following content;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@Model.Html&lt;/pre&gt;

&lt;p&gt;That’s it! Now, when your blog page renders it will show the entire blog post.&lt;/p&gt;

&lt;h5&gt;Final words&lt;/h5&gt;

&lt;p&gt;You should now have a site that looks more like our original design;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TdKGJba928I/AAAAAAAAAVA/PvWJc_IWA54/image%5B61%5D.png?imgmax=800" width="538" height="482" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TdKGPyHb-4I/AAAAAAAAAV0/GZyegHTGMeQ/image%5B65%5D.png?imgmax=800" width="642" height="323" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TdKGQgeQhKI/AAAAAAAAAV4/Ekh8FOFJLdw/image%5B69%5D.png?imgmax=800" width="642" height="367" /&gt; &lt;/p&gt;

&lt;p&gt;As a final word, forgive any inaccuracies in this series, I’m sure there will be some, I’ve only been looking at orchard now for a matter of days, I’m loving it’s flexibility and I’m sure I’ve made some mistakes along the way, but I do hope this gives you a steer in the right direction when theme-ing your sites. For the rest of the series, I’m planning on moving away from the skinning side of Orchard to look at some of the other cool things you can achieve. Don’t hold me to this, but the next parts I’m thinking will be something along the lines of;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Creating custom content types&lt;/li&gt;

  &lt;ul&gt;
    &lt;li&gt;Defining the product listing&lt;/li&gt;

    &lt;li&gt;Defining the product page and adding social features like voting&lt;/li&gt;

    &lt;li&gt;Adding screenshot library to the product page&lt;/li&gt;
  &lt;/ul&gt;

  &lt;li&gt;Creating sub-navigation&lt;/li&gt;

  &lt;ul&gt;
    &lt;li&gt;Creating a widget that will allow navigation within sections of your site&lt;/li&gt;
  &lt;/ul&gt;

  &lt;li&gt;Relating content&lt;/li&gt;

  &lt;ul&gt;
    &lt;li&gt;Creating a widget to find content on your site that may be related to the current content being viewed.&lt;/li&gt;
  &lt;/ul&gt;

  &lt;li&gt;Basic shopping, advanced widgets and controller based content&lt;/li&gt;

  &lt;ul&gt;
    &lt;li&gt;This will be a multi-part post I think covering implementing basic shopping basket functionality&lt;/li&gt;

    &lt;li&gt;Creating a widget that renders initially as part of the normal rendering pipe and then updates with AJAX calls to a custom controller.&lt;/li&gt;

    &lt;li&gt;Implementing a custom controller to provide complete rendering control – to display our shopping basket – yet keeping the rendering themeable.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/ul&gt;

&lt;p&gt;As always, the source is in the part-04 folder on code plex : &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See you soon! Tony.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3096785461835423274/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html#comment-form' title='9 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' title='Real world Orchard CMS – part 4 – cleaning up the theme'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/TdKGI_aNcWI/AAAAAAAAAU8/kxyz3vVshzY/s72-c/image%5B4%5D.png?imgmax=800' height='72' width='72'/><thr:total>9</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805</id><published>2011-05-12T22:06:00.000+01:00</published><updated>2011-07-03T19:47:02.939+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Orchard'/><category scheme='http://www.blogger.com/atom/ns#' term='RealWorldOrchard'/><title type='text'>Real world Orchard CMS – part 3 – creating the twitter widget</title><content type='html'>&lt;p&gt;As I said in my&lt;a href="http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html" target="_blank"&gt; earlier post&lt;/a&gt;, this series is about creating a real world site with &lt;a href="http://orchardproject.net" target="_blank"&gt;Orchard CMS&lt;/a&gt;, I’m not covering using Orchard to manage the site, just the technical development parts. All of the code is available on codeplex here: &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com/&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Preamble&lt;/strong&gt;     &lt;br /&gt;This post is about creating a widget that will render a list of latest twitter feeds on the site. Rather than complicate matters with calling the twitter API, this post will look at building the widget itself and return canned results. Interfacing to twitter itself is left as an exercise for the reader.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Goal      &lt;br /&gt;&lt;/strong&gt;To create a widget that can be added to a page that will display a list of recent tweets;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Background reading and preparation      &lt;br /&gt;&lt;/strong&gt;If you are following along with the series, you should have already completed part 2 to get your theme up and running. As for background reading;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/Building-a-hello-world-module.ashx" target="_blank"&gt;Building a “Hello world module”&lt;/a&gt; &lt;/li&gt;    &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/Writing-a-widget.ashx" target="_blank"&gt;Writing a widget&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;In a later article we will look at how you can build a widget without a model (content record and part), but for now, this is the standard way of constructing a widget for your site.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Lets get started - c&lt;/strong&gt;&lt;strong&gt;odegen the module      &lt;br /&gt;&lt;/strong&gt;Open a command line and navigate to the bin directory of the site source. Here you will find orchard.exe, a command line tool for managing orchard and where we will generate our scaffolding for our custom module. Run orchard.exe. Sometimes I get an exception when I try to run the tool, if the same happens to you, just run it again and it should fire up second time round and you will be presented with the orchard shell.&lt;/p&gt;  &lt;p&gt;Use codegen to generate the boilerplate code for your module by executing the command;&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;codegen module SampleSiteModule&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;&lt;strong&gt;Open the project in visual studio      &lt;br /&gt;&lt;/strong&gt;Back in visual studio you can now add the module project to the orchard solution (Right click the solution name in solution explorer and select Add –&amp;gt; existing project). Find the newly created module project under orchard/modules/SampleSiteModule/SampleSiteModule.csproj and select it, you should then have the module project in your solution;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TcptqlyYvXI/AAAAAAAAAU0/z8JF-N0Q9Do/image%5B2%5D.png?imgmax=800" width="260" height="305" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Create the record, part, driver and handler      &lt;br /&gt;&lt;/strong&gt;Our widget, when added to a page, will offer the author the ability to specify the twitter user to get tweets for, the number of tweets to obtain and a duration of time to cache the results for before hitting the twitter API again. For this we need to define the fields in a ContentRecord. Within models create a new file – TwitterWidgetRecord.cs as follows;&lt;/p&gt;  &lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Records;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; TwitterWidgetRecord : ContentPartRecord
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; TwitterUser { get; set; }
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; MaxPosts { get; set; }
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;virtual&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; CacheMinutes { get; set; }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;&lt;style type="text/css"&gt;

.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;This simply defines the class that will represent the data to be persisted for this widget. It derives from ContentPartRecord, which in turn contains the id’s and what not’s to marry this record up to the rest of the data that composes the overall content record. Next, we need to define a ContentPart that wraps this information. Create a new file (again in models) – TwitterWidgetPart.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System.ComponentModel;
&lt;span class="kwrd"&gt;using&lt;/span&gt; System.ComponentModel.DataAnnotations;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; TwitterWidgetPart : ContentPart&amp;lt;TwitterWidgetRecord&amp;gt;
    {
        [Required]
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; TwitterUserName
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.TwitterUser; }
            set { Record.TwitterUser = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }

        [Required]
        [DefaultValue(5)]
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; MaxPosts
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.MaxPosts; }
            set { Record.MaxPosts = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }

        [Required]
        [DefaultValue(60)]
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; CacheMinutes
        {
            get { &lt;span class="kwrd"&gt;return&lt;/span&gt; Record.CacheMinutes; }
            set { Record.CacheMinutes = &lt;span class="kwrd"&gt;value&lt;/span&gt;; }
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;Next, the handler to tell orchard that we want to store the TwitterWidgetRecord to the database - create models\TwitterWidgetRecordHandler.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Handlers;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Data;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; TwitterWidgetRecordHandler : ContentHandler
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; TwitterWidgetRecordHandler(IRepository&amp;lt;TwitterWidgetRecord&amp;gt; repository)
        {
            Filters.Add(StorageFilter.For(repository));
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Finally to complete this section we need a driver to build the shapes required to render the widget. Create models\TwitterWidgetDriver.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Drivers;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions; &lt;/pre&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{&lt;br /&gt;    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)] 
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; TwitterWidgetDriver : ContentPartDriver&amp;lt;TwitterWidgetPart&amp;gt;
    {
        &lt;span class="rem"&gt;// GET&lt;/span&gt;
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Display(TwitterWidgetPart part, &lt;span class="kwrd"&gt;string&lt;/span&gt; displayType, dynamic shapeHelper)
        {
            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_TwitterWidget&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.Parts_TwitterWidget(
                        TwitterUserName: part.TwitterUserName ?? String.Empty,
                        Tweets: &lt;span class="kwrd"&gt;null&lt;/span&gt;));
        }

        &lt;span class="rem"&gt;// GET&lt;/span&gt;
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(TwitterWidgetPart part, dynamic shapeHelper)
        {
            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_TwitterWidget_Edit&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.EditorTemplate(
                    TemplateName: &lt;span class="str"&gt;&amp;quot;Parts/TwitterWidget&amp;quot;&lt;/span&gt;,
                    Model: part,
                    Prefix: Prefix));
        }

        &lt;span class="rem"&gt;// POST&lt;/span&gt;
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(TwitterWidgetPart part, IUpdateModel updater, dynamic shapeHelper)
        {
            updater.TryUpdateModel(part, Prefix, &lt;span class="kwrd"&gt;null&lt;/span&gt;, &lt;span class="kwrd"&gt;null&lt;/span&gt;);
            &lt;span class="kwrd"&gt;return&lt;/span&gt; Editor(part, shapeHelper);
        }
    }
}&lt;/pre&gt;

&lt;p&gt;There is quite a bit missing here yet, we need to come back and revisit this driver to actually get the tweets and build the shape correctly. For now, our Display method is constructing a shape called “Parts_TwitterWidget” that will contain properties for the username and a collection of tweets (presently null). The Editor methods build a different part - “Parts_TwitterWidget_Edit” and point to the template file that will be used to present the form for creating one of these widgets.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Creating the service&lt;/strong&gt; 

  &lt;br /&gt;To actually get the data from twitter (or the canned results in our case) we need a class to represent a tweet and a service to go and get the data. Create a new folder in your project called Services and add a new file – ITwitterService.cs;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Collections.Generic;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Services
{
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;interface&lt;/span&gt; ITwitterService : IDependency
    {
        IList&amp;lt;Tweet&amp;gt; GetLatestTweetsFor(TwitterWidgetPart part);
    }
}&lt;/pre&gt;

&lt;p&gt;That defines the interface for the service – notice the IDependency, that tells the dependency injection framework (AutoFac) to discover this type and provide concrete implementations of it automatically to anything that declares a dependency on it. Our service just offers a single method to get the list of latest tweets based on the configuration specified in the part record. Create CachedTwitterService.cs in the services folder with the following concrete implementation;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System;
&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Collections.Generic;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Services
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; CachedTwitterService : ITwitterService
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; IList&amp;lt;Tweet&amp;gt; GetLatestTweetsFor(TwitterWidgetPart part)
        {
            List&amp;lt;Tweet&amp;gt; results = &lt;span class="kwrd"&gt;new&lt;/span&gt; List&amp;lt;Tweet&amp;gt;()
            {
                &lt;span class="kwrd"&gt;new&lt;/span&gt; Tweet{ DateStamp = DateTime.Now.AddSeconds(-10), Text = &lt;span class="str"&gt;&amp;quot;Tweet number three&amp;quot;&lt;/span&gt; },
                &lt;span class="kwrd"&gt;new&lt;/span&gt; Tweet{ DateStamp = DateTime.Now.AddMinutes(-10), Text = &lt;span class="str"&gt;&amp;quot;Tweet number two&amp;quot;&lt;/span&gt; },
                &lt;span class="kwrd"&gt;new&lt;/span&gt; Tweet{ DateStamp = DateTime.Now.AddDays(-5), Text = &lt;span class="str"&gt;&amp;quot;Tweet number one&amp;quot;&lt;/span&gt; }
               };

            &lt;span class="kwrd"&gt;return&lt;/span&gt; results;
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;In this case, we’re just returning some canned results, your implementation should go off to twitter and get the part.MaxPosts tweets for part.TwitterUserName, push it into a cache for part.CacheMinutes.&lt;/p&gt;

&lt;p&gt;The Tweet object being added to the list needs to be defined, so add Tweet.cs to your models directory;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; Tweet
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; DateTime DateStamp { get; set; }
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; Text { get; set; }

        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;string&lt;/span&gt; FriendlyDate
        {
            get
            {
                TimeSpan span = DateTime.Now - DateStamp;
                &lt;span class="kwrd"&gt;if&lt;/span&gt; (span.TotalSeconds &amp;lt; 30)
                    &lt;span class="kwrd"&gt;return&lt;/span&gt; &lt;span class="str"&gt;&amp;quot;moments ago.&amp;quot;&lt;/span&gt;;

                &lt;span class="kwrd"&gt;if&lt;/span&gt; (span.TotalSeconds &amp;lt; 60)
                    &lt;span class="kwrd"&gt;return&lt;/span&gt; &lt;span class="str"&gt;&amp;quot;Less than a minute ago.&amp;quot;&lt;/span&gt;;

                &lt;span class="kwrd"&gt;if&lt;/span&gt; (span.TotalMinutes &amp;lt; 60)
                    &lt;span class="kwrd"&gt;return&lt;/span&gt; String.Format(&lt;span class="str"&gt;&amp;quot;{0:0} minute{1} ago&amp;quot;&lt;/span&gt;, span.TotalMinutes, span.TotalMinutes &amp;gt; 1 ? &lt;span class="str"&gt;&amp;quot;s&amp;quot;&lt;/span&gt; : &lt;span class="str"&gt;&amp;quot;&amp;quot;&lt;/span&gt;);

                &lt;span class="kwrd"&gt;if&lt;/span&gt; (span.TotalHours &amp;lt; 24)
                    &lt;span class="kwrd"&gt;return&lt;/span&gt; String.Format(&lt;span class="str"&gt;&amp;quot;{0:0} hour{1} ago&amp;quot;&lt;/span&gt;, span.TotalHours, span.TotalHours &amp;gt; 1 ? &lt;span class="str"&gt;&amp;quot;s&amp;quot;&lt;/span&gt; : &lt;span class="str"&gt;&amp;quot;&amp;quot;&lt;/span&gt;);

                &lt;span class="kwrd"&gt;return&lt;/span&gt; String.Format(&lt;span class="str"&gt;&amp;quot;{0:0} day{1} ago&amp;quot;&lt;/span&gt;, span.TotalDays, span.TotalDays &amp;gt; 1 ? &lt;span class="str"&gt;&amp;quot;s&amp;quot;&lt;/span&gt; : &lt;span class="str"&gt;&amp;quot;&amp;quot;&lt;/span&gt;);
            }
        }
    }
}&lt;/pre&gt;

&lt;p&gt;We can now go back and revisit our driver to have a dependency on this service and invoke it to get the model;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.Drivers;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Services;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule.Models
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; TwitterWidgetDriver : ContentPartDriver&amp;lt;TwitterWidgetPart&amp;gt;
    {
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; ITwitterService Twitter{ get; &lt;span class="kwrd"&gt;private&lt;/span&gt; set; }

        &lt;span class="kwrd"&gt;public&lt;/span&gt; TwitterWidgetDriver(ITwitterService twitter)
        {
            Twitter = twitter;
        }

        &lt;span class="rem"&gt;// GET&lt;/span&gt;
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Display(TwitterWidgetPart part, &lt;span class="kwrd"&gt;string&lt;/span&gt; displayType, dynamic shapeHelper)
        {
            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_TwitterWidget&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.Parts_TwitterWidget(
                        TwitterUserName: part.TwitterUserName ?? String.Empty,
                        Tweets: Twitter.GetLatestTweetsFor(part)));
        }

        &lt;span class="rem"&gt;// GET&lt;/span&gt;
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(TwitterWidgetPart part, dynamic shapeHelper)
        {
            &lt;span class="kwrd"&gt;return&lt;/span&gt; ContentShape(&lt;span class="str"&gt;&amp;quot;Parts_TwitterWidget_Edit&amp;quot;&lt;/span&gt;,
                () =&amp;gt; shapeHelper.EditorTemplate(
                    TemplateName: &lt;span class="str"&gt;&amp;quot;Parts/TwitterWidget&amp;quot;&lt;/span&gt;,
                    Model: part,
                    Prefix: Prefix));
        }

        &lt;span class="rem"&gt;// POST&lt;/span&gt;
        &lt;span class="kwrd"&gt;protected&lt;/span&gt; &lt;span class="kwrd"&gt;override&lt;/span&gt; DriverResult Editor(TwitterWidgetPart part, IUpdateModel updater, dynamic shapeHelper)
        {
            updater.TryUpdateModel(part, Prefix, &lt;span class="kwrd"&gt;null&lt;/span&gt;, &lt;span class="kwrd"&gt;null&lt;/span&gt;);
            &lt;span class="kwrd"&gt;return&lt;/span&gt; Editor(part, shapeHelper);
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;&lt;style type="text/css"&gt;

.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt; Dependency injection will take care of getting the concrete implementation of the ITwitterService passed into the constructor. If you’ve not used dependency injection before (where have you been!), then take a look at the numerous frameworks out there including Castle Windsor, AutoFac (used in Orchard), Unity, StructureMap et al.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Migrations and tidying up some loose ends
    &lt;br /&gt;&lt;/strong&gt;Before we come to the views to actually render the widget, we should probably create our migration to tell Orchard what data tables we need and how the widget part is defined. Create a migrations.cs file in your project;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;using&lt;/span&gt; System.Data;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.ContentManagement.MetaData;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Core.Contents.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Data.Migration;
&lt;span class="kwrd"&gt;using&lt;/span&gt; Orchard.Environment.Extensions;
&lt;span class="kwrd"&gt;using&lt;/span&gt; SampleSiteModule.Models;

&lt;span class="kwrd"&gt;namespace&lt;/span&gt; SampleSiteModule
{
    [OrchardFeature(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;)]
    &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; Migrations : DataMigrationImpl
    {
        &lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;int&lt;/span&gt; Create()
        {
            &lt;span class="rem"&gt;// ** Version one - create the twitter widget ** //&lt;/span&gt;

            &lt;span class="rem"&gt;// Define the persistence table as a content part record with&lt;/span&gt;
            &lt;span class="rem"&gt;// my specific fields.&lt;/span&gt;
            SchemaBuilder.CreateTable(&lt;span class="str"&gt;&amp;quot;TwitterWidgetRecord&amp;quot;&lt;/span&gt;, 
                table =&amp;gt; table
                    .ContentPartRecord()
                    .Column(&lt;span class="str"&gt;&amp;quot;TwitterUser&amp;quot;&lt;/span&gt;, DbType.String)
                    .Column(&lt;span class="str"&gt;&amp;quot;MaxPosts&amp;quot;&lt;/span&gt;, DbType.Int32)
                    .Column(&lt;span class="str"&gt;&amp;quot;CacheMinutes&amp;quot;&lt;/span&gt;, DbType.Int32));

            &lt;span class="rem"&gt;// Tell the content def manager that our TwitterWidgetPart is attachable&lt;/span&gt;
            ContentDefinitionManager.AlterPartDefinition(&lt;span class="kwrd"&gt;typeof&lt;/span&gt;(TwitterWidgetPart).Name,
                builder =&amp;gt; builder.Attachable());

            &lt;span class="rem"&gt;// Tell the content def manager that we have a content type called TwitterWidget&lt;/span&gt;
            &lt;span class="rem"&gt;// the parts it contains and that it should be treated as a widget&lt;/span&gt;
            ContentDefinitionManager.AlterTypeDefinition(&lt;span class="str"&gt;&amp;quot;TwitterWidget&amp;quot;&lt;/span&gt;,
                cfg =&amp;gt; cfg
                    .WithPart(&lt;span class="str"&gt;&amp;quot;TwitterWidgetPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;WidgetPart&amp;quot;&lt;/span&gt;)
                    .WithPart(&lt;span class="str"&gt;&amp;quot;CommonPart&amp;quot;&lt;/span&gt;)
                    .WithSetting(&lt;span class="str"&gt;&amp;quot;Stereotype&amp;quot;&lt;/span&gt;, &lt;span class="str"&gt;&amp;quot;Widget&amp;quot;&lt;/span&gt;));

            &lt;span class="kwrd"&gt;return&lt;/span&gt; 1;
        }
    }
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt; The create method is invoked when the module is first installed, after that, updates are handled by creating methods in the migration named UpdateFromX() where X is the version to update from. In our create method we tell orchard we need a table for our widget record, that it is a content part record and what fields we intend to store. We then tell the content definition manager to set the twitter widget part as something that can be attached to a content type and then create the TwitterWidget content type itself, composed of our new twitter widget part, and the standard widget and common parts. The stereotype setting just lets orchard know that this is a widget type.&lt;/p&gt;

&lt;p&gt;As with the theme in the earlier post, we also need a text file to tell orchard about our module and what it exposes. Create a module.txt file in the project;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;Name: SampleSiteModule
AntiForgery: enabled
Author: You
Website: http://www.deepcode.co.uk
Version: 1.0
OrchardVersion: 1.0
Description: Provides widgets and features for the sample site module
Category: Sample Site
Features:
    TwitterWidget:
        Name: Twitter Widget
        Category: Sample Site
        Description: Widget for latest tweets&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Again, most of this is obvious, but the features section describes the features that are exposed from the module. Modules can expose multiple features, and we’ll be building on this module later to add more and more features so you will notice that all the code above has the OrchardFeature attribute which indicates to orchard what code is relevant to what features. If your module only has a single feature you probably don’t need to bother with this, but as we’re going to build on it, I set it up for multiple features from the get go. In this case we’re just exposing the twitter widget feature. &lt;/p&gt;

&lt;p&gt;Lastly, we need a placement.info file to tell orchard where to put the various shapes we’ve defined in our driver. &lt;a href="http://orchardproject.net/docs/Understanding-placement-info.ashx" target="_blank"&gt;For more information about placement.info, check out the docs&lt;/a&gt;.&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_TwitterWidget&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:1&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;Place&lt;/span&gt; &lt;span class="attr"&gt;Parts_TwitterWidget_Edit&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;Content:7.5&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;Placement&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;&lt;strong&gt;Creating the views
    &lt;br /&gt;&lt;/strong&gt;When we display our twitter widget, Orchard will look for the template that matches the shape being rendered and it will look in a variety of places, including in the module it is declared in and ultimately in the active theme. This allows module developers to create widgets and functionality with a set of default templates that theme authors can then easily override.&lt;/p&gt;

&lt;p&gt;In our case, we defined the shape “Parts_TwitterWidget” when displaying and our driver told orchard to use Parts/TwitterWidget.cshtml for the editor form. As such, create two new razor templates in your module - Views/Parts/TwitterWidget.cshtml and Views/EditorTemplates/Parts/TwitterWidget.cshtml as follows;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Views/Parts/TwitterWidget.cshtml&lt;/em&gt;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@using SampleSiteModule.Models

&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;ul&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    @foreach (Tweet tweet in Model.Tweets)
    {
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;li&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@tweet.DateStamp&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;br&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;@tweet.Text&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;br&lt;/span&gt;&lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;@tweet.FriendlyDate&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;li&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    }
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;ul&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;&lt;em&gt;Views/EditorTemplates/Parts/TwitterWidget.cshtml&lt;/em&gt;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;@model SampleSiteModule.Models.TwitterWidgetPart

&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;fieldset&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;legend&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;Latest Twitter&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;legend&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Twitter username&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.TextBoxFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.TwitterUserName)
        @Html.ValidationMessageFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.TwitterUserName)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Number of tweets&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.TextBoxFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.MaxPosts)
        @Html.ValidationMessageFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.MaxPosts)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-label&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@T(&amp;quot;Cache (minutes)&amp;quot;):&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;editor-field&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        @Html.TextBoxFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.CacheMinutes)
        @Html.ValidationMessageFor(m =&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt; m.CacheMinutes)
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;fieldset&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Go forth and try it out
    &lt;br /&gt;&lt;/strong&gt;If you open orchard now and activate the “Twitter Widget” feature, you can add it to a zone for the homepage layer and you should get;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TcptrCXkDaI/AAAAAAAAAU4/9iUuvywEj4A/image%5B5%5D.png?imgmax=800" width="319" height="208" /&gt; &lt;/p&gt;

&lt;p&gt;Hopefully that wasn’t too painful. I’m trying to keep the posts as concise as I can yet cover off the main detail.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/8243738650382781805/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html#comment-form' title='18 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' title='Real world Orchard CMS – part 3 – creating the twitter widget'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/TcptqlyYvXI/AAAAAAAAAU0/z8JF-N0Q9Do/s72-c/image%5B2%5D.png?imgmax=800' height='72' width='72'/><thr:total>18</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5148744362534951724</id><published>2011-05-12T00:31:00.000+01:00</published><updated>2011-05-13T21:27:19.191+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Orchard'/><title type='text'>Real world Orchard CMS - skipping ahead and source</title><content type='html'>&lt;p&gt;Just a quick note about the source code for the orchard sample series. First off, the source is available here; &lt;a target="_blank" href="http://orchardsamplesite.codeplex.com/SourceControl/list/changesets"&gt;http://orchardsamplesite.codeplex.com/SourceControl/list/changesets&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You will notice that there are multiple folders in the source, one for each article (starting at part-02 as part one was an introductory post), but what I've added tonight is a "final" folder also containing what will ultimately be the finished product from the series.&lt;/p&gt;

&lt;p&gt;I figured this would allow me to storm ahead with the code and then go back and split it down into articles to build up the whole whilst allowing those who just want to explore the final solution quick access to the code.&lt;/p&gt;

&lt;p&gt;So... Cutting a long story short, if you look in the final folder you'll find the code is much further refined than the part 3 article so far (the twitter widget is fully implemented, the product types are all in place, a content part is there for synopsis content and there are numerous tweaks to the layout and theme). I will get around to trying to explain all this in future parts of the series, but feel free to dive into final for a look at what's coming....&lt;/p&gt;

&lt;p&gt;- Posted using BlogPress from my iPad (forgive typos)&lt;/p&gt;




&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5148744362534951724/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-skipping-ahead.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5148744362534951724'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5148744362534951724'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-skipping-ahead.html' title='Real world Orchard CMS - skipping ahead and source'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406</id><published>2011-05-11T23:34:00.000+01:00</published><updated>2011-07-03T19:47:02.940+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Orchard'/><category scheme='http://www.blogger.com/atom/ns#' term='RealWorldOrchard'/><title type='text'>Real world Orchard CMS – part 2 - creating the theme</title><content type='html'>&lt;p&gt;As I said in my&lt;a href="http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html" target="_blank"&gt; earlier post&lt;/a&gt;, this series is about creating a real world site with &lt;a href="http://orchardproject.net" target="_blank"&gt;Orchard CMS&lt;/a&gt;, I’m not covering using Orchard to manage the site, just the technical development parts. All of the code is available on codeplex here : &lt;a href="http://orchardsamplesite.codeplex.com/"&gt;http://orchardsamplesite.codeplex.com/&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Preamble&lt;/strong&gt;     &lt;br /&gt;This post is about skinning your first site with your own custom theme, it will cover the basics of how to generate a theme project, open it in visual studio and code up the relevant aspects to make your site look how you want it. &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Goal      &lt;br /&gt;&lt;/strong&gt;Our objective is to define and apply a theme for the site as per this mockup;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="orchard-kitbag-screenshot" border="0" alt="orchard-kitbag-screenshot" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TcpYKZttM9I/AAAAAAAAAUY/dBjIc5uhG8Q/orchard-kitbag-screenshot%5B4%5D.png?imgmax=800" width="630" height="482" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Background reading and preparation      &lt;br /&gt;&lt;/strong&gt;Before you start, you need to &lt;a href=" http://orchard.codeplex.com/releases/view/59918#DownloadId=227334" target="_blank"&gt;get a copy of orchard 1.1 from codeplex&lt;/a&gt;, and unzip it to a fresh, empty directory and set it up as per the documentation at &lt;a href="http://www.orchardproject.net/docs/Manually-installing-Orchard-zip-file.ashx"&gt;http://www.orchardproject.net/docs/Manually-installing-Orchard-zip-file.ashx&lt;/a&gt; (follow the section titled “Running the site using visual studio and the visual studio development server”.&lt;/p&gt;  &lt;p&gt;After doing that, you should have a working Orchard CMS implementation with the default “theme machine” skin;&lt;/p&gt;  &lt;p&gt;&lt;img alt="Image" src="http://www.orchardproject.net/docs/GetFile.aspx?File=/screenshots_675/Install_finished.png" width="640" height="410" /&gt;&lt;/p&gt;  &lt;p&gt;Before you start, it’s definitely a good idea to familiarise yourself with how orchard works and the basics of themes and shapes – further reading;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/"&gt;http://www.orchardproject.net/docs/&lt;/a&gt; &lt;/li&gt;    &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/Basic-Orchard-Concepts.ashx"&gt;http://www.orchardproject.net/docs/Basic-Orchard-Concepts.ashx&lt;/a&gt; &lt;/li&gt;    &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/How-Orchard-works.ashx"&gt;http://www.orchardproject.net/docs/How-Orchard-works.ashx&lt;/a&gt; &lt;/li&gt;    &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/Writing-a-new-theme.ashx"&gt;http://www.orchardproject.net/docs/Writing-a-new-theme.ashx&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Finally, before beginning you need to have enabled the code generation module as per the following documentation;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;&lt;a href="http://www.orchardproject.net/docs/Command-line-scaffolding.ashx"&gt;http://www.orchardproject.net/docs/Command-line-scaffolding.ashx&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;strong&gt;Lets get started - c&lt;/strong&gt;&lt;strong&gt;odegen the theme scaffolding.      &lt;br /&gt;&lt;/strong&gt;Open a command line and navigate to the bin directory of the site source. Here you will find orchard.exe, a command line tool for managing orchard and where we will generate our scaffolding for our custom theme. Run orchard.exe. Sometimes I get an exception when I try to run the tool, if the same happens to you, just run it again and it should fire up second time round and you will be presented with the orchard shell;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TcpYKp1ca0I/AAAAAAAAAUc/KwcuNU-Dq-M/image%5B2%5D.png?imgmax=800" width="554" height="62" /&gt; &lt;/p&gt;  &lt;p&gt;Use codegen to generate the boilerplate code for your theme by executing the command;&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;codegen theme SampleSite /CreateProject:true&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;&lt;strong&gt;Open the project in visual studio      &lt;br /&gt;&lt;/strong&gt;Back in visual studio you can now add the theme project to the orchard solution (Right click the solution name in solution explorer and select Add –&amp;gt; existing project). Find the newly created theme project under orchard/themes/SampleSite/SampleSite.csproj and select it, you should then have the theme project in your solution;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TcpYLH6gYPI/AAAAAAAAAUg/080J0bp7Pd4/image%5B11%5D.png?imgmax=800" width="268" height="303" /&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Create the initial code layout&lt;/strong&gt;     &lt;br /&gt;First things first, the main template for the theme will be in the Views folder and will be named layout.cshtml. This will be combined with the default document.cshtml which controls the html/head/body rendering before deferring to your layout.cshtml (this can be overridden in your theme if you feel so inclined, although its rare this would be required).&lt;/p&gt;  &lt;p&gt;Our general layout is quite simple, it’s made up of a 960px grid type layout and will expose zones as follows (zones are places where Orchard can push content);&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TcpYLrA3pnI/AAAAAAAAAUk/Adb3ctybPYo/image%5B14%5D.png?imgmax=800" width="572" height="512" /&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;The zones will only be shown if there is some content to show in the zone. As such, the content zone will expand right to fill the side bar zone if there is nothing in there. The layout.cshtml (create it in the views directory) to support this layout is as follows;&lt;/p&gt;  &lt;div class="csharpcode"&gt;   &lt;pre&gt;&lt;span class="lnum"&gt;   1:  &lt;/span&gt;@{&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   2:  &lt;/span&gt;    // Add the site CSS&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   3:  &lt;/span&gt;    Style.Include(&amp;quot;site.css&amp;quot;);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   4:  &lt;/span&gt;    &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   5:  &lt;/span&gt;    // Determine which zones are going to be shown&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   6:  &lt;/span&gt;    var displayBasket = (Model.BasketArea != null);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   7:  &lt;/span&gt;    var displayBodySideBar = (Model.BodySideBar != null);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   8:  &lt;/span&gt;    var displayBeforeBody = (Model.BeforeBody != null);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;   9:  &lt;/span&gt;    var displayTriPanel = (Model.TriPanelLeft != null) || (Model.TriPanelCenter != null) || (Model.TriPanelRight != null);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  10:  &lt;/span&gt;    var displayMessages = (Model.Messages != null);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  11:  &lt;/span&gt;    var displayContent = (Model.Content != null);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  12:  &lt;/span&gt;    &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  13:  &lt;/span&gt;    // Work out if we need to change the class of the main body area        &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  14:  &lt;/span&gt;    var bodyClasses = displayBodySideBar ? &amp;quot;&amp;quot; : &amp;quot;without-sidebar&amp;quot;;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  15:  &lt;/span&gt;    &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  16:  &lt;/span&gt;    // Adds user sign in, dashboard links etc to the bottom of the page&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  17:  &lt;/span&gt;    WorkContext.Layout.BottomDweller.Add(New.User(), &amp;quot;1&amp;quot;);&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  18:  &lt;/span&gt;}&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  19:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  20:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-header&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  21:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-branding&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  22:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;a&lt;/span&gt; &lt;span class="attr"&gt;href&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;@Href(&amp;quot;&lt;/span&gt;~/&lt;span class="kwrd"&gt;&amp;quot;)&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-branding-home&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;a&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  23:  &lt;/span&gt;        @if( displayBasket )&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  24:  &lt;/span&gt;        {&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  25:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-basket-area&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;@Display(Model.BasketArea)&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  26:  &lt;/span&gt;        }&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  27:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  28:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  29:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  30:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-navigation&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  31:  &lt;/span&gt;    @Display(Model.Navigation)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  32:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  33:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  34:  &lt;/span&gt;@if( displayMessages )&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  35:  &lt;/span&gt;{&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  36:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-messages&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  37:  &lt;/span&gt;    @Display(Model.Messages)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  38:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  39:  &lt;/span&gt;}&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  40:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  41:  &lt;/span&gt;@if (displayBeforeBody)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  42:  &lt;/span&gt;{&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  43:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-before-body&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  44:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-before-body&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  45:  &lt;/span&gt;            @Display(Model.BeforeBody)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  46:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  47:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  48:  &lt;/span&gt;}&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  49:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  50:  &lt;/span&gt;@if (displayContent || displayBodySideBar)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  51:  &lt;/span&gt;{&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  52:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-body&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;    &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  53:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-body&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;@bodyClasses&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  54:  &lt;/span&gt;            @Display(Model.Content)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  55:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  56:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  57:  &lt;/span&gt;        @if (displayBodySideBar)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  58:  &lt;/span&gt;        {&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  59:  &lt;/span&gt;            &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-body-sidebar&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  60:  &lt;/span&gt;            @Display(Model.BodySideBar)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  61:  &lt;/span&gt;            &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  62:  &lt;/span&gt;        }&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  63:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;     &lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  64:  &lt;/span&gt;}&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  65:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  66:  &lt;/span&gt;@if (displayTriPanel)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  67:  &lt;/span&gt;{&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  68:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-tripanel&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;class&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  69:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-tripanel-left&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  70:  &lt;/span&gt;        @Display(Model.TriPanelLeft)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  71:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  72:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-tripanel-center&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  73:  &lt;/span&gt;        @Display(Model.TriPanelCenter)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  74:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  75:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;zone-tripanel-right&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  76:  &lt;/span&gt;        @Display(Model.TriPanelRight)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  77:  &lt;/span&gt;        &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  78:  &lt;/span&gt;    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  79:  &lt;/span&gt;}&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  80:  &lt;/span&gt;&amp;#160;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  81:  &lt;/span&gt;&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt; &lt;span class="attr"&gt;id&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;layout-footer-pad&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;div&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  82:  &lt;/span&gt;@Display(Model.AfterContent)&lt;/pre&gt;

  &lt;pre&gt;&lt;span class="lnum"&gt;  83:  &lt;/span&gt;@Display(Model.BottomDweller)&lt;/pre&gt;
&lt;/div&gt;
&lt;style type="text/css"&gt;


.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;&lt;style type="text/css"&gt;


.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;If the template syntax looks strange, go read up about the new &lt;a href="http://orchardproject.net/docs/Template-file-syntax-guide.ashx" target="_blank"&gt;Razor view engine in MVC 3&lt;/a&gt;, which Orchard uses by default, it’s a much cleaner markup than classic aspx/ascx (although you can still use these if you like). Notice we have two additional zones at the bottom of the layout – AfterContent and BottomDweller – the AfterContent zone is used by a number of modules we will be using to throw javascript into, and so it’s included for this purpose. BottomDweller, you can see we populate this zone with a User shape on line 17, which will render the links to get to the dashboard and sign in etc – I’ve put this in place for convenience, but would probably remove it once I’d finished working on the site.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Define the styles 
    &lt;br /&gt;&lt;/strong&gt;Next, we need a stylesheet – create “site.css” in the styles folder; (Note you will also need the logo.png file from the source code).&lt;/p&gt;

&lt;pre class="csharpcode"&gt;/*  Color Palette
**************************************************************
Top: &lt;span class="rem"&gt;#848975&lt;/span&gt;
Dark: &lt;span class="rem"&gt;#27320A&lt;/span&gt;
BG: &lt;span class="rem"&gt;#f6fafa&lt;/span&gt;
White
Black
Link: &lt;span class="rem"&gt;#0099ff;&lt;/span&gt;
*/
/* Resets
***************************************************************/
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, font, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td {
    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    font-weight: inherit;
    font-style: inherit;
    font-size: 100%;
    font-family: inherit;
    vertical-align: baseline;
}
:focus { outline: 0; }
ol, ul { list-style: none; }
table { border-collapse: separate; border-spacing: 0; }
caption, th, td { text-align: left; font-weight: normal; }
blockquote:before, blockquote:after,
q:before, q:after { content: &lt;span class="str"&gt;&amp;quot;&amp;quot;&lt;/span&gt;; }
blockquote, q { quotes: &lt;span class="str"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="str"&gt;&amp;quot;&amp;quot;&lt;/span&gt;; }
header, footer, aside, nav, article { display: block; }

/* Float clears
******************************************************************/
.group:after, .zone:after, .widget-control:after
{
    content: &lt;span class="str"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;;
    display: block;
    height: 0px;
    clear: both;
    visibility: hidden;
}
/* Widgets
***************************************************************/
.widgets {}
.widget h1 { font-size: 1.077em; }
.widget + .widget
{
    margin-top:18px;
}
/* Edit Mode Widgets */
/* These are the edit controls that appear when you're logged-&lt;span class="kwrd"&gt;in&lt;/span&gt; */
.widget-control { position: relative; border: 1px dotted &lt;span class="rem"&gt;#5f97af; }&lt;/span&gt;
.widget-control .manage-actions { position:absolute; top: 0px; right: 0px; }
.widget-control .manage-actions a { display: block; background-color: &lt;span class="rem"&gt;#dbdbdb; color: #434343; padding: 3px 6px;  }&lt;/span&gt;
.widget-control .manage-actions a:hover { background-color: &lt;span class="rem"&gt;#434343; color: #fff; text-decoration: none; }&lt;/span&gt;

.widget-nav-list{ margin: 0px 0px; padding: 0px 0px; }
.widget-nav{ display: block; background-color: &lt;span class="rem"&gt;#e9eaeb; padding: 5px 5px; margin-bottom: 3px; }&lt;/span&gt;
.widget-nav-active{ background-color: &lt;span class="rem"&gt;#ff9900; color: White; font-weight: bold; }&lt;/span&gt;

/* Content Mode */
.content-control { position: relative; border: 1px dotted &lt;span class="rem"&gt;#5f97af; }&lt;/span&gt;
.content-control .manage-actions { position:absolute; top: 0px; right: 0px; }
.content-control .manage-actions a { display: block; background-color: &lt;span class="rem"&gt;#dbdbdb; color: #434343; padding: 3px 6px;  }&lt;/span&gt;
.content-control .manage-actions a:hover { background-color: &lt;span class="rem"&gt;#434343; color: #fff; text-decoration: none; }&lt;/span&gt;

/* General styling
******************************************************************/
body 
{
    background-color: &lt;span class="rem"&gt;#f6fafa;&lt;/span&gt;

    font-size: 81.3%;    /* Sets 1em = 13px/10pt */
    color: black; 
    font-family: Tahoma, &lt;span class="str"&gt;&amp;quot;Helvetica Neue&amp;quot;&lt;/span&gt;, Arial, Helvetica, sans-serif;
}
h1{ font-size: 2em; }
h1.widget-title{ font-size: 1.1em; font-weight: bold; border-bottom: 1px dotted black; margin-bottom: 8px; padding-bottom: 2px;}
h1.page-title{ font-size: 2em; border-bottom: 1px dotted black; margin-bottom: 8pt; padding-bottom: 2px; }
h2{ font-size: 1.9em; }
h3{ font-size: 1.8em; }
h4{ font-size: 1.5em; }
h5{ font-size: 1.4em; }
h6{ font-size: 1.2em; }

p{ margin: 0 0 1em; line-height: 1.538em; }


a{ color: &lt;span class="rem"&gt;#0099ff; text-decoration: none; }&lt;/span&gt;
a:focus, a:hover{ text-decoration: underline; }

.publishinfo
{
    color: &lt;span class="rem"&gt;#333;&lt;/span&gt;
    font-size: 0.9em;
    margin-bottom: 5px;
}

UL.content-items LI
{
    border-bottom: 1px dotted &lt;span class="rem"&gt;#333;&lt;/span&gt;
    padding-bottom: 10px;
    margin-bottom: 10px;
}
UL.content-items LI.last
{
    border-bottom: none;
    padding-bottom: 0px;
    margin-bottom: 0px;
}

/* Layout
******************************************************************/
&lt;span class="rem"&gt;#layout-header&lt;/span&gt;
{
    background-color: &lt;span class="rem"&gt;#848975;&lt;/span&gt;
    height: 125px;
}
    &lt;span class="rem"&gt;#layout-branding&lt;/span&gt;
    {
        width: 960px;
        height: 125px;
        margin: 0px auto 0px auto;
    }
        &lt;span class="rem"&gt;#layout-branding-home&lt;/span&gt;
        {
            display: block;
            position: relative;
            left: 11px;
            top: 21px;
            width: 235px;
            height: 80px;
            background-image: url(logo.png);
            background-repeat: no-repeat;
        }
        &lt;span class="rem"&gt;#layout-basket-area&lt;/span&gt;
        {
            float: right;
            margin: -30px 20px 0px 0px;
        }

    &lt;span class="rem"&gt;#layout-navigation&lt;/span&gt;
    {
        background-color: &lt;span class="rem"&gt;#27320A;&lt;/span&gt;
        height: 35px;
    }
        &lt;span class="rem"&gt;#layout-navigation ul &lt;/span&gt;
        {
            display: block;
            padding: 0px;
            margin: 0px auto 0px auto;
            width: 960px;
        }
        &lt;span class="rem"&gt;#layout-navigation ul li&lt;/span&gt;
        {
            display: inline-block;
            padding: 5px 12px;
            margin: 5px 15px;
        }
        &lt;span class="rem"&gt;#layout-navigation ul li.current &lt;/span&gt;
        {
            background-color: &lt;span class="rem"&gt;#848975;&lt;/span&gt;
            border-radius: 10px; -moz-border-radius: 10px; -webkit-border-radius: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5)            
        }
        &lt;span class="rem"&gt;#layout-navigation ul a &lt;/span&gt;
        {
            font-weight: bold;
            font-size: 1.0em;
            color: white;
            text-decoration: none;
        }

&lt;span class="rem"&gt;#layout-body, #layout-before-body, #layout-tripanel, #layout-messages&lt;/span&gt;
{
    width: 920px;    /* 960 with 20px padding */
    margin: 0px auto 0px auto;
    background-color: White;
    padding: 20px 20px 0px 20px;
}
&lt;span class="rem"&gt;#layout-messages{ width: 940px; padding: 10px 10px 0px 10px; }&lt;/span&gt;
.message, .validation-summary-errors { margin:10px 0 4px 0; padding:4px; }
.messages a { font-weight:bold; }
.message-Information { background:&lt;span class="rem"&gt;#e6f1c9; /* green */ border:1px solid #cfe493; color:#062232; }&lt;/span&gt;
.message-Warning { background:&lt;span class="rem"&gt;#fdf5bc; /* yellow */ border:1px solid #ffea9b; }&lt;/span&gt;
.critical.message, .validation-summary-errors, .message-Error { background:&lt;span class="rem"&gt;#e68585; /* red */ border:1px solid #990808; color:#fff; }&lt;/span&gt;


&lt;span class="rem"&gt;#layout-footer-pad&lt;/span&gt;
{
    width: 960px;
    height: 20px;
    background-color: white;
    margin: 0px auto 0px auto;
}

&lt;span class="rem"&gt;#zone-before-body&lt;/span&gt;
{
    width: 920px;
}

&lt;span class="rem"&gt;#zone-body /* Default body zone accommodates a right hand 290px zone */&lt;/span&gt;
{
    float: left;
    width: 610px;
}
&lt;span class="rem"&gt;#zone-body.without-sidebar /* Without the sidebar, body fills page */&lt;/span&gt;
{
    width: 920px;
}
&lt;span class="rem"&gt;#zone-body-sidebar&lt;/span&gt;
{
    float: right;
    width: 290px;
    margin-left: 20px;
}

&lt;span class="rem"&gt;#zone-tripanel-left&lt;/span&gt;
{
    float: left;
    width: 290px;
    margin-right: 20px;
}
&lt;span class="rem"&gt;#zone-tripanel-center&lt;/span&gt;
{
    float: left;
    width: 300px;
    margin-right: 20px;
}
&lt;span class="rem"&gt;#zone-tripanel-right&lt;/span&gt;
{
    float: left;
    width: 290px;
}&lt;/pre&gt;

&lt;p&gt;This should all be fairly self explanatory.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Update the theme.txt file&lt;/strong&gt; 

  &lt;br /&gt;The theme.txt exposes information about this theme to orchard. Open it up and change it as follows;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;Name: Sample Site
Author: You
Website: http:&lt;span class="rem"&gt;//www.deepcode.co.uk&lt;/span&gt;
Description: My sample site theme
Version: 1.0
Zones: Content,BodySideBar,BeforeBody,TriPanelLeft,TriPanelCenter,TriPanelRight,BasketArea&lt;/pre&gt;

&lt;p&gt;&lt;style type="text/css"&gt;


.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;The format should be quite self explanatory, the Zones section is the only thing that needs some explanation – basically this tells orchard what zones are in use in this layout. This will integrate with the widget system etc to allow you to drop content into these various zones.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Enable the theme&lt;/strong&gt; 

  &lt;br /&gt;Open the orchard dashboard and navigate to “Themes”. What you should find now is you have a new theme available;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TcpYMBB05QI/AAAAAAAAAUo/CoYCu0KhMe8/image%5B17%5D.png?imgmax=800" width="257" height="426" /&gt; &lt;/p&gt;

&lt;p&gt;Click set current and navigate back to your site and voila, you should have your new theme in all it’s glory;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TcpYNOXLkQI/AAAAAAAAAUs/z2RsNTtU96o/image%5B21%5D.png?imgmax=800" width="642" height="331" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Fill it with some standard content&lt;/strong&gt; 

  &lt;br /&gt;Go ahead and add some content to your site – add an about page (and add it to the menu), a blog (and a couple of posts) and use the HTML widget to add some content to the various zones on the homepage (there is a widget layer specifically for the homepage) – maybe add content as placeholders for the twitter feed we will add to the homepage and add a recent blog post widget to the central tri panel zone. You should then have something like this;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TcpYN9DcI7I/AAAAAAAAAUw/hgYWz18g4ZI/image%5B26%5D.png?imgmax=800" width="642" height="586" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Next 
    &lt;br /&gt;&lt;/strong&gt;In the next post, I’ll look at building the twitter widget for the homepage.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3742028979505992406/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html#comment-form' title='12 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' title='Real world Orchard CMS – part 2 - creating the theme'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/TcpYKZttM9I/AAAAAAAAAUY/dBjIc5uhG8Q/s72-c/orchard-kitbag-screenshot%5B4%5D.png?imgmax=800' height='72' width='72'/><thr:total>12</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065</id><published>2011-05-10T23:18:00.002+01:00</published><updated>2011-07-03T19:46:26.975+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Orchard'/><category scheme='http://www.blogger.com/atom/ns#' term='RealWorldOrchard'/><title type='text'>Real world Orchard CMS – introduction.</title><content type='html'>&lt;p&gt;So, I’ve been a bit quiet here recently, mainly because I’ve been absolutely swamped with a re-architecture project for a pretty major client, but any free time I did have I’ve been using it to learn about Orchard CMS. As you, yes you, you’re the only person that reads my blog… as &lt;strong&gt;you&lt;/strong&gt; may know, I’ve had my own CMS for a number of years (&lt;a href="http://www.fluxcms.co.uk"&gt;http://www.fluxcms.co.uk&lt;/a&gt; or &lt;a href="http://flux.codeplex.com"&gt;http://flux.codeplex.com&lt;/a&gt;), but with pressure of work I’ve not had much time to update it or add new features and to be honest, now that Orchard has released v1.1, I really don’t see much point in taking flux forward – Orchard kicks it’s ass to the ground and stomps on it’s private bits.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;What is Orchard – it’s and ASP.NET MVC content management system, backed by Microsoft and is Open Source!     &lt;br /&gt;&lt;/strong&gt;If you haven’t heard of Orchard, I strongly encourage you to go look at it now – &lt;a href="http://www.orchardproject.net"&gt;http://www.orchardproject.net&lt;/a&gt; or &lt;a href="http://orchard.codeplex.com"&gt;http://orchard.codeplex.com&lt;/a&gt; – it’s well designed and uses some great technology like ASP.NET MVC3, the new Razor view engine, NHibernate for persistence, AutoFac for DI/IOC and it’s got a nice, active and helpful community. The key people on the project are Microsoft employees and MS have kindly funded the project up to this point, and presumably will continue to do so in the future, but there is a reasonably vibrant, and growing, community around the product.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Learning Orchard&lt;/strong&gt;    &lt;br /&gt;Anyway, I needed to build a site for a friend of mine who is shortly launching a set of premium SharePoint components and solutions and for this he needed a website to promote and sell his wares, I volunteered to help out as his requirement would touch on most areas of Orchard and gave me a good reason to dive in with a real world example that I could then reskin and make open source for the basis for this series.&lt;/p&gt;  &lt;p&gt;Learning orchard was quite straight forward, the source is available and there is some good documentation on the site – the recent release of v1.1 was also a godsend (take a look at the new shape tracing features to see why). What I did find though was as I started to go beyond the basics of modules and skins, the documentation was a little light, but the community made up for this, with regular and prompt answers to questions and some good overall advice. (big up to bertrandleroy and randompete on the forums for all their patience and help!).&lt;/p&gt;  &lt;p&gt;I hope that this series will help other newcomers to adopt this CMS and grow the community further.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Scope     &lt;br /&gt;&lt;/strong&gt;And so, without further ado, the scope of the site is for a fictitious company that makes premium components, themes and modules for orchard. They require a site which features;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Nice(ish) site design&lt;/li&gt;    &lt;li&gt;Homepage layout with &lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;an aggregation of recent content, both from the site and from external sources (eg: Twitter)&lt;/li&gt;      &lt;li&gt;a promotion area to have the most recent product promoted&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Blog to post articles, tips and announcements for the products&lt;/li&gt;    &lt;li&gt;Rudimentary general pages&lt;/li&gt;    &lt;li&gt;A list of products they sell&lt;/li&gt;    &lt;li&gt;Product sections – each product will feature;&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Separate pages for main product overview, features etc.&lt;/li&gt;      &lt;li&gt;Ability for users to rate products and enter reviews&lt;/li&gt;      &lt;li&gt;Screenshot library for each product&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Basic shopping functionality&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;On any of the product pages, add the product to the basket&lt;/li&gt;      &lt;li&gt;Products may be pre-release and so instead offer a “register your interest” option.&lt;/li&gt;      &lt;li&gt;Shopping cart view&lt;/li&gt;      &lt;li&gt;Check out via swreg.com or similar.&lt;/li&gt;   &lt;/ul&gt; &lt;/ul&gt;  &lt;p&gt;All in all, this is a pretty simple site but touches on all the key areas of development with Orchard. The look and feel of the site is as per the following mock up (click for a larger view);&lt;/p&gt;  &lt;p&gt;&lt;a href="http://lh4.ggpht.com/_ywGSbBn2y0E/TcmBdJZC2YI/AAAAAAAAAUQ/oAuzxCPcxJo/s1600-h/orchard-kitbag-screenshot%5B4%5D.png"&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="orchard-kitbag-screenshot" border="0" alt="orchard-kitbag-screenshot" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TcmBeOfplgI/AAAAAAAAAUU/IGIBklBWJOI/orchard-kitbag-screenshot_thumb.png?imgmax=800" width="630" height="482" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Up next     &lt;br /&gt;&lt;/strong&gt;So that’s the stage set, up next we’ll get ourselves a copy of orchard and make a start on skinning it to look like the above. I’m not planning on covering how to use orchard to manage your site in any of these posts by the way, this will purely be technical content which I’m hoping to write in a recipe style so you can both follow along with the series or use each article as a reference for how to achieve a particular goal.&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6081528534448845065/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html#comment-form' title='10 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' title='Real world Orchard CMS – introduction.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/TcmBeOfplgI/AAAAAAAAAUU/IGIBklBWJOI/s72-c/orchard-kitbag-screenshot_thumb.png?imgmax=800' height='72' width='72'/><thr:total>10</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6689784066969208064</id><published>2011-03-03T18:13:00.001Z</published><updated>2011-03-03T18:13:09.456Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><title type='text'>How to annoy paying wi-fi access users.</title><content type='html'>&lt;p&gt;I’m staying at the premier inn at tower hill in London this week and, on Sunday night I decided to whip my credit card out to the tune of £20 for a week’s internet access on their wifi, provided by spectrum interactive.&lt;/p&gt;  &lt;p&gt;It goes like this;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;1. I connect to wifi, then sign in;&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TW_aL32SUnI/AAAAAAAAAUA/PppUAxc6N8Q/image%5B7%5D.png?imgmax=800" width="642" height="381" /&gt; &lt;/p&gt;  &lt;p&gt;That goes well and tells me I’m signed in – it also tries to open a session window that doesn’t exist;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TW_aMadvNxI/AAAAAAAAAUE/TKGVKeMgHck/image%5B15%5D.png?imgmax=800" width="596" height="482" /&gt; &lt;/p&gt;  &lt;p&gt;All good right, well, you’d think so. I start actually using the service, send an email, browse facebook, twitter, read some articles and connect to source control and then;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;2. Five to ten minutes later, the connection ceases working.&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;Only solution is to close the browser, open it up again and it gives me the login screen again;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TW_aL32SUnI/AAAAAAAAAUA/PppUAxc6N8Q/image%5B7%5D.png?imgmax=800" width="642" height="381" /&gt;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;3. Sign in again&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;So, I sign in again, but this time it tells me I’m already signed in and tells me to force a logout;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TW_aMhca1YI/AAAAAAAAAUI/ZEkGFZdk6XI/image%5B3%5D.png?imgmax=800" width="642" height="362" /&gt;&lt;/p&gt;  &lt;p&gt;So I do as it asks, I click “HERE” to sign me out of the session that it’s closed and it gives me some rather strongly worded warnings and tells me my account is locked!&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;4. Get warned about sharing connections &lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TW_aNE9FV9I/AAAAAAAAAUM/KkgcHaMmZFQ/image%5B11%5D.png?imgmax=800" width="642" height="399" /&gt;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;5. Sign in again (two sign ins for the price of one)&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;After reading the warnings, promptly then ignoring them, I sign in again, and again get the connected message and missing session window;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TW_aMadvNxI/AAAAAAAAAUE/TKGVKeMgHck/image%5B15%5D.png?imgmax=800" width="596" height="482" /&gt;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;6. GOTO (2)&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;Rinse and repeat every 5 to 10 minutes.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;The moral of the story&lt;/strong&gt;    &lt;br /&gt;Testing… it’s not a luxury, if you don’t do it or do it badly be prepared to piss off your customers!&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6689784066969208064/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/03/how-to-annoy-paying-wi-fi-access-users.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6689784066969208064'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6689784066969208064'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/03/how-to-annoy-paying-wi-fi-access-users.html' title='How to annoy paying wi-fi access users.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/TW_aL32SUnI/AAAAAAAAAUA/PppUAxc6N8Q/s72-c/image%5B7%5D.png?imgmax=800' height='72' width='72'/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1468727161190320063</id><published>2011-02-22T16:37:00.001Z</published><updated>2011-02-22T16:38:07.288Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Review'/><category scheme='http://www.blogger.com/atom/ns#' term='Books'/><title type='text'>Reading list redux</title><content type='html'>&lt;p&gt;It’s been a while since I posted my recommended reading list, so here’s the 2011 version.&lt;/p&gt;  &lt;table border="0" cellspacing="0" cellpadding="4" width="100%"&gt;&lt;tbody&gt;     &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/51PPS4C6i8L._SL160_PIsitb-sticker-arrow-dp,TopRight,12,-18_SH30_OU02_AA160_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="100%"&gt;&lt;strong&gt;Code complete 2nd edition            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Steve McConnel            &lt;br /&gt;Microsoft Press&lt;/em&gt;           &lt;br /&gt;          &lt;br /&gt;A practical guide to the craft of programming.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Code-Complete-Practical-Handbook-Construction/dp/0735619670/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298390747&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/51Q-RLSadrL._SL160_PIsitb-sticker-arrow-dp,TopRight,12,-18_SH30_OU02_AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;Design patterns – elements of reusable object oriented software.            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Gamma, Helm, Johnson and Vlissides            &lt;br /&gt;Addison Wesley             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;The famous gang of four book featuring 20 odd common design patterns.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Design-patterns-elements-reusable-object-oriented/dp/0201633612/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298392229&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/511D6FdsbXL._AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;Patterns of enterprise application architecture            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Martin Fowler            &lt;br /&gt;Addison Wesley             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;This book details many software design patterns found in enterprise software by the thoughtworks guru, Martin fowler.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Enterprise-Application-Architecture-Addison-Wesley-Signature/dp/0321127420/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298392295&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/51WIpM70FEL._AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;The mythical man month            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Frederick P. Brooks            &lt;br /&gt;Addison Wesley             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;This is a collection of essays on software project management that was first published in 1975.It contains the now legendary “Brooks Law”, that adding manpower to a late project only makes it later. The concepts laid out in this book are as valid today as they were 30 years ago.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Mythical-Month-Essays-Software-Engineering/dp/0201835959/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298392326&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/51MlUgcSICL._AA160_.jpg" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;Peopleware            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Tom Demarco and Timothy Lister            &lt;br /&gt;Dorset house publishing             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;This book makes the assertion that most development projects fail because of failures within the team – a humorous and riveting read.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Peopleware-Productive-Projects-Teams-2nd/dp/0932633439/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298392351&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/41CiWgR2N%2BL._SL160_PIsitb-sticker-arrow-dp,TopRight,12,-18_SH30_OU02_AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;Joel on software&lt;/strong&gt;           &lt;br /&gt;&lt;em&gt;Joel Spolsky            &lt;br /&gt;APRESS             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;I’ve just finished reading this, and the second series (more Joel on software) and it’s an insightful look at the craft of development, the people who do development and running a technology business. Highly recommended.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Joel-Software-Occasionally-Interest-Ill-Luck/dp/1590593898/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298392371&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/61QdLsmJzBL._SL160_PIsitb-sticker-arrow-dp,TopRight,12,-18_SH30_OU02_AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;More Joel on software            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Joel Spolsky            &lt;br /&gt;APRESS             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;As above, this book builds on the previous one – there’s some new stuff and some more depth on some of the topics and again I highly recommend reading it, but if you have a choice between this and the earlier book, choose the earlier one.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/More-Joel-Software-Occasionally-Developers/dp/1430209879/ref=sr_1_2?ie=UTF8&amp;amp;qid=1298392371&amp;amp;sr=8-2" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/41KymmiLKHL._SL160_PIsitb-sticker-arrow-dp,TopRight,12,-18_SH30_OU02_AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;Founders at work            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Jessiva Livingston            &lt;br /&gt;APRESS             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;A great read, stories of a number of high profile start ups that have gone on to great things. The book is insightful and for a geek like me who likes to understand tech history, its a staple.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Founders-Work-Startups%2527-Startups-Problem-Solution/dp/1430210788/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298392425&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/41Y8LxYhgML._SL160_PIsitb-sticker-arrow-dp,TopRight,12,-18_SH30_OU02_AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;Coders at work            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Peter Seibel            &lt;br /&gt;APRESS             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;This follows a similar vein to the founders at work but is a series of interviews with some great programmers and engineers. Its good to get in the mind of some of these people, but at times the book can be a little dry.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Coders-Work-Reflections-Craft-Programming/dp/1430219483/ref=sr_1_4?ie=UTF8&amp;amp;qid=1298392425&amp;amp;sr=8-4" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/41K605AVR8L._AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;Accidental Empires            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Robert X. Cringely            &lt;br /&gt;Penguin books             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;A cracking look at the history of the technology industry – this book is extremely well written and I couldn’t put it down once I started.           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Accidental-Empires-Silicon-Millions-Competition/dp/0140258264/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298392463&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="50"&gt;&lt;img alt="Product Details" src="http://ecx.images-amazon.com/images/I/51Klh6hn1KL._AA115_.jpg" width="168" height="168" /&gt;&lt;/td&gt;        &lt;td valign="top" width="350"&gt;&lt;strong&gt;Dreaming in code            &lt;br /&gt;&lt;/strong&gt;&lt;em&gt;Scott Rosenberg            &lt;br /&gt;Three Rivers Press             &lt;br /&gt;            &lt;br /&gt;&lt;/em&gt;Software is hard – this book follows the work of Mitch Kapor’s Chandler project over the course of 3 years and poses the question – why is good software so hard to make?           &lt;br /&gt;          &lt;br /&gt;Get it from &lt;a href="http://www.amazon.co.uk/Dreaming-Code-Programmers-Transcendent-Software/dp/1400082471/ref=sr_1_1?ie=UTF8&amp;amp;qid=1298392495&amp;amp;sr=8-1" target="_blank"&gt;Amazon.co.uk&lt;/a&gt;&lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;  &lt;p&gt;Anyone any further suggestions?&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1468727161190320063/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/02/reading-list-redux.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1468727161190320063'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1468727161190320063'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/reading-list-redux.html' title='Reading list redux'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7587647100465177277</id><published>2011-02-22T12:56:00.001Z</published><updated>2011-02-22T12:56:31.789Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='SDLC'/><category scheme='http://www.blogger.com/atom/ns#' term='Scrum'/><title type='text'>SDLC – Key to a successful development project</title><content type='html'>&lt;p&gt;In this week’s SDLC related post, I’m going to try to explain how to structure a successful development project, one that when it goes live with users, puts happy smiles on their faces and, because it addresses their needs, massages away the pains they have been having. I’m talking of course here about bespoke development projects (internal development projects) rather than a software house writing the next version of “Micropple iWordPad 2015 Enterprise Edition SP2” – there are subtle yet important differences between the two types of project including;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Software house&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Low cost/revenue per user head &lt;/li&gt;      &lt;li&gt;Focus on lower cost, high volume sales requires the product to be best in market&lt;/li&gt;      &lt;li&gt;High degree of spit and polish – can spend significant money on UI design to ensure product looks “the nuts”&lt;/li&gt;      &lt;li&gt;Ship dates fluid, dictated by feature completion.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Bespoke&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Is best in market by definition as it addresses the businesses very specific needs.&lt;/li&gt;      &lt;li&gt;Requires spit and polish, but focus is on cost, usability, functionality and implementation time.&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;A fine balance – lack of spit = user rejection, too much = missed functionality&lt;/li&gt;     &lt;/ul&gt;      &lt;li&gt;Very high cost per user head.&lt;/li&gt;   &lt;/ul&gt; &lt;/ul&gt;  &lt;p&gt;&lt;strong&gt;Spit and polish     &lt;br /&gt;&lt;/strong&gt;There’s one contentious issue there – it almost seems like I’m saying that internal or bespoke software won’t be as high quality as a software product from a vendor – that’s not what I mean – quality must still be high, but in terms of going the extra mile to have the most appealing, beautiful and slick UI, unfortunately it is a practical truth that internal development can’t afford to put the same amount of time and money into this as a software house. Internal projects are faced with a trade off between a high level of spit and polish versus factors such as cost and timescales. &lt;/p&gt;  &lt;p&gt;Consider a business that is spending £1.4 million on a custom system to, lets say, manage insurance claims and the user base is 200 claim handlers – then the cost per seat of that software is £7,000. Now consider the same business buying something off the shelf for £250,000 that meets around 70% of their requirements – they now have a cost per seat of £1250. The business understands however that the 30% of missing requirements means it won’t deliver on their key objectives and, because their business is so unique (they archive their claim documentation in shredded format for security and file it with a warehouse on the moon), they need to go down the bespoke route – the off the shelf package won’t cut the mustard.&lt;/p&gt;  &lt;p&gt;Now they are spending an extra £5750 per user so the product damn well better be good &lt;strong&gt;&lt;u&gt;and&lt;/u&gt;&lt;/strong&gt; meet the moon archiving objectives, so you can’t say internal software doesn’t need to have high quality – it absolutely, positively must, but when faced with the choice of tweaking individual pixels in form layouts versus building feature Z (which will save them another £100k per year) the business will choose feature Z every time.&lt;/p&gt;  &lt;p&gt;That is the reason I say internal software doesn’t require the same level of spit and polish – it still needs to be slick, but whereas the software house needs to spend the money to polish their UI to make sales, the internal software will often concentrate on features – those features &lt;strong&gt;will still be polished, &lt;/strong&gt;just not to the same extent.&lt;/p&gt;  &lt;p&gt;Ok, so that was a long winded way of saying this post is more applicable to bespoke developments rather than the software house – both should follow the same core principle – &lt;em&gt;listen to the customer&lt;/em&gt;, but the bespoke team has one advantage – the customer is sat next to them, in the same building, or at least in the same company.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Engaging the customer     &lt;br /&gt;&lt;/strong&gt;Failure in projects is often down to a lack of engagement with the users – they can feel that the new system is forced upon them without consultation and, to be frank, the users of your shiny new system are the ones with the highest understanding of their domain and often have the best suggestions for improvement. As such, it’s important to engage with the users of your system in a variety of ways to let them have their say in how the system should function. So how do we do this at the various stages of the project?&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;The kick off meeting&lt;/strong&gt;    &lt;br /&gt;At the start of the project, I usually try to get as many users as possible together in one place and present the project to them. This early presentation is a great time to outline the vision for the project, what we’re hoping to achieve and also to set some expectations with them that you want them to be involved at various times. Describing the system and how initially we think it will work and what problems it will address generates an excitement about the project and gets them thinking about how they want to see the project progress.&lt;/p&gt;  &lt;p&gt;Of course, at this point you’ve already done some up front estimating to get the client to agree to spend a million pounds with you and the business will have set some goals for when the system needs to be available so you already have constraints at this point, but it should be trivial to accommodate user’s suggestions and ideas, although it has to be said not all of them – you will always find someone with a whacky idea that has no mileage and so as a leader on a project you’re going to need some diplomacy skills!&lt;/p&gt;  &lt;p&gt;At the end of the kick off meeting, everyone should understand the objectives of the project and know they are going to be expected to contribute in coming weeks and months. This is their opportunity to change things for the better and to help build a system that will help them do their jobs productively. Allow time at the end for questions and let people voice their concerns and ideas, but guide them into contributing the bulk of their discussions into workshops.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Iterating and workshops&lt;/strong&gt;    &lt;br /&gt;I’ve mentioned in earlier posts that the detailed functional design work should be done an iteration ahead of the actual construction but to get the detail for this design, I like to use workshop sessions with small groups of users. There’s nothing particularly special about these sessions, you get a maximum of around 6 users together in a room, a whiteboard and someone to record important details.&lt;/p&gt;  &lt;p&gt;With everyone gathered, we explain the purpose of the workshop and it’s scope (you might have users that work across different functional areas who are keen to get their ideas across) and ask them to describe their job, the processes they follow, where improvements could be made, and what the new application should look like. Time-box the session to around an hour (people’s attention will start to wane beyond this) and ultimately you should end up with whiteboards full of process charts, low fidelity UI designs and some idea of what data you need to capture and how it relates – this, combined with the output from several workshops, should then feed into the design documentation.&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TWOyfDBAU7I/AAAAAAAAAT4/-lth6NlH08I/image%5B8%5D.png?imgmax=800" width="242" height="171" /&gt; &lt;/p&gt;  &lt;p&gt;An important thing to note here, a successful workshop starts with just the material I’ve mentioned above – I’ve seen misguided analysts conduct workshops where the starting point has been a visio diagram or presentation of how they think the user works and the processes they follow and then proceed to present this to them rather than asking them to collaborate in the design. The problem with this is, users switch off, they come to the conclusion you already know everything you need to know (or think you do, you fool!) and generally won’t engage in a productive design session – if anything they will tear your presentation to pieces because it’s being pitched to them as the way to work rather than asking them to contribute. &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Requirements and documentation&lt;/strong&gt;    &lt;br /&gt;From the workshops and all the useful information gleaned from the users, the analyst will then work with the architect to draw up the functional specifications. These are simple use cases written for the user that describe how the system should operate including;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Case properties&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Who does it.&lt;/li&gt;      &lt;li&gt;How the case is triggered.&lt;/li&gt;      &lt;li&gt;What conditions dictate the use case is executed.&lt;/li&gt;      &lt;li&gt;What the outcome should be.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Summary&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;A brief description of the purpose and flow of the use case.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Normal path&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;The path through the use case in bullet points &lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;What the user does, what controls they interact with, the data that is captured.&lt;/li&gt;        &lt;li&gt;The rules that are checked (conditional logic that can trigger an alternate path)&lt;/li&gt;     &lt;/ul&gt;   &lt;/ul&gt;    &lt;li&gt;Alternate paths&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;The alternative paths through the use case raised from conditional logic in the normal path&lt;/li&gt;   &lt;/ul&gt; &lt;/ul&gt;  &lt;p&gt;This document should avoid technical implementation details or any specific technology and rather talk in the language of the user. These documents are then reviewed for accuracy by the users and a refinement cycle ensues until everyone agrees that the document describes how this piece of the system should work. These reviews can be done by simply sending out the document and gathering responses, but I find it productive to take the users from the workshops into a discussion where we quickly review and refine the document together (this often drives out any missed details that can be accommodated rapidly with agreement from the product owner and the users in the room).&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Technical documentation&lt;/strong&gt;    &lt;br /&gt;With the functional specification complete and agreed, the architect then takes over and transposes the functional details into a physical specification. I’m a firm believer that development is a creative vocation and so the developers should be left to be creative, but given enough information to be able to implement the application within a set of boundaries. As such, the technical specifications are usually done in the form of;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Data or domain object model (depending on your preference of data first or objects first)&lt;/li&gt;    &lt;li&gt;Low fidelity interface mock ups&lt;/li&gt;    &lt;li&gt;Implementation notes.&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;This should be all the developer needs to be able to implement the required functionality – the specifics are up to them provided they are following the boundaries of the overall application architecture and framework – for instance your architecture may prescribe NHibernate as an ORM layer, hydrating and persisting aggregate root domain objects through a repository pattern, surfaced in the UI through MVVM using Prism and so on.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Active development and the show and tell&lt;/strong&gt;    &lt;br /&gt;As the construction iteration starts, the functional and technical documentation is provided to the developers, but this is done in a formal way too. The idea being, as the development manager/architect/technical lead, your job is to not only design the system and solve the complex technical issues, but you are the interface between the business and the technical team, you should speak both languages (and for this reason it’s my opinion that the best leads are socially and business aware programmers themselves and should remain active and hands on with code).&lt;/p&gt;  &lt;p&gt;At the start of the iteration, my teams hold an iteration planning meeting. At this meeting all the developers involved in the product gather with the analyst, product owner and you as the leader – we go through in absolute detail all of the functional and technical specifications so that everyone has a deep understanding of the requirements and how we are going to implement it – this often involves re-iterating earlier workshops on whiteboards along with discussing the documentation. The programmers are expected to contribute in detail to the ideas of how the implementation should progress, but also in the process of refining the estimates which they should own and take responsibility for.&lt;/p&gt;  &lt;p&gt;This can take the form of planning poker or some of the other fun approaches to planning, but my preference is simply to work with the programmers to split the use case down into 1-4 hour individual tasks and estimate them themselves. This planning session gives us a very detailed view of what is involved in the implementation and allows us to compare this to our original high level estimates, the resources and the velocity we have available for that iteration. Where there is slack, we can pad out with more polishing and where there is overrun we can start to look at cutting nice to have functionality from the scope to make the amount of work for the iteration fit to the velocity we have available.&lt;/p&gt;  &lt;p&gt;I should note here that the initial iteration plan would be done from the high level estimates and this means you need a good estimator pulling those high level estimates together. If the estimator isn’t a programmer herself, there could be large differences between the high level and detailed plans and this is going to cause you significant problems. In my last project, over 18 iterations, my margin of error between high and low level estimates was around 2% – if this was say, 20% and was optimistic, you’ve just essentially lost one member of a 5 man team due to your bad estimating.&lt;/p&gt;  &lt;p&gt;From the iteration planning meeting (I usually allocate one entire day for this), the entire dev team is up to speed with the requirements, has an idea of how to implement everything, understands what tasks need to be done over the iteration and can get cracking. At this point, it’s tempting to become insular and just get on with the development whilst your users get on with their day job, and that is a mistake – the users need to feel engaged continually and you need them to have sight of the emerging product because in doing so, the users are more likely to realise, very early, when things might be going askew.&lt;/p&gt;  &lt;p&gt;This review doesn’t need to be formal, doesn’t need to be meetings and presentations, it’s useful to get a handful of users each week for 10-15 minutes crowded around one of the programmers computers to look at how the system is progressing. These show and tell sessions can be extremely valuable in detecting and fixing those small issues that always crop up in dev projects, and getting visibility of them early.&lt;/p&gt;  &lt;p&gt;The final mechanism for engagement is the burn-down. People like to see progress, especially management and the people who’s necks are on the line for delivery on time and on budget. On a small team this can be very simple – the individual tasks identified during iteration planning can be put on post it notes and stuck to a whiteboard grid where rows represent the use case being developed (the stickies go in each row representing the use case they belong to) and the columns represent the state of the item – todo, in progress, for test, done (this is a typical scrum board).&lt;/p&gt;  &lt;p&gt;&lt;img src="http://farm4.static.flickr.com/3161/2336990347_6b3604ee1c.jpg" /&gt;&lt;/p&gt;  &lt;p&gt;At any time, anyone can take a look at the board and see a good visual indication about where the team is up to during that iteration. Each week, or even daily, the team lead should transpose current amount of work remaining onto a line chart showing the progress over time, the goal line and a trend line which will be indicative of whether the team will complete all work by the end of the iteration.&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TWOyfszAEDI/AAAAAAAAAT8/x0ldXCDZc0o/image%5B2%5D.png?imgmax=800" width="583" height="207" /&gt; &lt;/p&gt;  &lt;p&gt;For larger teams, especially those distributed, you need some way of tracking this in a centralised tool using &lt;a href="http://msdn.microsoft.com/en-us/library/ms181268(v=vs.80).aspx" target="_blank"&gt;TFS work items&lt;/a&gt;, &lt;a href="http://www.fogcreek.com/fogbugz/" target="_blank"&gt;FogBugz&lt;/a&gt;, &lt;a href="http://www.versionone.com/" target="_blank"&gt;VersionOne&lt;/a&gt; or a similar product which will allow the team to carry out work in the same way and automatically produce the burn down. In these circumstances it’s a good idea to have a project wall for those interested in progress – a large LCD on the wall rotating between different views on the iteration – burn down, work completed etc etc.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;Ending the iteration&lt;/em&gt;    &lt;br /&gt;At the end of the iteration, the use cases should be complete, tested and essentially ready for delivery. At this point, the work can either be released through to acceptance testing or, for larger applications where it doesn’t add value to deliver small chunks, be demonstrated back to users. Testing is an interesting point – developers should be taking responsibility for their work and testing it to ensure all of the paths through the use case work as prescribed, a dedicated test team can augment this significantly and for larger developments it’s an absolute necessity. In this case, the output from the iteration should feed into the next testing iteration and defects should be fixed before it is released to user acceptance testing – the testing cycle (test, fix, test, uat, fat etc)&amp;#160; is a topic in itself and so I’ll leave it there for now.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;    &lt;br /&gt;In summary, engaging users and keeping them engaged is a critical aspect to the success of any development project, ignore users at your peril. I can testify that over numerous successful projects, keeping users engaged has been pivotal in successful delivery – the last thing you want to do is keep your project insular, deliver and then find that the finished product doesn’t match up to users expectations – that’s a sure fire way to ensure project failure.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7587647100465177277/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-key-to-successful-development.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7587647100465177277'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7587647100465177277'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-key-to-successful-development.html' title='SDLC – Key to a successful development project'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/_ywGSbBn2y0E/TWOyfDBAU7I/AAAAAAAAAT4/-lth6NlH08I/s72-c/image%5B8%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3237220139652804421</id><published>2011-02-18T10:58:00.001Z</published><updated>2011-02-18T10:58:10.103Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Garbage collection in .NET – large and small object heap differences.</title><content type='html'>&lt;p&gt;As promised in my &lt;a href="http://www.deepcode.co.uk/2011/02/garbage-collection-fundamentals-in-net.html" target="_blank"&gt;previous post&lt;/a&gt;, I’ve just uploaded source code to codeplex (&lt;a href="http://netgarbage.codeplex.com"&gt;http://netgarbage.codeplex.com&lt;/a&gt;) which demonstrates the differences between the large and small object heaps and how allocating memory to the large object heap needs to be considered in applications that shifts large quantities of data around.&lt;/p&gt;  &lt;p&gt;In this project you will find 4 main tests (not unit tests, I created this as a build and run console application);&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;TestInterlacedMemoryAllocationResultsInOutOfMemory&lt;/li&gt;    &lt;li&gt;TestNonInterlacedMemoryAllocationDoesNotResultInOutOfMemory&lt;/li&gt;    &lt;li&gt;TestInterlacdMemoryAllocationWithFullReleaseDoesNotResultInOutOfMemory&lt;/li&gt;    &lt;li&gt;TestSmallObjectHeapInterlacedAllocationDoesCompaction&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TV5Qu_JyCOI/AAAAAAAAATk/FkXDrYNxJCk/image%5B3%5D.png?imgmax=800" width="788" height="300" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;TestInterlacedMemoryAllocationResultsInOutOfMemory&lt;/strong&gt;    &lt;br /&gt;This test demonstrates one of the fundamental considerations of the large object heap. You will recall from my previous post that objects that are greater than 85000 bytes will be allocated onto the large object heap (LOH) instead of the small object heap (SOH) and the LOH does &lt;strong&gt;not&lt;/strong&gt; compact memory when it collects unused memory. Rather it leaves behind holes. As such, allocating memory in a manner that is interleaved and then releasing every other block will leave small holes behind.&lt;/p&gt;  &lt;p&gt;The net result of this is the application has lots of free memory overall, but it’s only available in small chunks. As allocations require the object being allocated to be laid out in memory in one contiguous block, trying to allocate an object that would appear to still fit in memory will fail as there is no hole in the LOH big enough to accommodate it. The result in this test is an out of memory exception;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TV5QvMrURxI/AAAAAAAAATo/WiJ8jMG2Seg/image%5B6%5D.png?imgmax=800" width="1006" height="86" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;TestNonInterlacedMemoryAllocationDoesNotResultInOutOfMemory&lt;/strong&gt;    &lt;br /&gt;The second test does exactly the same as the first, but rather than interlacing the memory it tries to allocate larger chunks together which means when one list of data is released and cleaned up, the allocation of large objects continues to function as there are holes in the LOH big enough to accommodate;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TV5QveLxgNI/AAAAAAAAATs/DV2WNMg9_lw/image%5B9%5D.png?imgmax=800" width="1006" height="80" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;TestInterlacdMemoryAllocationWithFullReleaseDoesNotResultInOutOfMemory&lt;/strong&gt;    &lt;br /&gt;This test attempts to prove the reason that the first test fails with an OutOfMemory exception is because of the fragmentation – it does exactly the same as the first test, but releases both lists and sure enough, as expected, the further allocation succeeds.&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TV5Qv64jHZI/AAAAAAAAATw/DHEpPDgfrQk/image%5B12%5D.png?imgmax=800" width="1002" height="81" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;TestSmallObjectHeapInterlacedAllocationDoesCompaction&lt;/strong&gt;    &lt;br /&gt;For completeness I included this test to prove the difference between the SOH and the LOH. It does the same as the first test, allocates memory until it’s full by interleaving objects in two lists and then frees one list. (The objects are smaller to ensure they get allocated to SOH not LOH). As you will see, this test successfully allows memory to be allocated after just one list is freed because the garbage collector performs the compaction phase on the SOH, reshuffling memory to close the holes.&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TV5QwHt3jRI/AAAAAAAAAT0/Eto9vBi4DPk/image%5B15%5D.png?imgmax=800" width="1008" height="80" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;&lt;u&gt;Get the source code here: &lt;/u&gt;&lt;/strong&gt;&lt;a href="http://netgarbage.codeplex.com"&gt;&lt;strong&gt;&lt;u&gt;http://netgarbage.codeplex.com&lt;/u&gt;&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3237220139652804421/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/02/garbage-collection-in-net-large-and.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3237220139652804421'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3237220139652804421'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/garbage-collection-in-net-large-and.html' title='Garbage collection in .NET – large and small object heap differences.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/_ywGSbBn2y0E/TV5Qu_JyCOI/AAAAAAAAATk/FkXDrYNxJCk/s72-c/image%5B3%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8834312163100651380</id><published>2011-02-17T20:46:00.001Z</published><updated>2011-02-17T20:46:36.672Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Garbage collection fundamentals in .NET</title><content type='html'>&lt;p&gt;Today I was asked a few questions about how garbage collection works, and it dawned on me that even though we’re on .NET 4.0 these days, there are a lot of .NET developers out there who don’t actually understand the mechanics of the garbage collector. So, even though this article is probably 10 years too late for a lot of people, I hope my rudimentary explanation will serve useful to those that don’t know about the concept or what it offers them. I’m going to cover;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;What garbage collection is.&lt;/li&gt;    &lt;li&gt;Some general information about the .Net garbage collector (GC)&lt;/li&gt;    &lt;li&gt;What actually happens when you allocate an object.&lt;/li&gt;    &lt;li&gt;The .NET garbage collection process&lt;/li&gt;    &lt;li&gt;What the different generations are and what purpose they serve&lt;/li&gt;    &lt;li&gt;How a GC gets triggered.&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;strong&gt;What is garbage collection?&lt;/strong&gt;     &lt;br /&gt;Garbage collection provides an abstraction to the programmer that means they don’t need to worry about how memory is allocated and freed. In unmanaged code a programmer would need to allocate and free every byte their application used, using malloc() and free() (in C - new and delete in C++) and this has often been the source of numerous bugs in software, and they are often the hardest to track down.&lt;/p&gt;  &lt;p&gt;Higher level languages like .NET take this burden away from the programmer by using garbage collection. The runtime takes care of tracking references to objects and understands when an object can be safely let go, so you can safely write;&lt;/p&gt;  &lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;void&lt;/span&gt; MyMethod()
{
    SomeLargeObject obj = &lt;span class="kwrd"&gt;new&lt;/span&gt; SomeLargeObject();
}&lt;/pre&gt;
&lt;style type="text/css"&gt;

.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;Instead of;&lt;/p&gt;

&lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;void&lt;/span&gt; MyMethod()
{
    SomeLargeObject obj = &lt;span class="kwrd"&gt;new&lt;/span&gt; SomeLargeObject;
    delete obj;
}&lt;/pre&gt;
&lt;style type="text/css"&gt;

.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;

&lt;p&gt;In the latter example, if you forgot to delete the allocated object, the memory it consumed would essentially be lost, a typical memory leak. With the former example, the garbage collection understand the object no longer has any active references and it gets garbage collected and disposed of during a GC cycle.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;.NET garbage collection 
    &lt;br /&gt;&lt;/strong&gt;In .NET the garbage collector runs in one of two modes – synchronous and concurrent (often referred to as workstation and server). When the GC determines it needs to perform some clean up, synchronous mode will pause the executing process, quickly clean up, and then resume the executable, whilst in concurrent mode (the default) the clean up executes in the background without blocking your application.&lt;/p&gt;

&lt;p&gt;It’s important to note that every application has a maximum amount of memory that it can allocate objects to – this memory is known as the heap, and the size available is dependent upon the O/S. A 32 bit O/S can only allocate a maximum of 2Gb by default (can be increased to 3Gb with a boot config), whilst on a 64bit O/S, this is significantly higher (8Tb from memory, but don’t quote me).&lt;/p&gt;

&lt;p&gt;The GC doesn’t run continually, and this is an important observation to make, it runs whenever certain conditions are met, which I’ll discuss shortly, but the important thing to note is when an object is no longer referenced it may not necessarily be collected immediately – rather it will be collected the next time the GC runs. This can be problematic for some objects that perhaps hold locks on contentious resources. Holding a file handle for instance – holding that for too long would be a bad thing as it could be a while before the handle is released freeing the file for access to other processes or other areas of your code.&lt;/p&gt;

&lt;p&gt;To cope with this scenario .NET has the IDisposable interface. By implementing IDisposable, you write code to release these contentious resources when the object is no longer needed, but before the object holding them is actually collected. By wrapping the use of an IDisposable object within a using statement the dispose functionality will be called when the reference goes out of scope (when it drops out of the using block), thereby releasing the file handle in our example and making it available to other processes. You can also invoke the dispose functionality of an IDisposable manually by calling Dispose on the object, but the using statement is less prone to forgetfulness!&lt;/p&gt;

&lt;p&gt;The actual memory used by the object will still only be released later, when the GC runs.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;What happens when you allocate an object&lt;/strong&gt; 

  &lt;br /&gt;Before we look further at the GC, it’s important to look at what happens when you “new up” an object. It is allocated on the managed heap, of which there are two with subtle differences – the small object heap and the large object heap.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The small object heap
    &lt;br /&gt;&lt;/em&gt;Small objects ( those requiring less than 85,000 bytes) will be allocated on the small object heap. When the GC runs and reclaims space on the small object heap it does one thing different that the large object heap doesn’t – it compacts memory. It removes the holes left in the heap by the now vacant memory – more on this shortly.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The large object heap
    &lt;br /&gt;&lt;/em&gt;When you allocate objects larger than 85,000 bytes (these are bytes within the object itself, not the objects it references), these are allocated on the large object heap, which doesn’t compact memory because of performance limitations (moving large chunks of memory around is slower), so it leaves holes in the heap and this should be considered in the design of your code, again I’ll explain why shortly. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Taking out the trash&lt;/strong&gt; 

  &lt;br /&gt;When a garbage collection is triggered it runs through 2 phases – a marking phase and a compacting phase.&lt;/p&gt;

&lt;p&gt;The marking phase is all about marking which objects are still in use and which ones aren’t. It starts by walking through all known objects from something called GC roots. A GC root is an anchor point on which objects are tracked – a GC root is any local variable in the currently running method, a static variable or managed objects passed to unmanaged code – these roots become the starting point for garbage collection, objects with finalizers are also roots and these take 2 GC cycles to get rid of – one to release another to finalize (although this can be changed by calling GC.SuppressFinalize from your dispose code).&lt;/p&gt;

&lt;p&gt;So, the GC examines all objects to see if they can still be reached by any other live object, starting with the GC roots. If an object can be reached it is marked as still live and on it goes until it’s determined the state of all the objects being tracked. Each object is checked only once, if a reference has already been walked, it stops – this allows circular references to exist in your graphs.&lt;/p&gt;

&lt;p&gt;At the end of the mark phase, the memory that wasn’t marked live is released and the compacting phase begins. This compacting phase only occurs on the small object heap – it doesn’t do this on the large object heap as it would be performance intensive (moving large chunks of memory around). The compacting phase is all about closing the holes in the heap. Take the diagram below - Let say you allocate 3 objects on the small object heap, named Obj1 to Obj3 – they are allocated sequentially onto the back of the heap. When Obj2 is no longer used, it gets cleaned up by the garbage collector and the compaction phase re-organises the heap to remove the hole that it left;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TV2JKQ3jltI/AAAAAAAAATc/_I2COF3Z8Yw/image5.png?imgmax=800" width="439" height="185" /&gt;&lt;/p&gt;

&lt;p&gt;This has a number of advantages – first, when allocating a block of memory it must be allocated in one contiguous block otherwise the request to allocate will fail with an OutOfMemoryException. If you had holes in your heap of say 850 bytes each, but totalling 1,000,000 bytes free, you could still only allocate 850 bytes as the largest object because that would be the largest piece of contiguous memory available, so reshuffling the small object heap like this keeps your memory lean and mean.&lt;/p&gt;

&lt;p&gt;A side effect of this is that new allocations become extremely quick as they are always to the end of the heap, there’s no need to scan for the space, the space is just there all in one block, there’s either enough space or there’s not.&lt;/p&gt;

&lt;p&gt;The large object heap is a different beast. If you recall, any object over 85000 bytes will be allocated from the large object heap, which gets collected but doesn’t do the compaction. Taking our example above of 3 objects going on the large object heap you would have;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TV2JKyvKYSI/AAAAAAAAATg/ZvHUsTrYHwk/image8.png?imgmax=800" width="441" height="121" /&gt; &lt;/p&gt;

&lt;p&gt;Notice the hole. If an allocation comes along that fits into this hole, it would be used, but no compaction is done. This can have implications – say you were to allocate two lists in an interleaved manner (so allocate a new object into list A, then a new one into list B) with each element on the list being 10mb. You do this say 100 times, so you allocate a total of 10 x 100 x 2 = 2000mb. Let’s say that’s the total amount of memory free and you’ve now stuffed your memory full to capacity.&lt;/p&gt;

&lt;p&gt;Releasing one of these lists will give you back 1,000mb, but the largest chunk of memory available on the large object heap will be 10mb because the memory is in sequence and it doesn’t get compacted. As such, any allocation to the large object heap from that point that is over 10mb will fail with an OutOfMemoryException. So you see, when working with large amounts of data this is a consideration to bear in mind. I’ll explore this more in a future post with some sample code that I’ve written to demonstrate the point.&lt;/p&gt;

&lt;p&gt;I should point out now that this is a slight oversimplification – the GC doesn’t actually check and mark every object, the GC runs against different generations.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;What are these generations all about?&lt;/strong&gt; 

  &lt;br /&gt;The GC in .NET has the concept of generations. A generation is a queue of the objects on the heap that represents, I’m tempted to say age of the object but that isn’t strictly true, rather it indicates the stickiness of an object. Freshly allocated objects on the small object heap are given generation 0 (there are three generations in total, 0, 1 and 2) indicating they are fresh and are therefore the most likely to be cleaned up next. Think about it, fresh objects you usually allocate, do something to them and then they are finished with.&lt;/p&gt;

&lt;p&gt;So new objects, on the small object heap are given an initial generation of 0. When the GC runs, it can do so against a generation – generation 0 will clear only generation 0 objects that are no longer referenced, generation 1 will do 0 and 1 and finally generation 2 (known as a full garbage collection) will clear generations 0,1 and 2. As an object survives a garbage collection, it is promoted to the next generation up.&lt;/p&gt;

&lt;p&gt;What this means is the next time a generation 0 collection is run, it won’t bother checking the promoted objects because it’s quite likely that those objects are still referenced, after all they survived one or more GC cycles already and so those objects won’t be collected until a more aggressive GC is executed. Promotions only occur of course up to generation 2, so if a gen 2 object lives through a GC cycle, it will still be gen 2.&lt;/p&gt;

&lt;p&gt;The only additional thing to mention with this is that large objects (on the large object heap) are allocated as generation 2 directly whilst small objects are allocated as generation 0. You cannot manually allocate a generation 1 object.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;When does a garbage collection start?&lt;/strong&gt; 

  &lt;br /&gt;And so, the last thing to talk about is how a GC is initiated. There are 3 mechanisms;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Generation thresholds&lt;/li&gt;

  &lt;li&gt;Manual collection&lt;/li&gt;

  &lt;li&gt;Low memory conditions&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Manual collection and low memory conditions
    &lt;br /&gt;&lt;/em&gt;I’ll cover these two first as they are the simplest. If the hardware your code is running on is starting to run low on memory resources, your application will be notified and will automatically trigger a GC cycle – this is all handled for you, no code required, whilst the other mechanism is to manually call GC.Collect which will in turn perform a garbage collection cycle against the generation you passed as a parameter (plus any below it). This can be useful, but calling it is reasonably rare and you’re better off relying on the thresholds.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Thresholds
    &lt;br /&gt;&lt;/em&gt;Each of the three generations has a GC threshold. When the heap is starting to fill with objects it may start to encroach on one of these thresholds and when it goes, the GC cycle for the generation in question will be triggered. This could result in object promotion to other generations which in turn may trigger further threshold collections. You don’t manage these thresholds directly, the runtime will dynamically tune the thresholds for you.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Summary&lt;/strong&gt;

  &lt;br /&gt;So that’s my hamfisted attempt at explaining the garbage collector in .NET, I hope it comes in handy for someone, it was certainly useful to refresh my own memory! I’ll post code in the next few days that demonstrates what I mentioned about the large object heap and fragmentation that will hopefully make some of this clearer.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/8834312163100651380/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/02/garbage-collection-fundamentals-in-net.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8834312163100651380'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8834312163100651380'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/garbage-collection-fundamentals-in-net.html' title='Garbage collection fundamentals in .NET'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/TV2JKQ3jltI/AAAAAAAAATc/_I2COF3Z8Yw/s72-c/image5.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1168258580048372218</id><published>2011-02-15T11:05:00.001Z</published><updated>2011-02-15T11:05:38.528Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='SDLC'/><title type='text'>SDLC – Productive development teams.</title><content type='html'>&lt;p&gt;Since I started running and managing teams, about 10 years ago, I’ve been trying to put my finger on what it is that makes a productive development team. Of all the teams I’ve worked with, what makes one team perform better than the others if we consider that both teams are filled with equally capable members. Now, I’m not asking what makes the developers more productive as in what characteristics do they have personally, I’m asking what do we, as management, put in place in terms of environment and culture that allows one team to succeed more than another.&lt;/p&gt;  &lt;p&gt;Over the years I’ve identified, read, and learned about a number of things that motivate technical teams, but I think there are two aspects that are the most crucial. We must provide technical teams with;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;A quiet place to work with less interruption.&lt;/li&gt;    &lt;li&gt;Authority and ownership of their work.&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;strong&gt;A quiet place to work&lt;/strong&gt;    &lt;br /&gt;I’ve known this for 18 years, since I first became a developer - developers need a quiet place to work, with few interruptions. This fact is by far, THE most important thing we need to put in place to get the best out of a development team. These days I spend around half of my time doing non-development work; meetings, design sessions, writing specs, planning and all that kind of stuff, but the other half of my time I’ve usually got my head in visual studio, writing code, and I can tell you that a noisy working environment is still the primary thing that stops me from getting things done. All developers find it difficult to work when sat next to the call centre, or sat across from Jean from accounting who can’t stop telling everyone about how her two cats have wonderfully expressive expressions and how they smell divine when they’ve just been given a kitty bath – nice!&lt;/p&gt;  &lt;p&gt;When a developer is writing code, they have in their head a plethora of details about what they are doing – class names, method names they need to call, variables they need to populate, and sequences they need to follow. They are thinking about the layer they are presently working in, the UI lets say, but are contemplating changes up the stack into repositories, domain objects and/or the database – all of this is being worked out, real time, in their heads.&lt;/p&gt;  &lt;p&gt;Now, think about it, you’ve got this big jenga stack of information in your grey matter when Jean decides to tell you again about how Fuddles can smile when she says kitty kat – see what happens, your concentration is shattered, the jenga bricks all fall down and you now need to spend 5 or 10 minutes picking them up again – you essentially stall and get thrown out of&amp;#160; “The Zone” and it takes time to get back into it.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;Joel Spolsky articulates this, and some of the math behind getting into and out of the Zone, in a much better way than I ever could, so I encourage you to read his articles or book&amp;#160; “&lt;/em&gt;&lt;a href="http://www.amazon.co.uk/Joel-Software-Occasionally-Interest-Ill-Luck/dp/1590593898/ref=sr_1_1?ie=UTF8&amp;amp;qid=1297192137&amp;amp;sr=8-1" target="_blank"&gt;&lt;em&gt;Joel on software&lt;/em&gt;&lt;/a&gt;&lt;em&gt;”.&lt;/em&gt;&lt;/p&gt;  &lt;p&gt;So how can management address this quiet place to work issue? This is the tricky part – ideally you want each developer in their own office, with a door they can close when they want no interruptions, but this unfortunately usually results in laughter with the board who just don’t understand how a developer does their job. You can convey with explicit detail why but 9 times out of 10, they won’t put the partitions up. &lt;/p&gt;  &lt;p&gt;At the very least, get your development team insulated from the rest of the business. One partition to create a “development office” will go a long way to reducing the noise distraction from the rest of the business in the open plan environment but this is only a 15% step in the right direction. You’re still going to have in-team distraction, where developer A decides it’s quicker to ask developer B a question rather than spend 2 minutes hunting down the email that gives him the answer and the partition will only be a minor deterrent from Dave from support waltzing in and interrupting everyone at the same time, but a 15% step in the right direction is still better than Joan and her cats.&lt;/p&gt;  &lt;p&gt;Moral of the story – you might not be able to go the whole hog and get every developer into a private office, but do &lt;strong&gt;&lt;em&gt;something.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Authority and ownership&lt;/strong&gt;    &lt;br /&gt;In my current role, I’m assigned a project to take on, I get a briefing and then I’m left to it. Sure there are governance reviews every few months, we usually have a project manager assigned to interface the client commercially and do the paper pushing such as weekly status reports back to the businesses (ours and the clients) to keep everyone happy, but from a technical design, development and team management perspective, I’m on my own – I take full ownership and responsibility for everything we do, and that my friend is empowerment which breeds motivation!&lt;/p&gt;  &lt;p&gt;Now consider Kevin. Kevin works for the antithesis of my company and they are total control freaks, they need to micro manage the soul out of Kevin so that they know he’s doing exactly what they want him to do – even if they are the one’s in the worst position to be making technical decisions! Kevin gets on with code, line by line, writing to specification exactly what the management team are looking for, they check up on him hourly, tell him to change his code to work slightly differently and eventually Kevin either quits or comes into work with an AK47 and mows down the management team.&lt;/p&gt;  &lt;p&gt;That’s an extreme example, but I have honestly seen that – well, not the AK47 part. I’ve been in more than one organisation before where the developers and architects are micro managed from up on high, told which technologies to use because the On-High-Manager had a conversation with someone the day before and decided that Service-Orientated-Entity-Hibernate was the up and coming technology that is the silver bullet for all their problems – the development team protest but are shot down and told to just get on with it and what do you know, 2 months later, they call in someone like me to help them work out what their problems are.&lt;/p&gt;  &lt;p&gt;Developers need to own their work. Sure, architects and SDMs can put in place frameworks and prescribed approaches, but ultimately developers are a creative breed and so let them be creative, don’t confine them to a hell of micro management, give them a task, set some boundaries (the general architecture) and let them get on with it. &lt;/p&gt;  &lt;p&gt;Now, I can hear some of those micro managers screaming now “what about the slackers” and the “people that take the proverbial”. Well, there’s three things I’d say to that. Firstly your recruitment process is wrong, Second, the reason they are slacking is more likely because of their lack of motivation due to being brow beaten daily and Three, your lightweight management process &lt;strong&gt;will&lt;/strong&gt; weed out those who just, bluntly, aren’t up to standard.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;Recruitment process     &lt;br /&gt;&lt;/em&gt;I say your recruitment process is wrong because if you have slackers or proverbial takers on your team, your process wasn’t good enough to weed them out. Did a couple of technical and highly motivated, passionate people interview them? Were they given a technical test to test their programming skills? Were they given a logical test to test their thought and reasoning? If not, your recruitment process is wrong and you’re going to let through some people who should be doing something else with their time, but shouldn’t be writing code for a living.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;Brow beaten&lt;/em&gt;    &lt;br /&gt;When you’re running your development team in micro management mode, developers, who are creative by nature, start to lose motivation. When they have a spec that says, write some code, like this, that is so detailed that they have no creative input, they would probably sooner spend a day on facebook than actually write that stinking code you’ve told them to write. This is not the fault of the developer, this is poor management – it’s your job to remove things from their path that stop them doing their job and motivate them to do their best work whilst their job is to write beautiful code.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;Lightweight management process to weed out the useless&lt;/em&gt;    &lt;br /&gt;So whilst I’m saying have more of a hands-off approach to management, you will still have a management method that will allow you to compare apples with apples. SCRUM is obviously one of my favourite approaches to running iterative development and it’s this that I think gives you a good tool to be able to monitor the performance of all developers and identify those who are struggling. &lt;/p&gt;  &lt;p&gt;By working out what work was delivered by each individual in each sprint, you get not only a team velocity (how much work a team can generally carry out in each iteration), but also a velocity per team member. Now if Dave and John are hitting 40 points in a 2 week sprint but Alan is only hitting 10, you’ve got to ask why Alan’s productivity is so low – you don’t need to be all “up’in’Alan’s’Bizniss'” and micro manage him, you just need to identify his velocity slump and then ask what the problem is – if it’s because his cat died this week and so couldn’t get in the Zone, then fine, send him to grief counselling, but if it’s because he just can’t do the job, give him some opportunities to skill up but then I’m afraid it’s time to weed him out – you only want people on your team who get things done.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Conclusion     &lt;br /&gt;&lt;/strong&gt;I’m not saying these are the only two things that you need to do to motivate a development team, but I am saying they are the two most important out of a long list. There’s more to the list, but others smarter than I have already covered this in detail (comfy chairs, large monitors, powerful pc’s, interesting work, the best tools and so on). If you can do only two things to motivate your team, I strongly urge you to do the two things above.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1168258580048372218/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-productive-development-teams.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1168258580048372218'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1168258580048372218'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-productive-development-teams.html' title='SDLC – Productive development teams.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5383803334406703789</id><published>2011-02-14T13:26:00.001Z</published><updated>2011-02-14T13:26:08.528Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVVM'/><category scheme='http://www.blogger.com/atom/ns#' term='Prism'/><category scheme='http://www.blogger.com/atom/ns#' term='Silverlight'/><title type='text'>Prism, MVVM and Silverlight – the finished article.</title><content type='html'>&lt;p&gt;In my &lt;a href="http://www.deepcode.co.uk/2011/01/prism-mvvm-and-silverlight-gripping-it.html" target="_blank"&gt;previous article&lt;/a&gt; I set out to create a simple Silverlight application using the prism framework and the MVVM pattern. I chose what I thought would be quite a straight forward application to build, something that would mirror the iPad application, Popplet (links: &lt;a href="http://popplet.com/"&gt;Website&lt;/a&gt;, get it on &lt;a href="http://itunes.apple.com/gb/app/popplet/id374151636?mt=8"&gt;iTunes&lt;/a&gt;) – which as I said in my earlier post, is a pretty neat little app that lets you essentially drop post it notes (text or image) onto a canvas, drag them around into some layout that makes sense to you and connect the various boxes. &lt;/p&gt;  &lt;p&gt;&lt;img style="display: inline; margin-left: 0px; margin-right: 0px" alt="iPad Screenshot 1" src="http://a1.phobos.apple.com/us/r1000/011/Purple/be/41/0d/mzl.aaufjgtr.480x480-75.jpg" width="451" height="344" /&gt;&lt;/p&gt;  &lt;p&gt;So, this distilled down to the following user stories;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;As a user I want to see a canvas of notes. &lt;/li&gt;    &lt;li&gt;As a user I want to be able to add a new note box to my canvas. &lt;/li&gt;    &lt;li&gt;As a user I want to be able to rotate or resize any of my note boxes on my canvas &lt;/li&gt;    &lt;li&gt;As a user I want to be able to connect note boxes &lt;/li&gt;    &lt;li&gt;As a user I want to be able to delete note boxes &lt;/li&gt;    &lt;li&gt;As a user I want to be able to zoom in and out &lt;/li&gt;    &lt;li&gt;As a user I want to be able to drag my canvas around &lt;/li&gt;    &lt;li&gt;As a user I want to be able to click a button to zoom out to the extents of my canvas so far.&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;I’ve spent about 12/13 hours building this in total, over 5 sessions, from scratch, learning some of the concepts as I’ve gone and I’ve delivered all of the user stories above with the exception of the ability to connect note boxes - basically I’ve run out of time to add that, but it should be trivial to add by creating another canvas layer in our control template that is used to render connector lines.&lt;/p&gt;  &lt;p&gt;This was an exercise not only in how best to work with Prism and MVVM but also in how I might best implement a reasonably complex control – the designer surface and whilst I’m impressed with how quickly I was able to build this little app (I think it could be done within a day easily), I also think that my approach is actually the wrong one.&lt;/p&gt;  &lt;p&gt;The way this application works is we have a custom control, the diagram canvas which contains all the functionality for zooming, panning and so on, and then the items themselves are rendered using a data template. Two data templates in fact – one that dictates how the standard node should be rendered, the other dictating the rendering of it when it’s selected – in which case it is adorned with resize handles, rotation handles, a button to delete the entity and a textbox to change the text (there is no adornment layer in SilverLight it turns out!).&lt;/p&gt;  &lt;p&gt;This all works, but it doesn’t feel very flexible. It’s pretty much impossible to represent more than one shape type – the list of “stuff” you bind to all gets rendered through one data template, so that makes life difficult.&lt;/p&gt;  &lt;p&gt;It also feels quite tightly coupled and doesn’t have clean separation of concerns (eg the diagram component has code in there to find UI elements within a data template that should be refactored out). Anyway, the exercise has proven it’s point, but if I were to do this again, I’d try to be a little more flexible and use different controls (+control templates) for different types of shape (all of these shape controls would implement IShape) and expose a property that describes their adornments – so some IShapes would adorn themselves with a RotatorAdornment and SizerAdornment whilst others might just have EditTextAdornment and so on. Composing the controls in this way would be much more flexible, and the view model would have the responsibility of transforming our domain data (the model) into the shape data collection the canvas is binding to and vice versa.&lt;/p&gt;  &lt;p&gt;Anyway, for now, this is what the application looks like, it works, it does what it says on the tin, but it’s perhaps not the best implementation. You can grab the source from &lt;a href="http://silverpop.codeplex.com"&gt;http://silverpop.codeplex.com&lt;/a&gt;.&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="sp-bettershot" border="0" alt="sp-bettershot" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TVktb5bpGrI/AAAAAAAAATY/GzAdPvrKGvY/sp-bettershot%5B3%5D.png?imgmax=800" width="675" height="450" /&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5383803334406703789/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/02/prism-mvvm-and-silverlight-finished.html#comment-form' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5383803334406703789'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5383803334406703789'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/prism-mvvm-and-silverlight-finished.html' title='Prism, MVVM and Silverlight – the finished article.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/TVktb5bpGrI/AAAAAAAAATY/GzAdPvrKGvY/s72-c/sp-bettershot%5B3%5D.png?imgmax=800' height='72' width='72'/><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5470032277967176163</id><published>2011-02-08T19:29:00.001Z</published><updated>2011-02-08T19:29:46.868Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><title type='text'>Hmmm– what happened to my brain?</title><content type='html'>&lt;p&gt;I’ve been reading the excellent “&lt;a href="http://www.amazon.co.uk/Joel-Software-Occasionally-Interest-Ill-Luck/dp/1590593898/ref=sr_1_1?ie=UTF8&amp;amp;qid=1297192137&amp;amp;sr=8-1" target="_blank"&gt;Joel on software&lt;/a&gt;” and “&lt;a href="http://www.amazon.co.uk/More-Joel-Software-Occasionally-Developers/dp/1430209879/ref=sr_1_2?ie=UTF8&amp;amp;qid=1297192137&amp;amp;sr=8-2" target="_blank"&gt;More Joel on software&lt;/a&gt;” books recently (by &lt;a href="http://www.joelonsoftware.com/" target="_blank"&gt;Joel Spolsky&lt;/a&gt; obviously) – I’ve got to say I wish more people had his insight into what motivates and drives a good developer to work well. I’ve lost count of the number of clients I’ve turned up at to find brow beaten developers sat next to the telesales department staring at postage stamp screens and wondering why their productivity is so low….&lt;/p&gt;  &lt;p&gt;Anyway, I’ve got a few things to say about that myself, but I’ll save it for another day, today I’m thinking about some of the stuff Joel talks about with regards to &lt;a href="http://en.wikipedia.org/wiki/Grok" target="_blank"&gt;groking&lt;/a&gt; pointers and how programming is getting easier, or should I say dumbed down (due to University teaching higher languages such as Java rather than C, C++ or assembly)&amp;#160; and I looked back to where I was in the early ‘90s and realised that I seem to have forgotten a lot since then!&lt;/p&gt;  &lt;p&gt;Back then, I remember writing games in my spare time in C/C++ and assembler – I remember knowing about memory segments and offsets, I remember using registers to set source/target memory and moving bytes around, I “got” pointers, I knew about memory allocation, doubly linked lists, and I could write assembly language until it came out of my ears - I even remember using “debug” on the command line to inspect what a game was doing during the license key check at the start up of the game and then changing the op codes from a JE (jump if equal) to a JNE (jump if not equal) so that if you put the wrong key in, it let you play the game (sorry about that, but we’d erm, lost the key, that’s it, lost it).&lt;/p&gt;  &lt;p&gt;I even remember myself and a few colleagues (John Steele and David Mort, just in case you’re out there!) having competitions on writing double buffer, screen swapping algorithms that would push the delta from two buffers into VGA video memory (0xA000)– because writing to video memory was so unbearably slow compared to RAM – we would actually sit there, pouring over the assembly listings, counting the iterations and how many clock cycles it would take to refresh a partial or full screen and therefore who’s routine was better. Geek fest, and you know what, I loved it and feel sorry for any developers out there that haven’t had a similar experience.&lt;/p&gt;  &lt;p&gt;Anyway - what is my point? Well, I don’t think I have one other than this was a nice trip down memory lane, and I think I might struggle to go back and do that again now. I could do it with my eyes closed back in ‘92 and I had to for a variety of, usually performance, reasons, but because I’ve not had to use that skill in a long time, it’s gotten old and rusty like a neglected banger of a car left in a leaky garage. These days I work at a higher level of abstraction – I work with C# and I build software in that higher level world rather than in the bowels with assembly and whilst there are numerous principles and concepts learned in the past that are still useful, I’ve not needed to drop into assembly for &lt;strong&gt;any &lt;/strong&gt;reason (building LOB apps) in the last, I’m guessing, 10 years.&lt;/p&gt;  &lt;p&gt;Is that a good thing? Part of me is happy that building software is easier, but the other part of me feels that those kinds of skills provide an essential grounding to really understanding what is going on under the hood, even if you do spend your days in the .NET C# clouds.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5470032277967176163/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/02/hmmm-what-happened-to-my-brain.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5470032277967176163'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5470032277967176163'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/hmmm-what-happened-to-my-brain.html' title='Hmmm– what happened to my brain?'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6190875327942204590</id><published>2011-02-04T10:50:00.001Z</published><updated>2011-02-04T10:50:56.487Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='SDLC'/><category scheme='http://www.blogger.com/atom/ns#' term='Scrum'/><title type='text'>SDLC – agile in the real world – consulting and long complex projects (Iteration 0)</title><content type='html'>&lt;p&gt;Building software isn’t like building a bridge. This is not new thinking, this is well understood and has been a factor of software development since the 70’s.&lt;/p&gt;  &lt;p&gt;When building a bridge someone has a vision that is part creative and part engineering on how the bridge should be built. The engineers then take this vision and run calculations, build models, run stress tests and so on to make sure that the design will stand up in the real world. They then produce a detailed schedule of work on what needs to happen each week to get the bridge built – there is no deviation from the plan, no changing your mind about how the bridge should be implemented and, beyond the initial vision and problem solving – very little creativity.&lt;/p&gt;  &lt;p&gt;Building software on the other hand is a creative process. Developers who write code can approach a problem in a number of different ways, some good, some bad, some passable – but all creative, drawn from their bag of experience and knowledge.&amp;#160; Yes, it’s engineering, but I propose it’s also extremely creative.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;The case for up-front-design (but not BIG up-front-design)     &lt;br /&gt;&lt;/strong&gt;I’ll even go so far as to argue that planning a bridge is easier than planning software – we already know every little detail about the bridge design up front, we know that design isn’t going to change and we know it will take 4 hours for Dave with a spanner to attach two I beams together, typically it takes 3 hours to weld the plates that make a section, but sometimes that weld is poor, so you build in a contingency factor and so on – easy. (Aside: for any bridge builders out there who just happen to have stumbled on this post, I’m sure it’s really not that easy!)&lt;/p&gt;  &lt;p&gt;Planning and managing software development on the other hand – well, I’m an advocate of SCRUM and agile approaches, sure, and that’s a great way to run a project,&amp;#160; but I’m not so sure that it’s a great way to &lt;strong&gt;start&lt;/strong&gt; a project from the beginning. XP would have us diving straight into code, SCRUM we’d already have a backlog to pick some items off ready to start building in iteration 1, so I guess this post is about how that backlog get’s filled to start with – an iteration 0 - just diving headlong into code without first understanding the holistic picture of the app you’re going to build, the pieces that will make up the whole and the general stages you need to go through is a recipe for disaster on a project that lasts say 2 years with 3 workstreams (custom dev, business intelligence and data migration).&lt;/p&gt;  &lt;p&gt;Also, I’m a consultant and I generally work with a team of consultants from my company (often with other developers supplied by the client or with an offshore development team) and these people cost money – it’s extremely rare for a client to engage say 4 consultants at £1,000 a day without having some sort of idea of how long we’ll take to deliver and how much it will cost. &lt;/p&gt;  &lt;p&gt;So, I’m sorry XP purists, but you can’t escape the fact that we need up front design. &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Up-front-design in perspective     &lt;br /&gt;&lt;/strong&gt;I’m not saying we need big thick, 000’s page long manuals with detailed conceptual, logical and physical designs down to sequence diagrams for individual methods, no, but we do need to;&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Gain insight into the overall application surface&lt;/li&gt;    &lt;li&gt;Identify the pieces of the application – essentially the sub-applications within the whole – we’ll call these domain components.&lt;/li&gt;    &lt;li&gt;Flesh the high level use cases/user stories for each domain component.&lt;/li&gt; &lt;/ol&gt;  &lt;p&gt;From this the project can be planned into iterations and roughly estimated – the estimate won’t be 100% but it will be an indication and a yardstick to measure change by. In other words, if the customer during a sprint decides to change tack on part of the application, its quite easy to see that adding that extra work to the next iteration will make something fall off the back end of the project and either not get delivered or will cost more. The exercise of defining the high level project will give you a good idea of how best to structure delivery in iterations and let you populate a backlog so you can see the effect of change and re-plan accordingly during the execution of the build.&lt;/p&gt;  &lt;p&gt;Alongside the identification of the big picture, the application architect will also be considering the approach to development – will the user want a rich UI interface, will it be a desktop application, a web based application, maybe SilverLight would be a good idea – should the business logic be distributed and exposed as services – will this application expose itself to other applications – how will we handle workflow – should we surface through a SharePoint portal? - all these things will become clearer as the high level design above is being done, but at the same time, the architect will be making some technical decisions that are based on assumption and are therefore risky for the success of the project – we need a way to mitigate that risk, less we head off in the wrong direction only to find that the assumption was wrong in 10 months and have a lot of re-engineering to do to fix it!&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Projects need iterations but they also need phases     &lt;br /&gt;&lt;/strong&gt;All of this indicates what we already know - that projects need phases. They need this start up phase to identify the big picture, estimate the whole and de-risk technical assumptions, but what are the phases of the project from there? Well, if you subscribe to any of the methodologies like RUP, Open/UP, MSF etc, you will already be familiar with project phases – the list below describes the phases of a project how I personally like to work (but I’m not precious or religious about these in any way – call them whatever works for you!).&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Inception&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;During this phase you identify the big picture – application surface, domain components and drill into use case titles/user stories&lt;/li&gt;      &lt;li&gt;You also identify the proposed architecture for the solution&lt;/li&gt;      &lt;li&gt;Build a proof of concept to start to de-risk some of the technical assumptions&lt;/li&gt;      &lt;li&gt;Deliver&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;30,000ft map of the entire application&lt;/li&gt;        &lt;li&gt;High level use cases&lt;/li&gt;        &lt;li&gt;Iteration plan&lt;/li&gt;        &lt;li&gt;Proposed costs and timescales&lt;/li&gt;        &lt;li&gt;Use case detail, wireframes and specification detail for the first elaboration sprint.&lt;/li&gt;     &lt;/ul&gt;   &lt;/ul&gt;    &lt;li&gt;Elaboration&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;This phase we start to work in iterations, using SCRUM to manage those iterations.&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;Each iteration delivers the use case detail (building on the high level headers), lo-fidelity screen wireframes and other pertinent specification detail for the next iteration.&lt;/li&gt;     &lt;/ul&gt;      &lt;li&gt;De-risk any additional technical risks&lt;/li&gt;      &lt;li&gt;Build a fully functioning vertical slice through the architecture and problem domain&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Construction&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;SCRUM sprints/iterations through the build of the product.&lt;/li&gt;      &lt;li&gt;Stringent quality control – continuous builds, nightly build released to testing.&lt;/li&gt;      &lt;li&gt;Continue to provide design detail 1 sprint ahead.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Transition&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Releasing the product – a release sprint.&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;In some cases you can’t release at the end of each 2-4 week sprint – the application may be too large and what you can build in an iteration too small.&lt;/li&gt;        &lt;li&gt;Instead each iteration should deliver demoware – a presentation or demo to some of the users.&lt;/li&gt;     &lt;/ul&gt;      &lt;li&gt;Some applications can be extremely complex involving multiple deployment steps, these should be planned.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Support&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Handing over to the people responsible for the upkeep of the system.&lt;/li&gt;   &lt;/ul&gt; &lt;/ol&gt;  &lt;p&gt;&lt;strong&gt;Next     &lt;br /&gt;&lt;/strong&gt;In future posts I’ll cover some of these phases, how we go about running the inception phase for example, key things to do in workshops with customers, and how best to start the process of identifying the big picture.&lt;/p&gt;  &lt;p&gt;To conclude though, I will say this - yes, the above is applicable to larger sized projects. If you’re writing a simple expense tracking application for the sales department or a personal journal application for yourself then yes, go pure agile and start coding. If you’re working in a larger team on a larger project, you’re going to have to put some effort in up front I’m afraid to get the project rolling – you can run the project as SCRUM from then on and get all the juicy benefits from it, whilst also understanding the bigger picture, budget and timescale implications.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6190875327942204590/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-agile-in-real-world-consulting-and.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6190875327942204590'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6190875327942204590'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-agile-in-real-world-consulting-and.html' title='SDLC – agile in the real world – consulting and long complex projects (Iteration 0)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6194174939634079788</id><published>2011-01-28T19:08:00.001Z</published><updated>2011-01-28T19:08:36.527Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVVM'/><category scheme='http://www.blogger.com/atom/ns#' term='Prism'/><category scheme='http://www.blogger.com/atom/ns#' term='Silverlight'/><title type='text'>Prism, MVVM and Silverlight – Gripping it by the short and curlies – introduction.</title><content type='html'>&lt;p&gt;Today, and for a few hours yesterday, I found myself “on the bench” for the first time in 4 years – that means I’ve got a little bit of time to brush up on some concepts, write some spikes and equip myself with some new tools before I start another engagement. I figured I’d use this time productively to brush up on the latest incarnations of Silverlight (4) and Prism (4) by trying to build out a sample application.&lt;/p&gt;  &lt;p&gt;The question is, what to build? I only have a day or so which means I need it to be simple-ish, but interesting. Well, recently, I’ve been playing with an iPad application called Popplet (links: &lt;a href="http://popplet.com/" target="_blank"&gt;Website&lt;/a&gt;, get it on &lt;a href="http://itunes.apple.com/gb/app/popplet/id374151636?mt=8" target="_blank"&gt;iTunes&lt;/a&gt;) – which is a pretty neat little app that lets you essentially drop post it notes (text or image) onto a canvas, drag them around into some layout that makes sense to you and connect the various boxes. I’ve used it for brainstorming ideas, thinking about application components and how they relate and a bunch of other things.&lt;/p&gt;  &lt;p&gt;&lt;img alt="iPad Screenshot 1" src="http://a1.phobos.apple.com/us/r1000/011/Purple/be/41/0d/mzl.aaufjgtr.480x480-75.jpg" /&gt;&lt;/p&gt;  &lt;p&gt;Inspiration? Check! – this kind of application covers a bunch of things that I’d like to cover off with this exercise;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Expressing a reasonably complex model. &lt;/li&gt;    &lt;li&gt;Visualising that model &lt;/li&gt;    &lt;li&gt;Data templates or components for the notes. &lt;/li&gt;    &lt;li&gt;Best way to do the connections between things &lt;/li&gt;    &lt;li&gt;Decorating the notes with resize handles and (for our version) rotation. &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;So here goes – our back of a napkin specification;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;As a user I want to see a canvas of notes. &lt;/li&gt;    &lt;li&gt;As a user I want to be able to add a new note box to my canvas. &lt;/li&gt;    &lt;li&gt;As a user I want to be able to rotate or resize any of my note boxes on my canvas &lt;/li&gt;    &lt;li&gt;As a user I want to be able to connect note boxes &lt;/li&gt;    &lt;li&gt;As a user I want to be able to delete note boxes &lt;/li&gt;    &lt;li&gt;As a user I want to be able to zoom in and out &lt;/li&gt;    &lt;li&gt;As a user I want to be able to drag my canvas around &lt;/li&gt;    &lt;li&gt;As a user I want to be able to click a button to zoom out to the extents of my canvas so far. &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;At this point, I’m not going to bother with persistence – that’s a problem that’s well and truly solved, I just want to concentrate on the Silverlight side of life and I’ll stub out the service that would get the data for the user from the database.&lt;/p&gt;  &lt;p&gt;So that’s the idea – I’ve spent around 8 hours on this so far and I’m quite impressed with how far I’ve been able to get – the screenshot below might look like crap, but it’s proving out some of the technical issues I’m interested in; If you’re interested, the top and bottom diagrams mirror each other and have two separate data templates – you can add new notes, move notes around, pan the canvas as much as you like and zoom in and out…. quite good for 1 working day!&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TUMUM2GmRjI/AAAAAAAAATM/7CGsdpcTrAg/image%5B3%5D.png?imgmax=800" width="870" height="646" /&gt; &lt;/p&gt;  &lt;p&gt;In coming days I’ll post the full diary, along with all of the source code - I’m keeping a detailed log of the issues I faced and how and why I made the decisions I made in building the application – once I’ve got it all together and the app finished, I’ll post it here. Watch this space!&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6194174939634079788/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/01/prism-mvvm-and-silverlight-gripping-it.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6194174939634079788'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6194174939634079788'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/01/prism-mvvm-and-silverlight-gripping-it.html' title='Prism, MVVM and Silverlight – Gripping it by the short and curlies – introduction.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/TUMUM2GmRjI/AAAAAAAAATM/7CGsdpcTrAg/s72-c/image%5B3%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3013307510050510446</id><published>2011-01-26T22:37:00.000Z</published><updated>2011-01-26T22:37:01.099Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='SDLC'/><title type='text'>Software development lifecycle – Part I – Introduction</title><content type='html'>&lt;p&gt;Software development lifecycle – the process of how we build software, the steps we go through to design software, build it, test it, deploy it – it means a lot of different things to a lot of different people, but yet we find that many organisations aren’t really paying close enough attention to their processes and management of software development which leaves them reacting to problems, not knowing when they are going to deliver, delivering features that are irrelevant or lower priority than missing features and with no deep insight into what they are supposed to be delivering in the first place.&lt;/p&gt;  &lt;p&gt;I’ve heard a number of teams say “oh, we’re agile&amp;quot;&amp;quot; – and what they mean is they have no specifications, no plans, no timescales and at the end of it, no jobs because the company employing the team went bust waiting for the team to deliver something. &lt;/p&gt;  &lt;p&gt;So, in this series of blog posts I want to take a look through some of the things to think about when implementing structure around your development activity – on the one hand you don’t want to just have a team banging away at code with no formal structure, as the example above, but similarly you don’t want to get too binding with this otherwise you’ll end up with Carl (lets call him Carl in this situation) rocking in the corner, muttering about how he’s “too confined and boxed in maaaan” – development is a creative, problem solving process, let them be creative but within some structured boundaries.&lt;/p&gt;  &lt;p&gt;I’m going to keep this series open ended an just chew the fat on a different topic each week and see where we come out. Whilst not a list of topics that I’m going to write on individually, below is a list of some of the things I'm going to explore in this series;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Typical phases of a project&lt;/li&gt;    &lt;li&gt;How to understand the problems and get a holistic view.&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Involve the business or customer early and keep them engaged!&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Defining the product&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Why bother&lt;/li&gt;      &lt;li&gt;What format&lt;/li&gt;      &lt;li&gt;Who owns the product?&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Understanding and addressing risk.&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Prove it – show me the code.&lt;/li&gt;      &lt;li&gt;The point of spikes.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Housekeeping!&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Keeping track of risks, issues and key decisions.&lt;/li&gt;      &lt;li&gt;Backlog pruning.&lt;/li&gt;      &lt;li&gt;Keeping the customer engaged.&lt;/li&gt;      &lt;li&gt;Other project artefacts.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Making a plan – estimation is not about marketing!&lt;/li&gt;    &lt;li&gt;Iterating and aggressive construction.&lt;/li&gt;    &lt;li&gt;Transitioning to live/launch.&lt;/li&gt;    &lt;li&gt;Supporting the product.&lt;/li&gt;    &lt;li&gt;Managing the team&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;The role of team lead&lt;/li&gt;      &lt;li&gt;8 hours does not a day make&lt;/li&gt;      &lt;li&gt;Motivating technical people.&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;Doesn’t involve putting the dev team in an open plan office next to the sales department hotlines! &lt;/li&gt;        &lt;li&gt;Continual harassment != productivity.&lt;/li&gt;     &lt;/ul&gt;      &lt;li&gt;Monitoring progress&lt;/li&gt;      &lt;li&gt;Dealing with hold ups and blocking issues.&lt;/li&gt;      &lt;li&gt;Why it’s possible to keep the reigns of management loose and still be impossible to get away with being a slacker.&lt;/li&gt;      &lt;li&gt;Capability leads and subject (domain) experts.&lt;/li&gt;      &lt;li&gt;Recruiting technical staff&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;Show me the code!&lt;/li&gt;        &lt;li&gt;Solve this problem!&lt;/li&gt;        &lt;li&gt;Welcome on board – induction or abduction?&lt;/li&gt;     &lt;/ul&gt;      &lt;li&gt;Training and/or free time to experiment.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Managing the code, the build and quality&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Code reviews – still as important today! But let’s not get hung up on the traditional formality.&lt;/li&gt;      &lt;li&gt;Daily and continuous builds&lt;/li&gt;      &lt;li&gt;The build wall&lt;/li&gt;      &lt;li&gt;Unit testing&lt;/li&gt;      &lt;li&gt;Bugs – squish em soon and squish em often.&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;It works on my machine!&lt;/li&gt;     &lt;/ul&gt;      &lt;li&gt;Source control.&lt;/li&gt;      &lt;li&gt;Framework, framework, framework.&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Strategy&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Have one!&lt;/li&gt;   &lt;/ul&gt; &lt;/ul&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3013307510050510446/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/01/software-development-lifecycle-part-i.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3013307510050510446'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3013307510050510446'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/01/software-development-lifecycle-part-i.html' title='Software development lifecycle – Part I – Introduction'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2049353611786766413</id><published>2011-01-17T18:36:00.001Z</published><updated>2011-01-17T18:36:37.640Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Unity'/><category scheme='http://www.blogger.com/atom/ns#' term='WCF'/><title type='text'>Quick explanation of generating dynamic WCF client proxies with Unity;</title><content type='html'>&lt;p&gt;I’ve been using castle windsor for years now and it’s been my favourite IOC and DI container for a long time. On one of my current projects, I’ve been forced to look at Unity a bit more closely and the first thing that came up for me was how to create WCF client proxies automatically from the shared service contracts. This is how I did it;&lt;/p&gt;  &lt;p&gt;I configure the container with code at the moment – I don’t know about you but the usefulness of IOC isn’t the fact that you can replace components at runtime, it’s the clean separation and testability that following a loose coupled pattern gives you. So, I configure my container in code – if I needed the ability to replace bits later, I’d devolve just that part of the configuration out to XML or such like, but I wouldn’t start at XML – it’s too easy to introduce a typo and it doesn’t support refactoring easily.&lt;/p&gt;  &lt;p&gt;Anyway, so the complexity of registering a WCF client proxy is it doesn’t have a concrete implementation – I have an interface assembly that contains the service contracts and data contracts and I want to tell WCF to wrap the interface with a channel factory and create the resultant channel.&lt;/p&gt;  &lt;p&gt;Unity provides a way of doing just that;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:d9ccb9b2-fd2e-419a-900f-886479dd517c" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #000080; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#d7d7c8"&gt;_host.RegisterType&amp;lt;TService&amp;gt;(&lt;/span&gt;&lt;span style="color:#dac6a5"&gt;new&lt;/span&gt;&lt;span style="color:#d7d7c8"&gt; &lt;/span&gt;&lt;span style="color:#efefaf"&gt;InjectionFactory&lt;/span&gt;&lt;span style="color:#d7d7c8"&gt;(c =&amp;gt; &lt;/span&gt;&lt;span style="color:#dac6a5"&gt;new&lt;/span&gt;&lt;span style="color:#d7d7c8"&gt; &lt;/span&gt;&lt;span style="color:#efefaf"&gt;ChannelFactory&lt;/span&gt;&lt;span style="color:#d7d7c8"&gt;&amp;lt;TService&amp;gt;(endpointConfigurationName).CreateChannel()));&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;TService is our interface and endpointConfigurationName is the name of our endpoint configuration in app.config. What this does is when something wants to resolve an instance of TService, it calls the lambda contained within the injection factory and this in turn creates a channel around the interface.&lt;/p&gt;  &lt;p&gt;As such, you can then just go ahead and call your interface members and it will wire everything up for you. No need for service references etc, it just works :)&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2049353611786766413/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/01/quick-explanation-of-generating-dynamic.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2049353611786766413'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2049353611786766413'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/01/quick-explanation-of-generating-dynamic.html' title='Quick explanation of generating dynamic WCF client proxies with Unity;'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5959221317319412678</id><published>2011-01-14T12:18:00.002Z</published><updated>2011-01-14T13:22:56.235Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><category scheme='http://www.blogger.com/atom/ns#' term='Security'/><category scheme='http://www.blogger.com/atom/ns#' term='General Guff'/><title type='text'>A modicum of security would be appreciated!</title><content type='html'>&lt;p&gt;My web hosting package was due for renewal today and I received this email (yeah, I’ve redacted some information to protect me and the people in question); I was quite shocked with the content of the URL that was in the body of the email;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TTA_FEXeSdI/AAAAAAAAAS4/D9X_UArB6eQ/image%5B6%5D.png?imgmax=800" width="691" height="484" /&gt; &lt;/p&gt;  &lt;p&gt;Yes, you read that right, they sent me an (insecure) email that contains in clear text everything you would need to access my account with that provider. Why bother with that https:// at the beginning of the url if you’re going to stick my username and password in the text of the email body too! You don’t need to try and bypass SSL and watch what is being sent to the site, all you need to do is get hold of the email being bounced (insecurely) around SMTP servers and you can have full unadulterated access to my hosting package! (and possibly more – read on!)&lt;/p&gt;  &lt;p&gt;I don’t mean to pick on these guys, they aren’t an isolated case, and &lt;a href="http://www.codinghorror.com/blog/2010/12/the-dirty-truth-about-web-passwords.html" target="_blank"&gt;other people&lt;/a&gt; have articulated why this kind of thing is REALLY bad better than I can so I refer you to Jeff Atwood’s articles on “&lt;a href="http://www.codinghorror.com/blog/2010/12/the-dirty-truth-about-web-passwords.html" target="_blank"&gt;The dirty truth about web passwords&lt;/a&gt;” and his post about “&lt;a href="http://www.codinghorror.com/blog/2010/11/your-internet-drivers-license.html" target="_blank"&gt;The internet drivers license&lt;/a&gt;”. &lt;/p&gt;  

&lt;p&gt;&lt;b&gt;Update:&lt;/b&gt; Forgot to add this link in; &lt;a href="http://www.codinghorror.com/blog/2008/06/smart-enough-not-to-build-this-website.html"&gt;Smart enough not to build this website&lt;/a&gt;</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5959221317319412678/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2011/01/modicum-of-security-would-be.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5959221317319412678'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5959221317319412678'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/01/modicum-of-security-would-be.html' title='A modicum of security would be appreciated!'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/TTA_FEXeSdI/AAAAAAAAAS4/D9X_UArB6eQ/s72-c/image%5B6%5D.png?imgmax=800' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5692963653259484392</id><published>2010-10-14T14:25:00.001+01:00</published><updated>2010-10-14T14:25:13.039+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVC'/><title type='text'>MVC1 to MVC2 caching gotcha</title><content type='html'>&lt;p&gt;I’m presently helping a client refresh their solution to the latest technology in K2, ASP.NET MVC, Sharepoint etc and found quite a poor issue with how caching works in MVC 2 compared to MVC 1.&lt;/p&gt;  &lt;p&gt;The scenario, lets say we have a single controller with InitialiseA(), InitialiseB() and Start(). The two init methods would set some session variables or do something in the database and then send back a redirect to action to go off to Start. This is what I expect to happen;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;I navigate to &lt;a href="http://mysite/controller/InitialiseA"&gt;http://mysite/controller/InitialiseA&lt;/a&gt;&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Sets “ABC” in session&lt;/li&gt;      &lt;li&gt;Sends back a 302 with content moved to /controller/Start&lt;/li&gt;      &lt;li&gt;Browser redirects to &lt;a href="http://mysite/controller/Start"&gt;http://mysite/controller/Start&lt;/a&gt;&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;Status 200 - Renders “ABC”&lt;/li&gt;     &lt;/ul&gt;   &lt;/ul&gt;    &lt;li&gt;I navigate to &lt;a href="http://mysite/controller/InitialiseB"&gt;http://mysite/controller/InitialiseB&lt;/a&gt;&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Sets “DEF” in session&lt;/li&gt;      &lt;li&gt;Sends back a 302 with content moved to /controller/Start&lt;/li&gt;      &lt;li&gt;Browser redirects to &lt;a href="http://mysite/controller/Start"&gt;http://mysite/controller/Start&lt;/a&gt;&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;Status 200 - Renders “DEF”&lt;/li&gt;     &lt;/ul&gt;   &lt;/ul&gt; &lt;/ul&gt;  &lt;p&gt;The reality is significantly different though. The above is how it would work in MVC1, but in MVC2, the following happens;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;I navigate to &lt;a href="http://mysite/controller/InitialiseA"&gt;http://mysite/controller/InitialiseA&lt;/a&gt;&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Sets “ABC” in session&lt;/li&gt;      &lt;li&gt;Sends back a 302 with content moved to /controller/Start&lt;/li&gt;      &lt;li&gt;Browser redirects to &lt;a href="http://mysite/controller/Start"&gt;http://mysite/controller/Start&lt;/a&gt;&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;Status 200 - Renders “ABC”&lt;/li&gt;     &lt;/ul&gt;   &lt;/ul&gt;    &lt;li&gt;I navigate to &lt;a href="http://mysite/controller/InitialiseB"&gt;http://mysite/controller/InitialiseB&lt;/a&gt;&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Sets “DEF” in session&lt;/li&gt;      &lt;li&gt;Sends back a 302 with content moved to /controller/Start&lt;/li&gt;      &lt;li&gt;Browser sends no further requests to server and instead just renders the same result as my previous hit to /controller/Start;&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;Renders “ABC”&lt;/li&gt;     &lt;/ul&gt;   &lt;/ul&gt; &lt;/ul&gt;  &lt;p&gt;The result of the first invocation of Start is being cached and so, when the browser gets the 302 response it realises it already has the content for the redirected url and just renders that. So what’s changed?&lt;/p&gt;  &lt;p&gt;MVC1 used to send an expires HTTP response header set to the current time, meaning&amp;#160; the browser wouldn’t cache the result. MVC 2 however doesn’t send this by default, so I found myself with a bunch of issues around the scenario described above. In just so happens that in this case all of my controllers descend from one common abstract base controller, so I was able to add the OutputCache(Location=OutputCacheLocation.None) attribute to this base class as follows;&lt;/p&gt;  &lt;pre class="csharpcode"&gt;[OutputCache(Location=OutputCacheLocation.None)]
&lt;span class="kwrd"&gt;public&lt;/span&gt; &lt;span class="kwrd"&gt;abstract&lt;/span&gt; &lt;span class="kwrd"&gt;class&lt;/span&gt; MyBaseController : Framework.Web.Mvc.ControllerBase
{
..
}&lt;/pre&gt;
&lt;style type="text/css"&gt;
.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }&lt;/style&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5692963653259484392/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/10/mvc1-to-mvc2-caching-gotcha.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5692963653259484392'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5692963653259484392'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/10/mvc1-to-mvc2-caching-gotcha.html' title='MVC1 to MVC2 caching gotcha'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-771846073269113247</id><published>2010-10-03T17:13:00.001+01:00</published><updated>2010-10-03T17:13:57.759+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Get executable full path?</title><content type='html'>&lt;p&gt;Today I needed to know where a command line executable was running from – msbuild.exe to be precise. My path environment variable is extremely long on my dev box, so I just wanted a quick way to find out where the exe would be run from. The following does exactly what I needed;&lt;/p&gt;  &lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;for&lt;/span&gt; %f &lt;span class="kwrd"&gt;in&lt;/span&gt; (msbuild.exe) do echo %~$&lt;span class="kwrd"&gt;PATH&lt;/span&gt;:f&lt;style type="text/css"&gt;.csharpcode, .csharpcode pre
{
	font-size: small;
	color: black;
	font-family: consolas, "Courier New", courier, monospace;
	background-color: #ffffff;
	/*white-space: pre;*/
}
.csharpcode pre { margin: 0em; }
.csharpcode .rem { color: #008000; }
.csharpcode .kwrd { color: #0000ff; }
.csharpcode .str { color: #006080; }
.csharpcode .op { color: #0000c0; }
.csharpcode .preproc { color: #cc6633; }
.csharpcode .asp { background-color: #ffff00; }
.csharpcode .html { color: #800000; }
.csharpcode .attr { color: #ff0000; }
.csharpcode .alt 
{
	background-color: #f4f4f4;
	width: 100%;
	margin: 0em;
}
.csharpcode .lnum { color: #606060; }
&lt;/style&gt;&lt;/pre&gt;

&lt;p&gt;And the output?&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TKirxLrBHUI/AAAAAAAAAR0/tXadjaNs-6w/image%5B2%5D.png?imgmax=800" width="517" height="129" /&gt; &lt;/p&gt;

&lt;p&gt;Just what I needed :)&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/771846073269113247/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/10/get-executable-full-path.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/771846073269113247'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/771846073269113247'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/10/get-executable-full-path.html' title='Get executable full path?'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/TKirxLrBHUI/AAAAAAAAAR0/tXadjaNs-6w/s72-c/image%5B2%5D.png?imgmax=800' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7837532563436591307</id><published>2010-09-29T08:11:00.001+01:00</published><updated>2010-09-29T08:11:57.520+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='General Guff'/><title type='text'>Attach and Detach VHD files from the command line</title><content type='html'>&lt;p&gt;Very simple and quick way to attach or detach a VHD file on demand, from the command line – use diskpart;&lt;/p&gt;  &lt;h5&gt;A) Create a diskpart script to attach your VHD;&lt;/h5&gt;  &lt;p&gt;Enter the following into a new text document (for the sake of argument, let’s call this attach-script.txt)&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;select vdisk file=&amp;quot;your.vhd&amp;quot;     &lt;br /&gt;attach vdisk&lt;/p&gt; &lt;/blockquote&gt;  &lt;h5&gt;B) Create a batch file to execute the diskpart script;&lt;/h5&gt;  &lt;p&gt;Invoke diskpart with the /s parameter as follows in your batch file (again, let’s call this attach.bat)&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;diskpart /s attach-script.txt&lt;/p&gt; &lt;/blockquote&gt;  &lt;h5&gt;C) Create a diskpart script to detach your VHD;&lt;/h5&gt;  &lt;p&gt;Should be as follows (calling this detach-script.txt)&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;select vdisk file=”your.vhd”     &lt;br /&gt;attach vdisk&lt;/p&gt; &lt;/blockquote&gt;  &lt;h5&gt;Create a batch file to execute the diskpart script;&lt;/h5&gt;  &lt;p&gt;As before, call diskpart with /s (detach.bat)&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;diskpart /s detach-script.txt&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;And your done…. just execute attach or detach as needed to mount/unmount your vhd file….&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7837532563436591307/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/09/attach-and-detach-vhd-files-from.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7837532563436591307'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7837532563436591307'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/09/attach-and-detach-vhd-files-from.html' title='Attach and Detach VHD files from the command line'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7674198047768428556</id><published>2010-09-29T07:29:00.001+01:00</published><updated>2010-09-29T07:29:42.432+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><category scheme='http://www.blogger.com/atom/ns#' term='mercurial'/><category scheme='http://www.blogger.com/atom/ns#' term='General Guff'/><category scheme='http://www.blogger.com/atom/ns#' term='Links'/><title type='text'>Getting a free lunch? Bitbucket is now free.</title><content type='html'>&lt;p&gt;I’ve always been told there’s no such thing as a free lunch, but an email I received this morning appears to contradict this mantra! &lt;/p&gt;  &lt;p&gt;I switched to Mercurial for my own personal/project source control earlier this year, abandoning subversion after many a happy year. When I made the switch, rather than host mercurial myself and have to worry about back-ups and the like, I signed up for a 10 repository plan with bitbucket, which was a meagre £10 a month. I had to do some creative merging of repositories to get all my projects into 10, but I was more than happy with the platform.&lt;/p&gt;  &lt;p&gt;This morning however, I received a free lunch - an email that my plan was now free. They’ve teamed up with Atlassian and are now offering unlimited private and public repositories with 5 users for free!! I’ve not been able to find a catch :)&lt;/p&gt;  &lt;p&gt;More info here: &lt;a href="http://www.bitbucket.org" target="_blank"&gt;http://www.bitbucket.org&lt;/a&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7674198047768428556/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/09/getting-free-lunch-bitbucket-is-now.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7674198047768428556'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7674198047768428556'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/09/getting-free-lunch-bitbucket-is-now.html' title='Getting a free lunch? Bitbucket is now free.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3246630723468981598</id><published>2010-09-02T04:59:00.001+01:00</published><updated>2010-09-02T04:59:54.410+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVC'/><category scheme='http://www.blogger.com/atom/ns#' term='Links'/><title type='text'>MVC2 validation samples</title><content type='html'>&lt;p&gt;I’ve posted a project on codeplex here: &lt;a title="http://validationsampler.codeplex.com" href="http://validationsampler.codeplex.com" target="_blank"&gt;http://validationsampler.codeplex.com&lt;/a&gt; to demonstrate using standard out of the box MVC2 validation with jQuery for both server and client side, including posting through a normal http form with full page post and through ajax – loading the form into the page with ajax and submitting it using jQuery, with full integration to the validation framework. This is to support my recent posts on the topic;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;&lt;a href="http://www.deepcode.co.uk/2010/08/custom-mvc-2-validation-using-jquery.html" target="_blank"&gt;Custom mvc2 validatoin with jQuery&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a href="http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html" target="_blank"&gt;MVC OOTB validation with AJAX forms.&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3246630723468981598/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/09/mvc2-validation-samples.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3246630723468981598'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3246630723468981598'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/09/mvc2-validation-samples.html' title='MVC2 validation samples'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3459801044881233723</id><published>2010-08-27T17:08:00.001+01:00</published><updated>2010-08-27T17:08:10.079+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVC'/><category scheme='http://www.blogger.com/atom/ns#' term='jQuery'/><title type='text'>Custom MVC 2 validation using jQuery – implementing client side validation in addition to server side</title><content type='html'>&lt;p&gt;When I was looking for information on wiring up custom validation in MVC 2 I couldn’t find a lot of information on getting the client side stuff working with jQuery that a) didn’t involve manually changing the MicrosoftMvcJQueryValidation.js file or b) worked, so I set about working it out myself. Here is what I found – a walk through for getting server and client side validation working using jQuery.&lt;/p&gt;  &lt;p&gt;See my earlier post on getting &lt;a href="http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html" target="_blank"&gt;validation working with AJAX loaded forms too&lt;/a&gt;.&lt;/p&gt;  &lt;p&gt;Ok, so first, go off and &lt;a href="http://haacked.com/archive/2009/11/19/aspnetmvc2-custom-validation.aspx" target="_blank"&gt;read this guide from Phil Haack&lt;/a&gt;, this is the groundwork you need to get validation working, which I’ll briefly re-iterate here before talking about getting custom jQuery validator wired up.&lt;/p&gt;  &lt;h4&gt;Stage 1 – getting validation working on the server side first.&lt;/h4&gt;  &lt;h5&gt;1A: your custom validation attribute&lt;/h5&gt;  &lt;p&gt;The following is a basic skeleton for a validator that will check a string’s minimum length (yes I know we have validators for min and max length, I’m trying to be concise here and show how to roll your own!);&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:bb1865f3-0eb5-4ad7-a2a5-ffb16468a7b7" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;[&lt;span style="color:#2b91af"&gt;AttributeUsage&lt;/span&gt;(&lt;span style="color:#2b91af"&gt;AttributeTargets&lt;/span&gt;.Property)]&lt;br&gt; &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;sealed&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;MinimumLengthAttribute&lt;/span&gt; : &lt;span style="color:#2b91af"&gt;ValidationAttribute&lt;/span&gt;&lt;br&gt; {&lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;int&lt;/span&gt; MinimumLength{ &lt;span style="color:#0000ff"&gt;get&lt;/span&gt;; &lt;span style="color:#0000ff"&gt;private&lt;/span&gt; &lt;span style="color:#0000ff"&gt;set&lt;/span&gt;; }&lt;br&gt; &lt;br&gt;     &lt;span style="color:#808080"&gt;///&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;span style="color:#808080"&gt;&amp;lt;remarks/&amp;gt;&lt;/span&gt;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; MinimumLengthAttribute( &lt;span style="color:#0000ff"&gt;int&lt;/span&gt; minimumLength )&lt;br&gt;     {&lt;br&gt;         MinimumLength = minimumLength;&lt;br&gt;     }&lt;br&gt; &lt;br&gt;     &lt;span style="color:#808080"&gt;///&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;span style="color:#808080"&gt;&amp;lt;remarks/&amp;gt;&lt;/span&gt;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;override&lt;/span&gt; &lt;span style="color:#0000ff"&gt;bool&lt;/span&gt; IsValid(&lt;span style="color:#0000ff"&gt;object&lt;/span&gt; value)&lt;br&gt;     {&lt;br&gt;         &lt;span style="color:#0000ff"&gt;if&lt;/span&gt;( value == &lt;span style="color:#0000ff"&gt;null&lt;/span&gt; ) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; &lt;span style="color:#0000ff"&gt;false&lt;/span&gt;;&lt;br&gt; &lt;br&gt;         &lt;span style="color:#0000ff"&gt;string&lt;/span&gt; text = (&lt;span style="color:#0000ff"&gt;string&lt;/span&gt;) value;&lt;br&gt;         &lt;span style="color:#0000ff"&gt;if&lt;/span&gt;( text.Length &amp;lt; MinimumLength ) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; &lt;span style="color:#0000ff"&gt;false&lt;/span&gt;;&lt;br&gt; &lt;br&gt;         &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;;&lt;br&gt;     }&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;h5&gt;1B: Consume your validation attribute in your view model&lt;/h5&gt;  &lt;p&gt;Mark up your target model property with your validation attribute.&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:60e937a4-5a11-4f23-a079-9e54887119c2" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;AddUserViewModel&lt;/span&gt;&lt;br&gt; {&lt;br&gt;     [&lt;span style="color:#2b91af"&gt;MinimumLength&lt;/span&gt;(6, ErrorMessage=&lt;span style="color:#a31515"&gt;&amp;quot;Password must be specified and be at least 6 characters long&amp;quot;&lt;/span&gt;)]&lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;string&lt;/span&gt; PasswordOne{ &lt;span style="color:#0000ff"&gt;get&lt;/span&gt;; &lt;span style="color:#0000ff"&gt;set&lt;/span&gt;; }&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;h5&gt;1C: Output some validation messages&lt;/h5&gt;  &lt;p&gt;Use the MVC ValidationMessageFor helpers to output some validation messages.&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:b4463605-d948-4901-8ebd-c527f28357fb" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&lt;/span&gt;Html.LabelFor( m =&amp;gt; m.PasswordOne) &lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;br&gt; &lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&lt;/span&gt;Html.EditorFor( m =&amp;gt; m.PasswordOne )&lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;br&gt; &lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&lt;/span&gt;Html.ValidationMessageFor( m =&amp;gt; m.PasswordOne) &lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;h5&gt;1D: Check the model state in your controller&lt;/h5&gt;  &lt;p&gt;When your model is posted into your controller action, it will be automatically validated. You can check the model state and act accordingly, something like;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:df449d6d-45d0-43b3-9743-c71c3abfea24" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (!ModelState.IsValid)&lt;br&gt; {&lt;br&gt;     &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; View(userModel);&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;That’s it for server side stuff, if you fire up your form, leave the field blank and then submit it, the error message will appear. For the client side stuff we need to go a little further;&lt;/p&gt;  &lt;h4&gt;Stage 2 – get client validation working on the client&lt;/h4&gt;  &lt;p&gt;2A: Include validation base scripts&lt;/p&gt;  &lt;p&gt;Include the following in your page to include the jQuery validation stuff. You may be asking, “where is MicrosoftMvcJQueryValidation.js, I don’t seem to have it” – it’s presently part of the MvcFutures project – take a look on codeplex.&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:23f685ba-677a-466d-be33-a34cf97f8989" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#800000"&gt;script&lt;/span&gt; &lt;span style="color:#ff0000"&gt;type&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span style="color:#ff0000"&gt;src&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&amp;quot;/Scripts/jquery.validate.min.js&amp;quot;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color:#800000"&gt;script&lt;/span&gt;&lt;span style="color:#0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;br&gt; &lt;span style="color:#0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#800000"&gt;script&lt;/span&gt; &lt;span style="color:#ff0000"&gt;type&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span style="color:#ff0000"&gt;src&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&amp;quot;/Scripts/MicrosoftMvcJQueryValidation.js&amp;quot;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color:#800000"&gt;script&lt;/span&gt;&lt;span style="color:#0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;h5&gt;2B: Tell your form to output client validation information&lt;/h5&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:f9ec1231-8b4f-4ac0-9e0f-b8b152b85812" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;Html.EnableClientValidation();&lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;This must be called BEFORE your Html.BeginForm – it tells the view context to output validation information in a script when the form is disposed. This doesn’t actually DO any validation, it just outputs the appropriate javascript data to tell your chosen engine what rules need to be implemented. The validation is actually wired up by a piece of javascript wired into the document.ready event from the MicrosoftMvcJQueryValidation.js file – again, if you’re loading your form using AJAX, your validation won’t get wired up, &lt;a href="http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html" target="_blank"&gt;you need to take extra steps&lt;/a&gt;….&lt;/p&gt;  &lt;h5&gt;2C: Wiring up some client side code to the custom validation attribute&lt;/h5&gt;  &lt;p&gt;We now need to write some code that outputs the appropriate javascript data (at the end of the form) for our custom client validator, once we write it. &lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:475c0ef4-5e6a-41cf-a976-56a75e647f1b" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;MinimumLengthValidator&lt;/span&gt; : &lt;span style="color:#2b91af"&gt;DataAnnotationsModelValidator&lt;/span&gt;&amp;lt;&lt;span style="color:#2b91af"&gt;MinimumLengthAttribute&lt;/span&gt;&amp;gt;&lt;br&gt; {&lt;br&gt;     &lt;span style="color:#0000ff"&gt;private&lt;/span&gt; &lt;span style="color:#0000ff"&gt;readonly&lt;/span&gt; &lt;span style="color:#0000ff"&gt;int&lt;/span&gt; _mininumlength;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;private&lt;/span&gt; &lt;span style="color:#0000ff"&gt;readonly&lt;/span&gt; &lt;span style="color:#0000ff"&gt;string&lt;/span&gt; _message;&lt;br&gt; &lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; MinimumLengthValidator( &lt;span style="color:#2b91af"&gt;ModelMetadata&lt;/span&gt; metadata, &lt;span style="color:#2b91af"&gt;ControllerContext&lt;/span&gt; context, &lt;span style="color:#2b91af"&gt;MinimumLengthAttribute&lt;/span&gt; attribute ) : &lt;span style="color:#0000ff"&gt;base&lt;/span&gt;(metadata, context, attribute)&lt;br&gt;     {&lt;br&gt;         _mininumlength = attribute.MinimumLength;&lt;br&gt;         _message = attribute.ErrorMessage;&lt;br&gt;     }&lt;br&gt; &lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;override&lt;/span&gt; &lt;span style="color:#2b91af"&gt;IEnumerable&lt;/span&gt;&amp;lt;&lt;span style="color:#2b91af"&gt;ModelClientValidationRule&lt;/span&gt;&amp;gt; GetClientValidationRules()&lt;br&gt;     {&lt;br&gt;         &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; rule = &lt;span style="color:#0000ff"&gt;new&lt;/span&gt; &lt;span style="color:#2b91af"&gt;ModelClientValidationRule&lt;/span&gt;&lt;br&gt;         {&lt;br&gt;             ErrorMessage = _message,&lt;br&gt;             ValidationType = &lt;span style="color:#a31515"&gt;&amp;quot;tj-custom&amp;quot;&lt;/span&gt;&lt;br&gt;         };&lt;br&gt;         &lt;br&gt;         rule.ValidationParameters.Add(&lt;span style="color:#a31515"&gt;&amp;quot;minparam&amp;quot;&lt;/span&gt;, _mininumlength);&lt;br&gt; &lt;br&gt;         &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; &lt;span style="color:#0000ff"&gt;new&lt;/span&gt;[] { rule };&lt;br&gt;     }&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;Notice we don’t add the code to the validator attribute. That’s because the validator attributes aren’t MVC specific, you can use those in other technologies too, so adding MVC specific guff to those attributes would have been quite a pollution – instead the wrapper above takes an instance of the MinimumLengthAttribute we’ve defined in it’s constructor and then sets local members that we want to use on the client. The GetClientValidationRules() override then specifies what will be output in the javascript validation rules on the client – the basic stuff is the ErrorMessage which we pass through from the validator and the ValidationType which tells the validation stuff on the client what type of validation to execute (in this case it’s our custom validator which we need to setup called tj-custom). ValidationParameters is then used to build up any parameters we want to pass into our validator.&lt;/p&gt;  &lt;h5&gt;2D: Telling MVC that the above validator is the client side adaptor for our minimum length attribute;&lt;/h5&gt;  &lt;p&gt;We now need to tell MVC that when it comes across our validator (our MinimumLengthAttribute) it should use the MinimumLengthValidator class to generate the javascript rules for the client. We do this during Application_Start with the following code;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:210133a3-3de4-4f88-9799-14a350afef2c" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#2b91af"&gt;DataAnnotationsModelValidatorProvider&lt;/span&gt;.RegisterAdapter(&lt;span style="color:#0000ff"&gt;typeof&lt;/span&gt;(&lt;span style="color:#2b91af"&gt;MinimumLengthAttribute&lt;/span&gt;), &lt;span style="color:#0000ff"&gt;typeof&lt;/span&gt;(&lt;span style="color:#2b91af"&gt;MinimumLengthValidator&lt;/span&gt;));&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;h5&gt;2E: Registering our new client validation function&lt;/h5&gt;  &lt;p&gt;The final step is to actually write our new jQuery validator and register it with jQuery. (Now I think about it, I guess all the above steps apply to any client side validation technology you want to use and only this last step would be different!). &lt;/p&gt;  &lt;p&gt;Remember in the ModelClientValidationRule we’re returning from our validator adapter above, we specified a validation type of “tj-custom”. We register a handler for this as follows;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:bdadf518-f60f-47af-90d6-34dce91518a9" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;jQuery.validator.addMethod(&lt;span style="color:#800000"&gt;&amp;quot;tj-custom&amp;quot;&lt;/span&gt;, &lt;span style="color:#0000ff"&gt;function&lt;/span&gt; (value, element, params)&lt;br&gt; {&lt;br&gt;     &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (value == &lt;span style="color:#0000ff"&gt;null&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; &lt;span style="color:#0000ff"&gt;false&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (value.length &amp;lt; params.minparam) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; &lt;span style="color:#0000ff"&gt;false&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;;&lt;br&gt; });&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;Notice the params structure is a mirror of the params we returned in the ValidationParameter from the adapter? All we do is check the value against the params and return true if validation is passed or false if it’s failed. Simple as that – no need to start messing around with the jQuery in the MicrosoftMvcJQueryValidation file, basically, if the mvc built in stuff doesn’t recognise the validation type it passes it through to __MVC_ApplyValidator_Unknown method which just passes data through to our code using the pattern above.&lt;/p&gt;  &lt;h4&gt;Disclaimer :)&lt;/h4&gt;  &lt;p&gt;I’ve unpicked this from the code I’m working on so I may have missed something minor, comment me if you have any questions. Enjoy……&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3459801044881233723/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/08/custom-mvc-2-validation-using-jquery.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3459801044881233723'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3459801044881233723'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/custom-mvc-2-validation-using-jquery.html' title='Custom MVC 2 validation using jQuery – implementing client side validation in addition to server side'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445</id><published>2010-08-25T22:52:00.000+01:00</published><updated>2010-08-26T09:53:17.612+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVC'/><category scheme='http://www.blogger.com/atom/ns#' term='jQuery'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>MVC OOTB Validation when pulling in forms using AJAX and jQuery</title><content type='html'>&lt;p&gt;I’m working on an MVC2 application that makes extensive use of forms being sucked into the current page using ajax like this, which issues the request and gets back html representing the form which is then presented in a jQuery UI modal dialog;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:047f02c4-c876-4151-aa82-db4ee347c13b" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;$.ajax({&lt;br&gt;         type: postType,&lt;br&gt;         url: url,&lt;br&gt;         data: data,&lt;br&gt;         dataType: &lt;span style="color:#800000"&gt;&amp;quot;html&amp;quot;&lt;/span&gt;,&lt;br&gt;         async: &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;,&lt;br&gt;         cache: &lt;span style="color:#0000ff"&gt;false&lt;/span&gt;,&lt;br&gt;         success: &lt;span style="color:#0000ff"&gt;function&lt;/span&gt; (data, text)&lt;br&gt;         {&lt;br&gt;             unlockPage();&lt;br&gt;             dialogContent(title, data, width);&lt;br&gt;         },&lt;br&gt;         error: &lt;span style="color:#0000ff"&gt;function&lt;/span&gt; (request, textStatus, errorThrown)&lt;br&gt;         {&lt;br&gt;             unlockPage();&lt;br&gt;             handleStandardErrors(&lt;span style="color:#0000ff"&gt;null&lt;/span&gt;, request);&lt;br&gt;         }&lt;br&gt;     });&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;I wanted to use the new out of the box validation toolset with data annotations, which on the face of it looks pretty cool, so I followed the guide on getting this working using jQuery validator. Namely, I got myself the MicrosoftMvcJQueryValidation.js from the MvcFutures project and then added data annotations to my view model, eg;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:cd030cb4-8684-4b98-9300-2078c012e81e" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;[&lt;span style="color:#2b91af"&gt;Required&lt;/span&gt;(ErrorMessage=&lt;span style="color:#a31515"&gt;&amp;quot;User email address is required&amp;quot;&lt;/span&gt;)]&lt;br&gt; &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;string&lt;/span&gt; Email{ &lt;span style="color:#0000ff"&gt;get&lt;/span&gt;; &lt;span style="color:#0000ff"&gt;set&lt;/span&gt;; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;That’s it to get server side validation working, which works a treat, but to get client side working, I then added the following script includes to my master page;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:afd39791-5b9e-43d1-85ca-e2b4f020c725" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#800000"&gt;script&lt;/span&gt; &lt;span style="color:#ff0000"&gt;type&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span style="color:#ff0000"&gt;src&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&amp;quot;/Scripts/jquery.validate.min.js&amp;quot;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color:#800000"&gt;script&lt;/span&gt;&lt;span style="color:#0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;br&gt; &lt;span style="color:#0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#800000"&gt;script&lt;/span&gt; &lt;span style="color:#ff0000"&gt;type&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span style="color:#ff0000"&gt;src&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&amp;quot;/Scripts/MicrosoftMvcJQueryValidation.js&amp;quot;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color:#800000"&gt;script&lt;/span&gt;&lt;span style="color:#0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;Enabled client validation in my form and added some validation messages;&lt;/p&gt;  &lt;p&gt;   &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:7f985757-6f62-4862-9df3-8c868e669b9b" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;Html.EnableClientValidation();&lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;br&gt; &lt;br&gt; &lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color:#0000ff"&gt;using&lt;/span&gt;( Html.BeginForm(&lt;span style="color:#a31515"&gt;&amp;quot;AddUser&amp;quot;&lt;/span&gt;, &lt;span style="color:#a31515"&gt;&amp;quot;Users&amp;quot;&lt;/span&gt;, &lt;span style="color:#2b91af"&gt;FormMethod&lt;/span&gt;.Post, &lt;span style="color:#0000ff"&gt;null&lt;/span&gt;)){ &lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/p&gt;  &lt;p&gt;   &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:6069e344-141b-43e9-b9ea-8a0f34b18c59" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;br&gt; &lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&lt;/span&gt;Html.LabelFor( m =&amp;gt; m.Email) &lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;br&gt; &lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&lt;/span&gt;Html.EditorFor( m =&amp;gt; m.Email )&lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;br&gt; &lt;span style="background:#ffff00"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color:#0000ff"&gt;=&lt;/span&gt;Html.ValidationMessageFor( m =&amp;gt; m.Email) &lt;span style="background:#ffff00"&gt;%&amp;gt;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/p&gt;  &lt;p&gt;Ran the app, and…..nothing… nada, not a thing. So I started digging and tracing through the MVC source. All appeared to be working as it should. EnableClientValidation was setting a flag in the form context to tell the framework to output validation code. The dispose method of MvcForm (which is instantiated with the BeginForm using) was invoking the code to output some javascript structured describing what to validate and how, but it didn’t seem to be using this anywhere. I soon worked out why…&lt;/p&gt;  &lt;p&gt;This little snippet of code is in MicrosoftMvcJQueryValidation.js, which remember we included in our master page (which is rendered in the host page, NOT our partial form view we’re getting using ajax).&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:2bac63d7-774c-4493-a8e1-6a71ffabf0de" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;$(document).ready(&lt;span style="color:#0000ff"&gt;function&lt;/span&gt;() {&lt;br&gt;     &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; allFormOptions = window.mvcClientValidationMetadata;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (allFormOptions) {&lt;br&gt;         &lt;span style="color:#0000ff"&gt;while&lt;/span&gt; (allFormOptions.length &amp;gt; 0) {&lt;br&gt;             &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; thisFormOptions = allFormOptions.pop();&lt;br&gt;             __MVC_EnableClientValidation(thisFormOptions);&lt;br&gt;         }&lt;br&gt;     }&lt;br&gt; });&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;That won’t be fired so to get the validation working, we just need to do the same thing right? Not quite. I added the above code to a jQuery startup function in my partial view, it gets called successfully but….nothing, it still didn’t work because window.mvcClientValidationMetadata was undefined. Now the reason is something different – the jQuery startup function is actually invoked &lt;strong&gt;before&lt;/strong&gt; the inline &amp;lt;script&amp;gt;&amp;lt;/script&amp;gt; block that sets window.mvcClientValidationMetadata!&lt;/p&gt;  &lt;p&gt;The way the window.mvcClientValidationMetadata is used can help us though – the inline script pushes the latest validation data for the form onto this variable and the code above pops it back off. As such, we can just interrogate the length of the array when we start up and if there is no data there yet, retry after a short delay. If we keep doing that until it’s been processed all should be well with the world. So, my modified startup script is as follows;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:c4a1204e-d82e-4e59-86ea-74af93f8acbb" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;$(&lt;span style="color:#0000ff"&gt;function&lt;/span&gt; ()&lt;br&gt;     {&lt;br&gt;         initContentLoaded();&lt;br&gt; &lt;br&gt;         setupMvcValidation();&lt;br&gt;     });&lt;br&gt; &lt;br&gt;     &lt;span style="color:#0000ff"&gt;function&lt;/span&gt; setupMvcValidation()&lt;br&gt;     {&lt;br&gt;         alert(window.mvcClientValidationMetadata);&lt;br&gt;         &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (window.mvcClientValidationMetadata == undefined || window.mvcClientValidationMetadata.length &amp;lt; 1)&lt;br&gt;             setTimeout(setupMvcValidation, 100);&lt;br&gt; &lt;br&gt;         &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; allFormOptions = window.mvcClientValidationMetadata;&lt;br&gt;         &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (allFormOptions)&lt;br&gt;         {&lt;br&gt;             &lt;span style="color:#0000ff"&gt;while&lt;/span&gt; (allFormOptions.length &amp;gt; 0)&lt;br&gt;             {&lt;br&gt;                 &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; thisFormOptions = allFormOptions.pop();&lt;br&gt;                 __MVC_EnableClientValidation(thisFormOptions);&lt;br&gt;             }&lt;br&gt;         }&lt;br&gt;     }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;and all is indeed well with the world. I think this should even cover the edge cases where you have multiple forms in your partial view, each with their own validation, but I’ve yet to test it any more thoroughly.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5429604619224028445/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html#comment-form' title='17 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' title='MVC OOTB Validation when pulling in forms using AJAX and jQuery'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>17</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8412655946543735469</id><published>2010-07-15T03:49:00.000+01:00</published><updated>2010-07-15T14:49:25.035+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='mercurial'/><title type='text'>Undoing early morning/late night stupidity with Mercurial</title><content type='html'>&lt;p&gt;So laaaate this morning (around 3am) I was putting some finishing touches to a refactor I was working on for my own project and I came to use tortoiseHg to look at the status of my files. Loads were selected for modification, many for addition and several that I’d removed were ready for removal.&lt;/p&gt;  &lt;p&gt;Unfortunately for me with all these changes selected in TortoiseHG’s file status dialog I managed to hit the “Forget” button on the toolbar. Immediately my additions went back to unknown status and all my modifications were marked as removals (which I would assume is a revert not actually a remove!).&lt;/p&gt;  &lt;p&gt;Anyway, completely NOT what I was looking for, so now I needed to work out how to get my files added back into the repository and how to make sure my modifications would be taken into account. You can’t just click on the modification that is now a removal in Tortoise and select add again – it doesn’t allow it, not sure why, so it’s time to go back to the command line.&lt;/p&gt;  &lt;p&gt;First off, dealing with the adds that have now been forgotten is simple, we can just re-run a hg add and they will get pulled back in.&lt;/p&gt;  &lt;p&gt;&lt;font size="3" face="Courier New"&gt;hg add&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;Dealing with the modifies which are now removals is more difficult. You can use hg add to add each individual file in one by one, but this is a massive pain in the ass, so instead use come clever old skool dos;&lt;/p&gt;  &lt;p&gt;&lt;font size="3" face="Courier New"&gt;for /f %f in ('hg stat -rn') do hg add %f&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;the /f says we’re looking to process a file list, each file being pushed into %f. The command to execute is in the brackets and quotes (-rn lists only things tagged for removal and skips outputing the initial status character). The do command then specifies what to do for each one of the files returned… in this case, hg add it. And voila, problem solved and I can go to bed with my repository still in order….&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/8412655946543735469/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/07/undoing-early-morninglate-night.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8412655946543735469'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8412655946543735469'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/07/undoing-early-morninglate-night.html' title='Undoing early morning/late night stupidity with Mercurial'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-317144607069461231</id><published>2010-07-09T19:05:00.000+01:00</published><updated>2010-07-09T19:06:08.389+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='General Guff'/><title type='text'>Nugget of the week.... sleep at a given time;</title><content type='html'>&lt;p&gt;Got a long running task that you want to let finish, but need to remember to sleep your machine? &lt;/p&gt;  &lt;p&gt;at [time] &amp;quot;rundll32 powerprof.dll,SetSuspendState&amp;quot;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="52" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TDdlD1BLw5I/AAAAAAAAAPA/Xon-zabzO6A/image%5B3%5D.png?imgmax=800" width="521" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;Should do the trick.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/317144607069461231/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/07/nugget-of-week-sleep-at-given-time.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/317144607069461231'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/317144607069461231'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/07/nugget-of-week-sleep-at-given-time.html' title='Nugget of the week.... sleep at a given time;'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/TDdlD1BLw5I/AAAAAAAAAPA/Xon-zabzO6A/s72-c/image%5B3%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-701551502105634154</id><published>2010-07-09T18:00:00.001+01:00</published><updated>2010-07-09T18:00:10.276+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='General Guff'/><title type='text'>Uptime</title><content type='html'>&lt;p&gt;I've got a small, cheap, linux server that I use purely to host my SVN repository. Just noticed something;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="177" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TDdVmWfZfvI/AAAAAAAAAO8/KvAkhVxEgzA/image%5B3%5D.png?imgmax=800" width="350" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;SWEET!&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/701551502105634154/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/07/uptime.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/701551502105634154'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/701551502105634154'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/07/uptime.html' title='Uptime'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/TDdVmWfZfvI/AAAAAAAAAO8/KvAkhVxEgzA/s72-c/image%5B3%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2922588767722666772</id><published>2010-06-30T22:05:00.001+01:00</published><updated>2010-06-30T22:05:22.363+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><title type='text'>This is ridiculous!</title><content type='html'>&lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="468" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TCuxkUSZkRI/AAAAAAAAAMI/MgGRg8opnbk/image%5B5%5D.png?imgmax=800" width="640" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;Ever heard of atomic operations? If one bit fails, the entire thing should fail – don’t take my money and then not book my tickets!!! If you MAY have taken my money then you’d better damn well get in touch with ME, especially as it’s 10:01pm and your line’s are closed. Ridiculous!!!&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2922588767722666772/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/06/this-is-ridiculous.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2922588767722666772'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2922588767722666772'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/06/this-is-ridiculous.html' title='This is ridiculous!'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/TCuxkUSZkRI/AAAAAAAAAMI/MgGRg8opnbk/s72-c/image%5B5%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5780158139546201946</id><published>2010-06-29T21:36:00.000+01:00</published><updated>2010-06-29T21:36:00.835+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='jQuery'/><title type='text'>Overriding the style of a jQuery UI datepicker</title><content type='html'>&lt;p&gt;Recently, in my spare time, I’ve been working on a simple booking system for a friend of mine. I had the need to present a date selector using jQuery UI’s date picker, but I wanted to change the default behaviour as follows;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Dates in the past can’t be selected and must be stylised&lt;/li&gt;    &lt;li&gt;Dates in the future can be selected, but the calendar should highlight any dates that are not available&lt;/li&gt;    &lt;li&gt;I don’t want to go hunting and changing my jQuery UI theme styles, nor do I want to modify any jQuery UI code&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;strong&gt;The starting point – vanilla datepicker&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;Adding the following code;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:5503f8e5-09cd-48b0-91f6-060cd37c7503" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;$(&lt;span style="color:#800000"&gt;&amp;quot;#startDate&amp;quot;&lt;/span&gt;).datepicker({&lt;br&gt;     numberOfMonths: 3,&lt;br&gt;     showButtonPanel: &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;,&lt;br&gt;     dateFormat: &lt;span style="color:#800000"&gt;&amp;#39;dd MM yy&amp;#39;&lt;/span&gt;,&lt;br&gt; });&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;Provided the following default behaviour;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TCoTBBZB1hI/AAAAAAAAAL0/Xwp78p7nQR8/image%5B3%5D.png?imgmax=800" width="374" height="166" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Disabling dates in the past and dates that have bookings already&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;So this part is pretty simple, the component provides us with two hooks of note – onChangeMonthYear which is fired when the user navigates the calendar between months or years etc (but not on first display) and the second – beforeShowDay, which is called before an actual day is rendered into the control and allows you to specify whether the date is available, any extra css to apply and a tooltip to show. &lt;/p&gt;  &lt;p&gt;I could use the onChangeMonthYear event to load my known events via a JSON call and then check the variables in the beforeShowDay event, but to be honest I’m going to only be interested in future bookings and there aren’t going to be a massive volume. As such, I can afford to load all the events using a single ajax call during page start up and then interrogate the result in beforeShowDay.&lt;/p&gt;  &lt;p&gt;So, my code to implement the datepicker now looks like this;&lt;/p&gt;  &lt;p&gt;   &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:34377e86-bc47-4939-b6e7-85a93afd3562" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;$(&lt;span style="color:#800000"&gt;&amp;quot;#startDate&amp;quot;&lt;/span&gt;).datepicker({&lt;br&gt;         numberOfMonths : 3,&lt;br&gt;         showButtonPanel : &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;,&lt;br&gt;         dateFormat : &lt;span style="color:#800000"&gt;&amp;#39;dd MM yy&amp;#39;&lt;/span&gt;,&lt;br&gt;         beforeShowDay : calendarDayShow&lt;br&gt;     });&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/p&gt;  &lt;p&gt;with the following function;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:66738912-76ff-4bf5-aded-d3dbc4394761" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background: #ddd; overflow: auto"&gt; &lt;ol style="background: #ffffbf; margin: 0 0 0 2.5em; padding: 0 0 0 5px; white-space: nowrap"&gt; &lt;li&gt;&lt;span style="color:#0000ff"&gt;function&lt;/span&gt; calendarDayShow(targetDate)&lt;/li&gt; &lt;li&gt;{&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; availableResult = [&lt;span style="color:#0000ff"&gt;true&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;&amp;#39;&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;&amp;#39;&lt;/span&gt;];&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; bookedResult = [&lt;span style="color:#0000ff"&gt;false&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;&amp;#39;&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;&amp;#39;&lt;/span&gt;];&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; now = &lt;span style="color:#0000ff"&gt;new&lt;/span&gt; Date();&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (targetDate &amp;lt; now) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; bookedResult;&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; targetYear = targetDate.getFullYear();&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; targetMonth = targetDate.getMonth();&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; targetDay = targetDate.getDate();&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (&lt;span style="color:#0000ff"&gt;typeof&lt;/span&gt; (availability[targetYear]) == &lt;span style="color:#800000"&gt;&amp;quot;undefined&amp;quot;&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; availableResult;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (&lt;span style="color:#0000ff"&gt;typeof&lt;/span&gt; (availability[targetYear][targetMonth]) == &lt;span style="color:#800000"&gt;&amp;quot;undefined&amp;quot;&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; availableResult;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (&lt;span style="color:#0000ff"&gt;typeof&lt;/span&gt; (availability[targetYear][targetMonth][targetDay]) == &lt;span style="color:#800000"&gt;&amp;quot;undefined&amp;quot;&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; availableResult;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; bookedResult;&lt;/li&gt; &lt;li&gt;}&lt;/li&gt; &lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;The component expects this function to return an array in the format of [&amp;lt;&amp;lt;availability&amp;gt;&amp;gt;, &amp;lt;&amp;lt;css&amp;gt;&amp;gt;, &amp;lt;&amp;lt;tooltip&amp;gt;&amp;gt;]. It’s worth noting that my availability data is stored as a JSON object in this hierarchy; (If there is an entry, that date is booked).&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;YYYY&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;MM&lt;/li&gt;      &lt;li&gt;MM&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;DD = true&lt;/li&gt;        &lt;li&gt;DD = true&lt;/li&gt;     &lt;/ul&gt;   &lt;/ul&gt;    &lt;li&gt;eg: 2010&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;6&lt;/li&gt;      &lt;ul&gt;       &lt;li&gt;15 = true&lt;/li&gt;        &lt;li&gt;16 = true&lt;/li&gt;     &lt;/ul&gt;   &lt;/ul&gt; &lt;/ul&gt;  &lt;p&gt;So, on the above code, lines 3+4 are defining the available and booked responses. Line 6-7 checks if the date being rendered is in the past, and if it is, it returns a booked result to prevent it from being selected. This now results in the following;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/TCoTBysfTnI/AAAAAAAAAL4/FyY2Ui8RvhU/image%5B7%5D.png?imgmax=800" width="417" height="195" /&gt; &lt;/p&gt;  &lt;p&gt;Notice that 1st Aug and 12 July are booked in this example.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Making it look how I want it.&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;This is all well and good, but I want past dates to appear as disabled and booked dates to appear with a red X through them, like this end result:&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TCoTCkRS3II/AAAAAAAAAL8/kxvN7N8JMcY/image%5B11%5D.png?imgmax=800" width="426" height="195" /&gt; &lt;/p&gt;  &lt;p&gt;I’m pretty sure you already know the answer – the beforeShowDay event expects us to pass back availability, and extra CSS classes to apply plus any tooltip we want. So we change our function thus;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:a5d3feb4-2d4c-4ae5-8ae0-ad091da620c1" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#0000ff"&gt;function&lt;/span&gt; calendarDayShow(targetDate)&lt;br&gt; {&lt;br&gt;     &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; availableResult = [&lt;span style="color:#0000ff"&gt;true&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;&amp;#39;&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;&amp;#39;&lt;/span&gt;];&lt;br&gt;     &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; bookedResult = [&lt;span style="color:#0000ff"&gt;false&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;bookedDayCalendar&amp;#39;&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;Booked&amp;#39;&lt;/span&gt;];&lt;br&gt; &lt;br&gt;     &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; now = &lt;span style="color:#0000ff"&gt;new&lt;/span&gt; Date();&lt;br&gt;     &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (targetDate &amp;lt; now) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; [&lt;span style="color:#0000ff"&gt;false&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;pastDayCalendar&amp;#39;&lt;/span&gt;, &lt;span style="color:#800000"&gt;&amp;#39;Can&amp;#92;&amp;#39;t make bookings in the past!&amp;#39;&lt;/span&gt;];&lt;br&gt; &lt;br&gt;     &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; targetYear = targetDate.getFullYear();&lt;br&gt;     &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; targetMonth = targetDate.getMonth();&lt;br&gt;     &lt;span style="color:#0000ff"&gt;var&lt;/span&gt; targetDay = targetDate.getDate();&lt;br&gt;     &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (&lt;span style="color:#0000ff"&gt;typeof&lt;/span&gt; (availability[targetYear]) == &lt;span style="color:#800000"&gt;&amp;quot;undefined&amp;quot;&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; availableResult;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (&lt;span style="color:#0000ff"&gt;typeof&lt;/span&gt; (availability[targetYear][targetMonth]) == &lt;span style="color:#800000"&gt;&amp;quot;undefined&amp;quot;&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; availableResult;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (&lt;span style="color:#0000ff"&gt;typeof&lt;/span&gt; (availability[targetYear][targetMonth][targetDay]) == &lt;span style="color:#800000"&gt;&amp;quot;undefined&amp;quot;&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; availableResult;&lt;br&gt;     &lt;span style="color:#0000ff"&gt;return&lt;/span&gt; bookedResult;&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;So we’re now returning the extra CSS. We define this extra CSS is our site’s stylesheet;&lt;/p&gt;  &lt;p&gt;   &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:d24b180b-9b3a-4226-ae16-a886a6156e60" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#006400"&gt;/* Overides for jquery UI */&lt;/span&gt;&lt;br&gt; &lt;span style="color:#800000"&gt;.bookedDayCalendar&lt;/span&gt; { &lt;span style="color:#ff0000"&gt;opacity&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;1&lt;/span&gt;; }&lt;br&gt; &lt;span style="color:#800000"&gt;.bookedDayCalendar&lt;/span&gt; &lt;span style="color:#800000"&gt;span&lt;/span&gt;&lt;br&gt; { &lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;Black&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-position&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;center&lt;/span&gt; &lt;span style="color:#0000ff"&gt;center&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-repeat&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;no-repeat&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-image&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;url(booked.png)&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;#aaa&lt;/span&gt;; &lt;br&gt;     &lt;span style="color:#ff0000"&gt;border&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;none&lt;/span&gt;;&lt;br&gt; }&lt;br&gt; &lt;span style="color:#800000"&gt;.pastDayCalendar&lt;/span&gt; { &lt;span style="color:#ff0000"&gt;opactiy&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;0.85&lt;/span&gt;; }&lt;br&gt; &lt;span style="color:#800000"&gt;.pastDayCalendar&lt;/span&gt; &lt;span style="color:#800000"&gt;span&lt;/span&gt;&lt;br&gt; {&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;Black&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-image&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;none&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;text-decoration&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;line-through&lt;/span&gt;;&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/p&gt;  &lt;p&gt;And voila, we get….&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/TCoTDcKgAwI/AAAAAAAAAMA/zkvd6hJB1aY/image%5B15%5D.png?imgmax=800" width="461" height="188" /&gt; &lt;/p&gt;  &lt;p&gt;hmmm – not quite the desired result! The problem here is many of the styles are inherited from jquery UI, our reset.css and so on, and some of those styles are taking precedence over our new styles. As we are confident we want these attributes on this particular class, we can ensure they are applied with preference by adding the !important moniker to them in CSS;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:a601f376-0810-4af3-876f-45683d919a85" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#800000"&gt;.bookedDayCalendar&lt;/span&gt; { &lt;span style="color:#ff0000"&gt;opacity&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;1&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;; }&lt;br&gt; &lt;span style="color:#800000"&gt;.bookedDayCalendar&lt;/span&gt; &lt;span style="color:#800000"&gt;span&lt;/span&gt;&lt;br&gt; { &lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;Black&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-position&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;center&lt;/span&gt; &lt;span style="color:#0000ff"&gt;center&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-repeat&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;no-repeat&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-image&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;url(booked.png)&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;#aaa&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;; &lt;br&gt;     &lt;span style="color:#ff0000"&gt;border&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;none&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt; }&lt;br&gt; &lt;span style="color:#800000"&gt;.pastDayCalendar&lt;/span&gt; { &lt;span style="color:#ff0000"&gt;opactiy&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;0.85&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;; }&lt;br&gt; &lt;span style="color:#800000"&gt;.pastDayCalendar&lt;/span&gt; &lt;span style="color:#800000"&gt;span&lt;/span&gt;&lt;br&gt; {&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;Black&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-image&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;none&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;text-decoration&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;line-through&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;And we get the desired result.&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/TCoTEWoKu0I/AAAAAAAAAME/8_0zEBy1pCA/image%5B18%5D.png?imgmax=800" width="602" height="246" /&gt; &lt;/p&gt;  &lt;p&gt;Addendum;&lt;/p&gt;  &lt;p&gt;Of course, you’ll want to use filter:Alpha(Opacity=…. for internet explorer;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:c5f3dfa6-5d2c-4986-84eb-1ce88efee0ba" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffbf; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#800000"&gt;.bookedDayCalendar&lt;/span&gt; { &lt;span style="color:#ff0000"&gt;opacity&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;1&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;; &lt;span style="color:#ff0000"&gt;filter&lt;/span&gt;:&lt;span style="color:#0000ff"&gt;Alpha(Opacity=100)&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;; } &lt;br&gt; &lt;span style="color:#800000"&gt;.bookedDayCalendar&lt;/span&gt; &lt;span style="color:#800000"&gt;span&lt;/span&gt;&lt;br&gt; { &lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;Black&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-position&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;center&lt;/span&gt; &lt;span style="color:#0000ff"&gt;center&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-repeat&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;no-repeat&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-image&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;url(booked.png)&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;#aaa&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;; &lt;br&gt;     &lt;span style="color:#ff0000"&gt;border&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;none&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt; }&lt;br&gt; &lt;span style="color:#800000"&gt;.pastDayCalendar&lt;/span&gt; { &lt;span style="color:#ff0000"&gt;opactiy&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;0.85&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;; &lt;span style="color:#ff0000"&gt;filter&lt;/span&gt;:&lt;span style="color:#0000ff"&gt;Alpha(Opacity=85)&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;; }&lt;br&gt; &lt;span style="color:#800000"&gt;.pastDayCalendar&lt;/span&gt; &lt;span style="color:#800000"&gt;span&lt;/span&gt;&lt;br&gt; {&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-color&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;Black&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;background-image&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;none&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt;     &lt;span style="color:#ff0000"&gt;text-decoration&lt;/span&gt;: &lt;span style="color:#0000ff"&gt;line-through&lt;/span&gt; &lt;span style="color:#0000ff"&gt;!important&lt;/span&gt;;&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5780158139546201946/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/06/overriding-style-of-jquery-ui.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5780158139546201946'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5780158139546201946'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/06/overriding-style-of-jquery-ui.html' title='Overriding the style of a jQuery UI datepicker'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/_ywGSbBn2y0E/TCoTBBZB1hI/AAAAAAAAAL0/Xwp78p7nQR8/s72-c/image%5B3%5D.png?imgmax=800' height='72' width='72'/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2885408090255750277</id><published>2010-06-28T22:06:00.000+01:00</published><updated>2010-06-29T11:06:50.225+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Scrum'/><title type='text'>6 week sprints? You’re not doing SCRUM!</title><content type='html'>&lt;p&gt;I come across this quite a lot, if you’re doing more than 30 day sprints, you’re doing scrum all wrong. Whilst I agree with the sentiment of this, there are some projects where a longer sprint cycle can be beneficial – it all depends on your team structure and the work being delivered.&lt;/p&gt;  &lt;p&gt;To set the background, for my current project, my dev team consists of;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;1 x architect (me)&lt;/li&gt;    &lt;li&gt;1 x onshore architect / team lead&lt;/li&gt;    &lt;li&gt;2 x onshore developers&lt;/li&gt;    &lt;li&gt;2 x offshore developers&lt;/li&gt;    &lt;li&gt;1 x sharepoint architect&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;We’re implementing a reasonably large custom built system for our client and each piece of work is reasonably lengthy, with each epic consisting of complex UI along with substantial work to implement a workflow spine process, which would then be supported by several common sub-processes (with complimentary UIs).&lt;/p&gt;  &lt;p&gt;Obviously we break out the sub-processes into their own backlog items, and then break the epics down into use-cases (formal stories) that could be implemented in each iteration, but we found that with 2-4 week iterations, it wasn’t possible to cut it any other way than to deliver demonstrable product every &lt;strong&gt;other&lt;/strong&gt; iteration. Literally at the end of iteration A, we would be in an unfinished, unusable state, whilst half way through iteration B, we would finish that piece of work and start the next. &lt;/p&gt;  &lt;p&gt;The reason for this is we would implement 2 or 3 of the main use cases per iteration, essentially having multiple concurrent work streams. Wrong? not in this case.&lt;/p&gt;  &lt;p&gt;Many would argue that this was the wrong way to go about it, that we should have concentrated the entire effort in the sprint to one use case in order to complete it within the 4 week sprint, but I argue differently. Each use case is quite narrowly focussed, making it difficult for more than 2 people to work on the same use case at the same time. As such, &lt;a href="http://en.wikipedia.org/wiki/Brooks's_law" target="_blank"&gt;Brookes Law&lt;/a&gt; applies. Too many chef’s spoil the broth – we’d have developers standing on each others toes left and right, so can’t add more resource to the use case implementation and the implementation of that one piece of work is too substantial to be delivered in a a 2-4 week iteration.&lt;/p&gt;  &lt;p&gt;So, we broke the project down into 6 week sprints. More regimented scrum masters would argue that we aren’t doing scrum as a result of this decision, but I argue that such a comment is ridiculous. We’re still adhering to the very principles of scrum – we’re working from a backlog, we plan sprints into a sprint backlog, we deliver burn downs, we hold daily scrum meetings, we have a scrum master, a product owner, cross functional teams, regular demo’s to the business, and retrospectives – the only discernable difference is another 2 weeks on the sprint length to &lt;strong&gt;pragmatically&lt;/strong&gt; cope with implementation of complex, atomic, use cases.&lt;/p&gt;  &lt;p&gt;We’ve been running this way for 12 months now, and the results have been great. Open, honest, transparency between the project team and the business, and just as importantly, we delivered a month early. We’ve now rolled into another 6-8 months worth of work on the project and will be continuing to use this methodology.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2885408090255750277/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/06/6-week-sprints-youre-not-doing-scrum.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2885408090255750277'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2885408090255750277'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/06/6-week-sprints-youre-not-doing-scrum.html' title='6 week sprints? You’re not doing SCRUM!'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2323997373983613121</id><published>2010-06-24T09:51:00.001+01:00</published><updated>2010-06-24T09:51:21.407+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><title type='text'>Display issues with the new editor in VS2010</title><content type='html'>&lt;p&gt;I’m having major issues with the new editor in VS2010. The source window corrupts so often that it’s sometimes un-usable. This morning for instance, I’m opening .JS files and am getting the following corruption;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/TCMchqW12jI/AAAAAAAAALw/f-oz8gz4c6Y/image%5B4%5D.png?imgmax=800" width="642" height="390" /&gt; &lt;/p&gt;  &lt;p&gt;In addition if I have two files open, and I CTRL-TAB to switch between them, the display doesn’t refresh, so it appears that file 2 has the same source as file 1. I have the latest display drivers etc, and my laptop is a 6Gb Lenovo W500, so performance shouldn’t really be an issue.&lt;/p&gt;  &lt;p&gt;The only way I’ve been able to resolve this is by zooming the editor in and back out again to force it to redraw it’s contents, but other than that, this is just a rant… I have no real solution, sorry.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2323997373983613121/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/06/display-issues-with-new-editor-in.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2323997373983613121'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2323997373983613121'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/06/display-issues-with-new-editor-in.html' title='Display issues with the new editor in VS2010'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/TCMchqW12jI/AAAAAAAAALw/f-oz8gz4c6Y/s72-c/image%5B4%5D.png?imgmax=800' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8668401601032961134</id><published>2010-05-07T18:52:00.000+01:00</published><updated>2010-05-07T18:52:00.052+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='T4'/><category scheme='http://www.blogger.com/atom/ns#' term='MVC'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>T4 template to exclude LINQ to SQL generated classes from code analysis</title><content type='html'>&lt;p&gt;I often use the sqlmetal tool to generate a L2SQL model from a database as follows;&lt;/p&gt;  &lt;p&gt;&lt;font face="Courier New"&gt;sqlmetal /server:(local) &lt;/font&gt;&lt;font face="Courier New"&gt;/database:myDatabaseName&amp;#160; &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; /views /functions /sprocs       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; /code:..\UI\Models\LinqSql\myDatabaseName_gen.cs       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; /language:C# /namespace:myProject.UI.Models.LinqSql       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; /context:myDatabaseContext /pluralize&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;This then generates all of my database structure out to LINQ to SQL classes, eg;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:a077e143-e84a-43d6-b702-8447db5bd2e7" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background: #ddd; max-height: 300px; overflow: auto"&gt; &lt;ol style="background: #ffffff; margin: 0 0 0 2em; padding: 0 0 0 5px;"&gt; &lt;li&gt;[&lt;span style="color:#0000ff"&gt;global&lt;/span&gt;::System.Data.Linq.Mapping.&lt;span style="color:#2b91af"&gt;TableAttribute&lt;/span&gt;(Name=&lt;span style="color:#a31515"&gt;&amp;quot;dbo.Bills&amp;quot;&lt;/span&gt;)]&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;partial&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;Bill&lt;/span&gt; : &lt;span style="color:#2b91af"&gt;INotifyPropertyChanging&lt;/span&gt;, &lt;span style="color:#2b91af"&gt;INotifyPropertyChanged&lt;/span&gt;&lt;/li&gt; &lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;However, with FxCop code analysis turned on (you DO have it turned on and set to error don’t you!?!?), this then results in a bunch of errors from the generated code. Such as CA2227, about making collections read only;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/S-QpSssiwkI/AAAAAAAAAKg/4D0FPMpRnZo/image%5B2%5D.png?imgmax=800" width="569" height="33" /&gt; &lt;/p&gt;  &lt;p&gt;However, this is generated code, but sqlmetal by default doesn’t add the necessary attributes to exclude the code from code analysis (Adding the GeneratedCodeAttribute). You could manually edit the generated code each time you run sqlmetal in order to add this attribute, or manually maintain a file of partial classes with the attributes added there. I wanted something a bit more elegant though, so went off looking at T4 templates.&lt;/p&gt;  &lt;p&gt;T4 templates allow us to write template based code that will generate the actual source code either when you save the template, when you manually “run custom tool” or by incorporating it into your build process. T4 templates use an ASP.NET type syntax, but slightly different. First of all, I heartily recommend you get the T4 template editor from these guys: &lt;a title="http://t4-editor.tangible-engineering.com/" href="http://t4-editor.tangible-engineering.com/"&gt;http://t4-editor.tangible-engineering.com/&lt;/a&gt; the free version is fine and gives you syntax hilighting and intellisense, which is missing in VS 2010.&lt;/p&gt;  &lt;p&gt;Simply adding a .TT file to your solution, then writing the template code results in a code file being generated for you, nested within the .TT file;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/S-QpS9QqwtI/AAAAAAAAAKk/f6tIjy8GS6s/image%5B5%5D.png?imgmax=800" width="207" height="63" /&gt; &lt;/p&gt;  &lt;p&gt;Within this template, I am able to get a handle on the containing project, inspect the code model and generate partial classes with the necessary GeneratedCodeAttribute applied. This results in the following class being generated.&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:053617ca-1344-47d3-a60b-f2605a2b23eb" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffff; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#0000ff"&gt;using&lt;/span&gt; System.CodeDom.Compiler;&lt;br&gt; &lt;br&gt; &lt;span style="color:#0000ff"&gt;namespace&lt;/span&gt; myProject.UI.Models.LinqSql&lt;br&gt; {&lt;br&gt;     [&lt;span style="color:#2b91af"&gt;GeneratedCode&lt;/span&gt;(&lt;span style="color:#a31515"&gt;&amp;quot;T4 LinqSqlFixer&amp;quot;&lt;/span&gt;, &lt;span style="color:#a31515"&gt;&amp;quot;1.0&amp;quot;&lt;/span&gt;)]&lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;partial&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;EntityA&lt;/span&gt; {}&lt;br&gt; &lt;br&gt;     [&lt;span style="color:#2b91af"&gt;GeneratedCode&lt;/span&gt;(&lt;span style="color:#a31515"&gt;&amp;quot;T4 LinqSqlFixer&amp;quot;&lt;/span&gt;, &lt;span style="color:#a31515"&gt;&amp;quot;1.0&amp;quot;&lt;/span&gt;)]&lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;partial&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;EntityB&lt;/span&gt; {}&lt;br&gt; &lt;br&gt;     [&lt;span style="color:#2b91af"&gt;GeneratedCode&lt;/span&gt;(&lt;span style="color:#a31515"&gt;&amp;quot;T4 LinqSqlFixer&amp;quot;&lt;/span&gt;, &lt;span style="color:#a31515"&gt;&amp;quot;1.0&amp;quot;&lt;/span&gt;)]&lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;partial&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;EntityC&lt;/span&gt; {}&lt;br&gt; &lt;br&gt;     [&lt;span style="color:#2b91af"&gt;GeneratedCode&lt;/span&gt;(&lt;span style="color:#a31515"&gt;&amp;quot;T4 LinqSqlFixer&amp;quot;&lt;/span&gt;, &lt;span style="color:#a31515"&gt;&amp;quot;1.0&amp;quot;&lt;/span&gt;)]&lt;br&gt;     &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;partial&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;Bill&lt;/span&gt; {}&lt;br&gt; }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;With this in place, code analysis now ignores the generated LINQ SQL code and I don’t have to muck around suppressing errors or, God forbid, turn off code analysis all together.&lt;/p&gt;  &lt;p&gt;My full T4 template is as follows;&lt;/p&gt;  &lt;p&gt;&lt;font color="#008000" face="Courier New"&gt;&amp;lt;#@ template hostSpecific=&amp;quot;true&amp;quot; #&amp;gt;      &lt;br /&gt;&amp;lt;#@ assembly name=&amp;quot;System.Core.dll&amp;quot; #&amp;gt;       &lt;br /&gt;&amp;lt;#@ assembly name=&amp;quot;EnvDTE.dll&amp;quot; #&amp;gt;       &lt;br /&gt;&amp;lt;#@ import namespace=&amp;quot;EnvDTE&amp;quot; #&amp;gt;       &lt;br /&gt;&amp;lt;#@ import namespace=&amp;quot;System.Collections.Generic&amp;quot; #&amp;gt; &lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font color="#008000" face="Courier New"&gt;/*      &lt;br /&gt;This file was generated by a T4 Template. It attempts to add the GeneratedCode       &lt;br /&gt;attribute to any classes generated by sqlmetal - provided your sqlmetal classes       &lt;br /&gt;are in an isolated namespace. &lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font color="#008000" face="Courier New"&gt;The reason being, if the GeneratedCode attribute is not associated with the      &lt;br /&gt;generated classes, they are anaylsed by the code analysis tool. &lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font color="#008000" face="Courier New"&gt;Don't modify the generated .cs file directly, instead edit the .tt file.      &lt;br /&gt;*/       &lt;br /&gt;using System.CodeDom.Compiler;       &lt;br /&gt;      &lt;br /&gt;&amp;lt;#       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; // HERE: Specify the namespaces to fix up       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; FixClassNameSpaces(&amp;quot;myProject.UI.Models.LinqSql&amp;quot;);       &lt;br /&gt;#&amp;gt;       &lt;br /&gt;      &lt;br /&gt;&amp;lt;#+       &lt;br /&gt;void FixClassNameSpaces(string fixNamespace)       &lt;br /&gt;{       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; WriteLine(&amp;quot;namespace {0}\r\n{{&amp;quot;, fixNamespace);       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; string [] classes = GetClassesInNamespace(fixNamespace);       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; foreach( string className in classes )       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; {       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; WriteLine(&amp;quot;\t[GeneratedCode(\&amp;quot;T4 LinqSqlFixer\&amp;quot;, \&amp;quot;1.0\&amp;quot;)]&amp;quot;);       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; WriteLine(&amp;quot;\tpublic partial class {0} {{}}\r\n&amp;quot;, className);       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; }       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; WriteLine(&amp;quot;}&amp;quot;);       &lt;br /&gt;} &lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font color="#008000" face="Courier New"&gt;string [] GetClassesInNamespace(string ns)      &lt;br /&gt;{       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; List&amp;lt;string&amp;gt; results = new List&amp;lt;string&amp;gt;();       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; IServiceProvider host = (IServiceProvider) Host;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; DTE dte = (DTE) host.GetService(typeof(DTE));       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; ProjectItem containingProject = dte.Solution.FindProjectItem(Host.TemplateFile);       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; Project project = containingProject.ContainingProject;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; CodeNamespace nsElement = SearchForNamespaceElement(project.CodeModel.CodeElements, ns);       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; if( nsElement != null )       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; {       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; foreach( CodeElement code in nsElement.Members )       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; {       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if( code.Kind == vsCMElement.vsCMElementClass )       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; {       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; CodeClass codeClass = (CodeClass) code;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; results.Add( codeClass.Name );       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; }       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; return results.ToArray();       &lt;br /&gt;} &lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font color="#008000" face="Courier New"&gt;CodeNamespace SearchForNamespaceElement( CodeElements elements, string ns )      &lt;br /&gt;{       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; foreach( CodeElement code in elements )       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; {       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if( code.Kind == vsCMElement.vsCMElementNamespace )       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; {       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; CodeNamespace codeNamespace = (CodeNamespace)code; &lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font color="#008000" face="Courier New"&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; if( ns.Equals(code.FullName) )      &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; {       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; // This is the namespace we're looking for       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; return codeNamespace;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; else if( ns.StartsWith(code.FullName))       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; {       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; // This is going in the right direction, descend into the namespace       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; return SearchForNamespaceElement(codeNamespace.Members, ns);       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; }       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; return null;       &lt;br /&gt;}       &lt;br /&gt;#&amp;gt;&lt;/font&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/8668401601032961134/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/05/t4-template-to-exclude-linq-to-sql.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8668401601032961134'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8668401601032961134'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/05/t4-template-to-exclude-linq-to-sql.html' title='T4 template to exclude LINQ to SQL generated classes from code analysis'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/S-QpSssiwkI/AAAAAAAAAKg/4D0FPMpRnZo/s72-c/image%5B2%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-674229794592644988</id><published>2010-04-16T16:31:00.001+01:00</published><updated>2010-04-16T16:31:34.848+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='k2'/><title type='text'>Programmatically clear down K2 process information?</title><content type='html'>&lt;p&gt;In K2, your development environment can become very cluttered, very quickly. I searched for a tool to be able to clear down all of the process instance data for processes that were still running and the archive/log data for processes that have completed to give me a clear, pristine and virginal K2 workspace ready to muck up again with more work in progress processes :)&lt;/p&gt;  &lt;p&gt;That tool didn’t exist, so I wrote my own (and it was surprisingly simple!). Here are the key components.&lt;/p&gt;  &lt;p&gt;First of all, to clear all currently running, active or errored process instances;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:14b97358-d5f6-4243-90ca-ee4779e385bd" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background: #ddd; overflow: auto"&gt; &lt;ol style="background: #ffffff; margin: 0 0 0 2.5em; padding: 0 0 0 5px;"&gt; &lt;li&gt;&lt;span style="color:#2b91af"&gt;WorkflowManagementServer&lt;/span&gt; server = &lt;span style="color:#0000ff"&gt;new&lt;/span&gt; &lt;span style="color:#2b91af"&gt;WorkflowManagementServer&lt;/span&gt;();&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&lt;span style="color:#0000ff"&gt;try&lt;/span&gt;&lt;/li&gt; &lt;li&gt;{&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#2b91af"&gt;K2Connection&lt;/span&gt;.CreateConnection(server);&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#2b91af"&gt;ProcessInstanceCriteriaFilter&lt;/span&gt; filter = &lt;span style="color:#0000ff"&gt;new&lt;/span&gt; &lt;span style="color:#2b91af"&gt;ProcessInstanceCriteriaFilter&lt;/span&gt;();&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#0000ff"&gt;foreach&lt;/span&gt; (&lt;span style="color:#2b91af"&gt;ProcessInstance&lt;/span&gt; instance &lt;span style="color:#0000ff"&gt;in&lt;/span&gt; server.GetProcessInstancesAll(filter))&lt;/li&gt; &lt;li&gt;        server.DeleteProcessInstances(instance.ID, &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;);&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;}&lt;/li&gt; &lt;li&gt;&lt;span style="color:#0000ff"&gt;catch&lt;/span&gt; (&lt;span style="color:#2b91af"&gt;Exception&lt;/span&gt; ex)&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;{&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#2b91af"&gt;Program&lt;/span&gt;.Error(ex);&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;}&lt;/li&gt; &lt;li&gt;&lt;span style="color:#0000ff"&gt;finally&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;{&lt;/li&gt; &lt;li&gt;    server.Connection.Close();&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;}&lt;/li&gt; &lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;And secondly, the log data – this comes from a separate database which needs to be archived out.&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:ecbe41da-3623-4ad1-b15c-cce3daff7441" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background: #ddd; overflow: auto"&gt; &lt;ol style="background: #ffffff; margin: 0 0 0 2.5em; padding: 0 0 0 5px;"&gt; &lt;li&gt;&lt;span style="color:#008000"&gt;// Create archive temp db&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&lt;span style="color:#0000ff"&gt;try&lt;/span&gt;&lt;/li&gt; &lt;li&gt;{&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    CreateSqlTempDb();&lt;/li&gt; &lt;li&gt;}&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&lt;span style="color:#0000ff"&gt;catch&lt;/span&gt; (&lt;span style="color:#2b91af"&gt;Exception&lt;/span&gt;)&lt;/li&gt; &lt;li&gt;{&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#008000"&gt;// ... code elided for clarity ...&lt;/span&gt;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;return&lt;/span&gt;;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;}&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&lt;span style="color:#2b91af"&gt;WorkflowManagementServer&lt;/span&gt; server = &lt;span style="color:#0000ff"&gt;new&lt;/span&gt; &lt;span style="color:#2b91af"&gt;WorkflowManagementServer&lt;/span&gt;();&lt;/li&gt; &lt;li&gt;&lt;span style="color:#0000ff"&gt;try&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;{&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#2b91af"&gt;K2Connection&lt;/span&gt;.CreateConnection(server);&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    server.Archive(ArchiveConnectionString, &lt;span style="color:#a31515"&gt;&amp;quot;K2ServerLog&amp;quot;&lt;/span&gt;, &lt;span style="color:#a31515"&gt;&amp;quot;_Archive&amp;quot;&lt;/span&gt;, &lt;span style="color:#2b91af"&gt;DateTime&lt;/span&gt;.Now.AddMonths(-24), &lt;span style="color:#2b91af"&gt;DateTime&lt;/span&gt;.Now);&lt;/li&gt; &lt;li&gt;}&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&lt;span style="color:#0000ff"&gt;catch&lt;/span&gt; (&lt;span style="color:#2b91af"&gt;Exception&lt;/span&gt;)&lt;/li&gt; &lt;li&gt;{&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#008000"&gt;// ... code elided for clarity ...&lt;/span&gt;&lt;/li&gt; &lt;li&gt;}&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&lt;span style="color:#0000ff"&gt;finally&lt;/span&gt;&lt;/li&gt; &lt;li&gt;{&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    server.Connection.Close();&lt;/li&gt; &lt;li&gt;}&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&amp;nbsp;&lt;/li&gt; &lt;li&gt;&lt;span style="color:#0000ff"&gt;try&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;{&lt;/li&gt; &lt;li&gt;    DropSqlTempDb();&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;}&lt;/li&gt; &lt;li&gt;&lt;span style="color:#0000ff"&gt;catch&lt;/span&gt; (&lt;span style="color:#2b91af"&gt;Exception&lt;/span&gt; ex)&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;{&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#008000"&gt;// ... code elided for clarity ...&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;}&lt;/li&gt; &lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;CreateSqlTempDb and DropSqlTempDb simply create and drop an empty database in SQL, which the archive tool then moves the data to. The ArchiveConnectionString is a standard connection string to the archive db you create. &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;&lt;u&gt;Obviously you don’t want to be running this on ANY production environments!!!!&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/674229794592644988/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/04/programmatically-clear-down-k2-process.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/674229794592644988'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/674229794592644988'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/04/programmatically-clear-down-k2-process.html' title='Programmatically clear down K2 process information?'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5107917140989758506</id><published>2010-04-16T16:15:00.001+01:00</published><updated>2010-04-16T16:15:54.440+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Sharepoint'/><title type='text'>Update existing sharepoint content types when deploying using a feature</title><content type='html'>&lt;p&gt;I’ve been a little quiet recently, mainly because I’ve had my head down with a large SharePoint and K2 blackpearl project in Manchester, in which I’ve got lots to blog about but just haven’t had the time. However, I think this is pretty important - today I solved a little problem that was bugging me.&lt;/p&gt;  &lt;p&gt;My scenario is this;&lt;/p&gt;  &lt;p&gt;We have SharePoint sites, created from STP files as part of our line of business application (I know, I know, the STP bit is a bit stupid and it’s hard to update, but we are where we are), and the document libraries within these created sites use content types deployed in the root site which are defined and deployed with a feature.&lt;/p&gt;  &lt;p&gt;I needed to add a new field to one of the content types and remove a field from another one. Sounds easy enough – I updated the XML for the definition, redeployed and the definition in the site content type library updated as expected. What I didn’t expect though was all the sites already provisioned didn’t get those changes applied, and even worse, when I provisioned a new site (from the STP) the document library in that also didn’t have the changes. It was almost like the site document libraries had their own copy of the content types.&lt;/p&gt;  &lt;p&gt;Of course that’s EXACTLY what the problem is. Solution 1 is not to deploy changes through the features. Using the UI to add or remove the columns as necessary and select the option to also update anything that uses that content type. For me this is a non starter – I’d have to re-export all my STPs so that future provisioned sites get the changes as well as make the manual changes to the content type and remember to propagate down – something that doesn’t sit well with my build and deploy strategy.&lt;/p&gt;  &lt;p&gt;So, I found another solution. By attaching a feature receiver I can programmatically change content types and have those changes propagated down through everything that uses it. It’s still not ideal, but it works well. I keep my XML definition static and apply additive changes through the feature receiver in code, which looks like this;&lt;/p&gt;  &lt;p&gt;   &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:d972ca75-9537-466c-9e0c-04dfe0ff1552" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background: #ddd; overflow: auto"&gt; &lt;ol style="background: #ffffff; margin: 0 0 0 2.5em; padding: 0 0 0 5px;"&gt; &lt;li&gt;&lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;ContentTypeFeatureReceiver&lt;/span&gt; : SPFeatureReceiver&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;{&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#808080"&gt;///&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;span style="color:#808080"&gt;&amp;lt;remarks/&amp;gt;&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    [SharePointPermission(SecurityAction.LinkDemand, ObjectModel = &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;)]&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;override&lt;/span&gt; &lt;span style="color:#0000ff"&gt;void&lt;/span&gt; FeatureInstalled(SPFeatureReceiverProperties properties)&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    {&lt;/li&gt; &lt;li&gt;    }&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&amp;nbsp;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#808080"&gt;///&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;span style="color:#808080"&gt;&amp;lt;remarks/&amp;gt;&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    [SharePointPermission(SecurityAction.LinkDemand, ObjectModel = &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;)]&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;override&lt;/span&gt; &lt;span style="color:#0000ff"&gt;void&lt;/span&gt; FeatureUninstalling(SPFeatureReceiverProperties properties)&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    {&lt;/li&gt; &lt;li&gt;    }&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&amp;nbsp;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#808080"&gt;///&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;span style="color:#808080"&gt;&amp;lt;remarks/&amp;gt;&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    [SharePointPermission(SecurityAction.LinkDemand, ObjectModel = &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;)]&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;override&lt;/span&gt; &lt;span style="color:#0000ff"&gt;void&lt;/span&gt; FeatureActivated(SPFeatureReceiverProperties properties)&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    {&lt;/li&gt; &lt;li&gt;        SPSite site = properties.Feature.Parent &lt;span style="color:#0000ff"&gt;as&lt;/span&gt; SPSite;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (site == &lt;span style="color:#0000ff"&gt;null&lt;/span&gt;)&lt;/li&gt; &lt;li&gt;            &lt;span style="color:#0000ff"&gt;return&lt;/span&gt;;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&amp;nbsp;&lt;/li&gt; &lt;li&gt;        SPWeb rootWeb = site.RootWeb;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&amp;nbsp;&lt;/li&gt; &lt;li&gt;        &lt;span style="color:#008000"&gt;// Here, modify any of the existing content types&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        rootWeb.AddFieldToContentType(&lt;span style="color:#a31515"&gt;&amp;quot;FieldToAdd&amp;quot;&lt;/span&gt;, &lt;span style="color:#a31515"&gt;&amp;quot;Content Type Add To&amp;quot;&lt;/span&gt;);&lt;/li&gt; &lt;li&gt;        rootWeb.RemoveFieldFromContentType(&lt;span style="color:#a31515"&gt;&amp;quot;FieldToRemove&amp;quot;&lt;/span&gt;, &lt;span style="color:#a31515"&gt;&amp;quot;Content Type To Remove From&amp;quot;&lt;/span&gt;);&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    }&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#808080"&gt;///&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;span style="color:#808080"&gt;&amp;lt;remarks/&amp;gt;&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;/li&gt; &lt;li&gt;    [SharePointPermission(SecurityAction.LinkDemand, ObjectModel = &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;)]&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;override&lt;/span&gt; &lt;span style="color:#0000ff"&gt;void&lt;/span&gt; FeatureDeactivating(SPFeatureReceiverProperties properties)&lt;/li&gt; &lt;li&gt;    {&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    }&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;}&lt;/li&gt; &lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/p&gt;  &lt;p&gt;The AddFieldToContentType and RemoveFieldFromContentType methods are extension methods as follows;&lt;/p&gt;  &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:8259e4ac-0732-4710-8ee8-b934ce7ae652" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background: #ddd; overflow: auto"&gt; &lt;ol style="background: #ffffff; margin: 0 0 0 2.5em; padding: 0 0 0 5px;"&gt; &lt;li&gt;&lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;static&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;SPWebExtensions&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;{&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#808080"&gt;///&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;span style="color:#808080"&gt;&amp;lt;remarks/&amp;gt;&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;static&lt;/span&gt; &lt;span style="color:#0000ff"&gt;void&lt;/span&gt; AddFieldToContentType(&lt;span style="color:#0000ff"&gt;this&lt;/span&gt; SPWeb site, &lt;span style="color:#0000ff"&gt;string&lt;/span&gt; fieldName, &lt;span style="color:#0000ff"&gt;string&lt;/span&gt; contentTypeName)&lt;/li&gt; &lt;li&gt;    {&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (!site.Fields.ContainsField(fieldName))&lt;/li&gt; &lt;li&gt;        {&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;            Console.WriteLine(&lt;span style="color:#a31515"&gt;&amp;quot;Could not add {0} to {1} - the field {0} does not exist!&amp;quot;&lt;/span&gt;, fieldName, contentTypeName);&lt;/li&gt; &lt;li&gt;            &lt;span style="color:#0000ff"&gt;return&lt;/span&gt;;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        }&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        SPField field = site.Fields[fieldName];&lt;/li&gt; &lt;li&gt;        SPContentType contentType = site.ContentTypes[contentTypeName];&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (contentType == &lt;span style="color:#0000ff"&gt;null&lt;/span&gt;)&lt;/li&gt; &lt;li&gt;        {&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;            Console.WriteLine(&lt;span style="color:#a31515"&gt;&amp;quot;Could not add {0} to {1} - the content type {1} does not exist!&amp;quot;&lt;/span&gt;, fieldName, contentTypeName);&lt;/li&gt; &lt;li&gt;            &lt;span style="color:#0000ff"&gt;return&lt;/span&gt;;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        }&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (contentType.FieldLinks[field.InternalName] != &lt;span style="color:#0000ff"&gt;null&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt;;&lt;/li&gt; &lt;li&gt;        contentType.FieldLinks.Add(&lt;span style="color:#0000ff"&gt;new&lt;/span&gt; SPFieldLink(field));&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        contentType.Update(&lt;span style="color:#0000ff"&gt;true&lt;/span&gt;);&lt;/li&gt; &lt;li&gt;    }&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;&amp;nbsp;&lt;/li&gt; &lt;li&gt;    &lt;span style="color:#808080"&gt;///&lt;/span&gt;&lt;span style="color:#008000"&gt; &lt;/span&gt;&lt;span style="color:#808080"&gt;&amp;lt;remarks/&amp;gt;&lt;/span&gt;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    &lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;static&lt;/span&gt; &lt;span style="color:#0000ff"&gt;void&lt;/span&gt; RemoveFieldFromContentType(&lt;span style="color:#0000ff"&gt;this&lt;/span&gt; SPWeb site, &lt;span style="color:#0000ff"&gt;string&lt;/span&gt; fieldName, &lt;span style="color:#0000ff"&gt;string&lt;/span&gt; contentTypeName)&lt;/li&gt; &lt;li&gt;    {&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (!site.Fields.ContainsField(fieldName))&lt;/li&gt; &lt;li&gt;        {&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;            Console.WriteLine(&lt;span style="color:#a31515"&gt;&amp;quot;Could not remove {0} from {1} - the field {0} does not exist!&amp;quot;&lt;/span&gt;, fieldName, contentTypeName);&lt;/li&gt; &lt;li&gt;            &lt;span style="color:#0000ff"&gt;return&lt;/span&gt;;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        }&lt;/li&gt; &lt;li&gt;&amp;nbsp;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        SPField field = site.Fields[fieldName];&lt;/li&gt; &lt;li&gt;        SPContentType contentType = site.ContentTypes[contentTypeName];&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (contentType == &lt;span style="color:#0000ff"&gt;null&lt;/span&gt;)&lt;/li&gt; &lt;li&gt;        {&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;            Console.WriteLine(&lt;span style="color:#a31515"&gt;&amp;quot;Could not remove {0} from {1} - the content type {1} does not exist!&amp;quot;&lt;/span&gt;, fieldName, contentTypeName);&lt;/li&gt; &lt;li&gt;            &lt;span style="color:#0000ff"&gt;return&lt;/span&gt;;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        }&lt;/li&gt; &lt;li&gt;        &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; (contentType.FieldLinks[field.InternalName] == &lt;span style="color:#0000ff"&gt;null&lt;/span&gt;) &lt;span style="color:#0000ff"&gt;return&lt;/span&gt;;&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;        contentType.FieldLinks.Delete(field.InternalName);&lt;/li&gt; &lt;li&gt;        contentType.Update(&lt;span style="color:#0000ff"&gt;true&lt;/span&gt;);&lt;/li&gt; &lt;li style="background: #f3f3f3"&gt;    }&lt;/li&gt; &lt;li&gt;}&lt;/li&gt; &lt;/ol&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;Finally, you still have to define the site column before you can attach it. &lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5107917140989758506/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/04/update-existing-sharepoint-content.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5107917140989758506'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5107917140989758506'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/04/update-existing-sharepoint-content.html' title='Update existing sharepoint content types when deploying using a feature'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3487369452902657185</id><published>2010-02-12T15:41:00.001Z</published><updated>2010-02-12T15:41:28.220Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Sharepoint'/><title type='text'>Unexpected property persistence in a web part</title><content type='html'>&lt;p&gt;I’m writing a web part at the moment, which, to cut a long story short, tracks a bunch of properties between post-backs using view state as you might expect;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/S3V2p6IdJjI/AAAAAAAAAKY/6SwhUTwwxN8/image%5B2%5D.png?imgmax=800" width="406" height="249" /&gt; &lt;/p&gt;  &lt;p&gt;What I’ve found though is that if I add one of these web parts to my page and then use it so that CurrentPage is set to, say, 5 and then edit the web part configuration, this property gets persisted too - coming back to the page later defaults current page to 5! Is this a bug or does SharePoint insist on persisting all properties during configuration? Even though I haven’t added any attributes to tell it do so?&lt;/p&gt;  &lt;p&gt;All I know is the only way I could get rid of this behaviour is to make the property protected or private, which isn’t a big deal, but it’s confusing that this happens at all.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3487369452902657185/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/02/unexpected-property-persistence-in-web.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3487369452902657185'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3487369452902657185'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/02/unexpected-property-persistence-in-web.html' title='Unexpected property persistence in a web part'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/S3V2p6IdJjI/AAAAAAAAAKY/6SwhUTwwxN8/s72-c/image%5B2%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7552357031736849660</id><published>2010-02-10T23:26:00.000Z</published><updated>2010-02-11T12:26:38.761Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><category scheme='http://www.blogger.com/atom/ns#' term='Review'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><title type='text'>Balsamiq Mockups - Review</title><content type='html'>&lt;p&gt;Since the dawn of time, I’ve been producing user interface mock ups for my projects, using them not only to specify what I’m building, but also to workshop these ideas and concepts with users. They ultimately form documentation passed to developers along with the use cases and data model etc. I’ve always found the process of creating UI mocks quite tedious (cutting and pasting in something like fireworks for instance) and find that the more fidelity I put into these diagrams, the more users don’t provide valuable feedback. They either;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Become afraid to comment fearing that I will be offended by their input or &lt;/li&gt;    &lt;li&gt;Concentrate too much of trivial issues like the exact spacing between fields in the image, thinking it’s the final UI&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;High fidelity diagrams offer an illusion of accuracy and therefore trigger these states of mind, and the cumbersome nature of the tools means I wouldn’t work with the users directly on the designs in workshops, so overall I tend to not share the screen annotations with the users directly, preferring instead to use just a whiteboard and then use the formal annotations just for the technical team.&lt;/p&gt;  &lt;p&gt;However, this week I’ve got my hands on a tool called &lt;a href="http://www.balsamiq.com/products/mockups/desktop" target="_blank"&gt;Balsamiq Mockups&lt;/a&gt;, which is an easy to use tool that offers a white-board type interface and low fidelity design elements. I decided to use it to mock up a new sharepoint data grid control I needed to build:&lt;/p&gt;  &lt;p&gt;&lt;img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/S3P3ewlaZ0I/AAAAAAAAAKU/SPHdYitziVY/image3%5B1%5D.png?imgmax=800" width="831" height="493" /&gt;&lt;/p&gt;  &lt;p&gt;I produced this in about 15 minutes and it offers a good, low fidelity idea of how the UI should function that I can share with both the technical team and the users. The users will feedback honest ideas as they won’t be afraid to insult the low fidelity diagram and they won’t get bogged down with the details and colours of the UI. At the same time, I can share this with the developers and they won’t lose their initiative on how the forms should be implemented as it’s clearly not that prescriptive.&lt;/p&gt;  &lt;p&gt;The tool is very simple to use, is extensible with new control sets from &lt;a href="http://mockupstogo.net/" target="_blank"&gt;Mockups to Go&lt;/a&gt;, exports to a variety of formats, and the different mockups can be linked together. Overall you can use this tool for just about anything. I’ve just bought 3 licences for the analysts and architects on my current project (it’s reasonably priced too!).&lt;/p&gt;  &lt;p&gt;The one thing I won’t do though is start using this as a replacement for the whiteboard sessions with the users. Sure, you could easily sit with them and design UI’s on a projector using this toolset, but I just find the whole whiteboard, scribbling and chatting method far more tactile. I’ll document those workshops using Balsamiq though and use that as part of the documentation sets for the technical and business teams respectively.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7552357031736849660/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2010/02/balsamiq-mockups-review.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7552357031736849660'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7552357031736849660'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/02/balsamiq-mockups-review.html' title='Balsamiq Mockups - Review'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/S3P3ewlaZ0I/AAAAAAAAAKU/SPHdYitziVY/s72-c/image3%5B1%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5519624055174179863</id><published>2009-12-09T23:57:00.000Z</published><updated>2009-12-09T23:57:00.260Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVC'/><category scheme='http://www.blogger.com/atom/ns#' term='Flux'/><category scheme='http://www.blogger.com/atom/ns#' term='ASP.NET'/><title type='text'>Building an ASP.NET MVC E-Commerce app with Flux – Part 3</title><content type='html'>&lt;p&gt;Now that we know the MVC application is able to get to data in Flux using the API (did we expect anything less), we can look at making this do something useful. In this article we will;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Introduce a link on the main site called “Help centre” which will take it’s content from a channel we will define (&lt;a href="http://www.deepcode.co.uk/2009/12/building-aspnet-mvc-e-commerce-app-with_08.html" target="_blank"&gt;see previous article&lt;/a&gt;)&lt;/li&gt;    &lt;li&gt;Implement a content type to define general content pages for the help centre&lt;/li&gt;    &lt;li&gt;Implement a controller and view that will render these general content pages&lt;/li&gt;    &lt;li&gt;Have the general content page list a table of contents where there is content beneath them in the hierarchy or render a link back to the parent if there is content above them.&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;With this, we’ll be able to re-create the help content sections that you would normally find on most e-commerce sites.&lt;/p&gt;  &lt;p&gt;Before I kick off with this one though, I should point out a couple of things. In no way shape or form is this lot production ready code! In an effort to be concise, and to the point, you’ll find quite stupid things in here like:&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="18" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Sx_qPcS61pI/AAAAAAAAAJU/vXO_lVIkLI8/image%5B3%5D.png?imgmax=800" width="153" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;Which in a production site is a no-no. We should treat the content we’re rendering as unsafe and un-trusted and not just render it out willy-nilly like this. Also, you’ll notice no polishing like WYSIWYG editing in this sample – see my &lt;a href="http://www.deepcode.co.uk/2009/10/10-step-guide-to-getting-basic-fluxnet.html" target="_blank"&gt;previous post on how to achieve this using fckEditor&lt;/a&gt;. I leave the removal of stupidity and the polishing as an exercise for the reader :)&lt;/p&gt;  &lt;p&gt;Ok, so, here’s the final product of this article;&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="247" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Sx_qQCmosFI/AAAAAAAAAJg/ZgYMateQIBY/image%5B7%5D.png?imgmax=800" width="512" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;and&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="150" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Sx_qRKYekuI/AAAAAAAAAJs/rQyiFKrr0IY/image%5B11%5D.png?imgmax=800" width="518" border="0" /&gt; &lt;/p&gt;  &lt;h5&gt;1. The “Help Center” link&lt;/h5&gt;  &lt;p&gt;The easiest part here – we created the help center link in the master page as follows;&lt;/p&gt;  &lt;pre class="code"&gt;                &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;ul &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;menu&amp;quot;&amp;gt;              
                    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;li&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;= &lt;/span&gt;Html.ActionLink(&lt;span style="color: #a31515"&gt;&amp;quot;Home&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Index&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Home&amp;quot;&lt;/span&gt;)&lt;span style="background: #ffee62"&gt;%&amp;gt;&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;li&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
                    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;li&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;= &lt;/span&gt;Html.ActionLink(&lt;span style="color: #a31515"&gt;&amp;quot;Help Center&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;HelpCenter&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Page&amp;quot;&lt;/span&gt;)&lt;span style="background: #ffee62"&gt;%&amp;gt;&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;li&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
                &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;ul&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;This creates a link to the controller called PageController which will invoke the method HelpCenter. We then need to wire up the controller for this, but before we do any of that we may as well go ahead and setup flux to support the page content we need.&lt;/p&gt;

&lt;h5&gt;2. The new flux content type&lt;/h5&gt;

&lt;p&gt;In flux we define a new content type for a content type called “Page” by creating a new folder containing a new XML type config and the administration form, as below. We also modify the channel content type definition to tell it to allow “Page” types to be added as children.&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="127" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Sx_qRwO6xUI/AAAAAAAAAJ4/dM3XEfd_yAM/image%5B14%5D.png?imgmax=800" width="197" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;The code for the page content.type.config is as follows;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodeType &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;Page&lt;/span&gt;&amp;quot; &lt;span style="color: red"&gt;Name&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;Simple Page Content&lt;/span&gt;&amp;quot; &lt;span style="color: red"&gt;LimitVersions&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;10&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;AddForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Page/form.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;AddForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;EditForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Page/form.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;EditForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Relationships &lt;/span&gt;&lt;span style="color: red"&gt;AddRoot&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;false&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Add&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Page&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Add&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Relationships&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodeType&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;And the form.aspx content:&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Page &lt;/span&gt;&lt;span style="color: red"&gt;Language&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;C#&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Inherits&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.UI.CMS.CMSContentForm&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ValidateRequest&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;false&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Register &lt;/span&gt;&lt;span style="color: red"&gt;TagPrefix&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;flux&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.UI.Controls&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Assembly&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;

&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;script &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &lt;/span&gt;&lt;span style="color: green"&gt;// Type ID being managed by this form
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override string &lt;/span&gt;FormTypeCode { &lt;span style="color: blue"&gt;get &lt;/span&gt;{ &lt;span style="color: blue"&gt;return &lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;quot;Page&amp;quot;&lt;/span&gt;; } }

    &lt;span style="color: green"&gt;// Do form setup
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;SetupForm(&lt;span style="color: blue"&gt;int &lt;/span&gt;ContentID, &lt;span style="color: blue"&gt;int &lt;/span&gt;ParentID)
    {
        &lt;span style="color: blue"&gt;if &lt;/span&gt;(!Page.IsPostBack)
        {
            fPath.NodeIDParent = ParentID;
            fPath.NodeIDPathed = ContentID;
        }
    }

    &lt;span style="color: green"&gt;// Save fields to content object
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;SaveContent(&lt;span style="color: blue"&gt;ref &lt;/span&gt;Deepcode.Flux.Core.Systems.CMS.&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;save)
    {
        save.NodeName = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPath.Text;
        save.NodeTitle = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPageTitle.Text;
        save.Fields[&lt;span style="color: #a31515"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;] = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fContent.Text;
    }

    &lt;span style="color: green"&gt;// Load fields from content object
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;LoadContent(Deepcode.Flux.Core.Systems.CMS.&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;load)
    {
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPath.Text = load.NodeName;
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPageTitle.Text = load.NodeTitle;
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fContent.Text = load.Fields[&lt;span style="color: #a31515"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;];
    }
&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;script&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;head &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Head1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;link &lt;/span&gt;&lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;../../../admin/Asset/Style/GeneralStyle.css&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;rel&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Stylesheet&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;type&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;text/css&amp;quot; /&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;head&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;body &lt;/span&gt;&lt;span style="color: red"&gt;class&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;nopadshaded&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;form &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;form1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;HostTable &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;HostTable1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Summary --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ValidationSummarySection &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;ValidationSummarySection1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;HeaderText&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Please correct the following errors&amp;quot;/&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Form area --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;    &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Title&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Add/Edit Simple Page Content&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ShadePadBox &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;ShadePadBox1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;

        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;table &lt;/span&gt;&lt;span style="color: red"&gt;cellspacing&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;0&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;cellpadding&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;3&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;border&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;0&amp;quot;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Path:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodePath &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPath&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;200px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;100&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Page Title:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;TextBox &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPageTitle&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;300px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;500&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;table&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ShadePadBox&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Title&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Page Content&amp;quot;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;TextBox &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fContent&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;100%&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Height&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;200px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;TextMode&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;MultiLine&amp;quot;/&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Buttons --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section3&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;PadBox &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;PadBox1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CssClass&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Pad5Button&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Button &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnSave&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Text&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Save&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;OnClick&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnSave_Click&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CssClass&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;button&amp;quot;/&amp;gt;&lt;/span&gt;&lt;span style="color: red"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;
    &lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Button &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnCancel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Text&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Cancel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;OnClick&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnCancel_Click&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CausesValidation&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;False&amp;quot;/&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;PadBox&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Validators --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;RequiredFieldValidator &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;RequiredFieldValidator1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ControlToValidate&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPath&amp;quot;
    &lt;/span&gt;&lt;span style="color: red"&gt;ErrorMessage&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;You must specify the path for this page&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Display&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;None&amp;quot;/&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;RequiredFieldValidator &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;RequiredFieldValidator2&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ControlToValidate&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPageTitle&amp;quot; 
    &lt;/span&gt;&lt;span style="color: red"&gt;ErrorMessage&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;You must specify the title of this page&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Display&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;None&amp;quot;/&amp;gt;


&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;HostTable&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;form&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;body&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;That then gives us this very simple management form in flux that we can use to define content.&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="303" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Sx_qSR5OE2I/AAAAAAAAAKE/q_EFItGjkXM/image%5B18%5D.png?imgmax=800" width="492" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;We need to go ahead and create some content for our help and support centre. the way I chose to structure this is to expect a channel path of /content/articles and a page node within that with a name of “HelpHome”. This would be the main help and support centre content page, and the child pages within that would cover the individual topics (see the images at the beginning of the post) – go ahead and create some content now.&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="164" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Sx_qS-wBhAI/AAAAAAAAAKQ/oMRLL9kY7X8/image%5B21%5D.png?imgmax=800" width="319" border="0" /&gt; &lt;/p&gt;

&lt;h5&gt;3. and 4. - Rendering the general content pages&lt;/h5&gt;

&lt;p&gt;Being MVC, we need to consider the model (the data we’re going to render), the controller (the, um, controller of the app) and the view (the aspx code to render the model).&lt;/p&gt;

&lt;p&gt;The controller is implemented as follows;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;using &lt;/span&gt;System.Web.Mvc;
&lt;span style="color: blue"&gt;using &lt;/span&gt;MVCStore.Models;

&lt;span style="color: blue"&gt;namespace &lt;/span&gt;MVCStore.Controllers
{
    [&lt;span style="color: #2b91af"&gt;HandleError&lt;/span&gt;]
    &lt;span style="color: blue"&gt;public class &lt;/span&gt;&lt;span style="color: #2b91af"&gt;PageController &lt;/span&gt;: &lt;span style="color: #2b91af"&gt;Controller
    &lt;/span&gt;{
        &lt;span style="color: blue"&gt;readonly &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ContentModel &lt;/span&gt;_modelProvider = &lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ContentModel&lt;/span&gt;();

        [&lt;span style="color: #2b91af"&gt;AcceptVerbs&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;HttpVerbs&lt;/span&gt;.Get)]
        &lt;span style="color: blue"&gt;public &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ActionResult &lt;/span&gt;HelpCenter()
        {
            &lt;span style="color: blue"&gt;return &lt;/span&gt;View(&lt;span style="color: #a31515"&gt;&amp;quot;PageContent&amp;quot;&lt;/span&gt;, _modelProvider.GetHelpCentre());
        }

        [&lt;span style="color: #2b91af"&gt;AcceptVerbs&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;HttpVerbs&lt;/span&gt;.Get)]
        &lt;span style="color: blue"&gt;public &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ActionResult &lt;/span&gt;PageContent(&lt;span style="color: blue"&gt;int &lt;/span&gt;pageId)
        {
            &lt;span style="color: blue"&gt;return &lt;/span&gt;View(&lt;span style="color: #a31515"&gt;&amp;quot;PageContent&amp;quot;&lt;/span&gt;, _modelProvider.GetPageForNodeId(pageId));
        }
    }
}&lt;/pre&gt;

&lt;p&gt;Note the model provider – this is some utility code we’ll build shortly to query the Flux content database. Our two controller methods are HelpCenter - which will get the help centres home page and render it and PageContent – which will use the same mechanics to render any page given the id of the content element.&lt;/p&gt;

&lt;p&gt;The content model, which is created in /Models in this case is a mechanism to get the CMS data and return it in a way that the view is expecting. The code for ContentModel is shown below;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;using &lt;/span&gt;System;
&lt;span style="color: blue"&gt;using &lt;/span&gt;Deepcode.Flux.Core.Systems.CMS;
&lt;span style="color: blue"&gt;using &lt;/span&gt;MVCStore.Views.Page;

&lt;span style="color: blue"&gt;namespace &lt;/span&gt;MVCStore.Models
{
    &lt;span style="color: gray"&gt;/// &amp;lt;summary&amp;gt;
    /// &lt;/span&gt;&lt;span style="color: green"&gt;Provider to get content out of Flux as required
    &lt;/span&gt;&lt;span style="color: gray"&gt;/// &amp;lt;/summary&amp;gt;
    &lt;/span&gt;&lt;span style="color: blue"&gt;public class &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ContentModel
    &lt;/span&gt;{
        &lt;span style="color: blue"&gt;public &lt;/span&gt;&lt;span style="color: #2b91af"&gt;PageModel &lt;/span&gt;GetHelpCentre()
        {
            &lt;span style="color: #2b91af"&gt;ContentQuery &lt;/span&gt;query = &lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ContentQuery&lt;/span&gt;();

            &lt;span style="color: green"&gt;// Get the &amp;quot;Page&amp;quot; content item under /content/articles/ with the name &amp;quot;HelpHome&amp;quot;
            &lt;/span&gt;query.BaseMatch.AND(&lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;StaticFieldMatch&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;ContentStaticField&lt;/span&gt;.Path, &lt;span style="color: #2b91af"&gt;ContentQueryOperator&lt;/span&gt;.EQ, &lt;span style="color: #a31515"&gt;&amp;quot;/content/articles/&amp;quot;&lt;/span&gt;));
            query.BaseMatch.AND(&lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;StaticFieldMatch&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;ContentStaticField&lt;/span&gt;.ContentType, &lt;span style="color: #2b91af"&gt;ContentQueryOperator&lt;/span&gt;.EQ, &lt;span style="color: #a31515"&gt;&amp;quot;Page&amp;quot;&lt;/span&gt;));
            query.BaseMatch.AND(&lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;StaticFieldMatch&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;ContentStaticField&lt;/span&gt;.Name, &lt;span style="color: #2b91af"&gt;ContentQueryOperator&lt;/span&gt;.EQ, &lt;span style="color: #a31515"&gt;&amp;quot;HelpHome&amp;quot;&lt;/span&gt;));

            &lt;span style="color: green"&gt;// Ensure we have a matching row
            &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;[] results = query.GetMatching();
            &lt;span style="color: blue"&gt;if &lt;/span&gt;(results.Length &amp;lt; 1)
                &lt;span style="color: blue"&gt;throw new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;InvalidOperationException&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;quot;/content/articles/HelpHome page content does not exist&amp;quot;&lt;/span&gt;);

            &lt;span style="color: blue"&gt;return &lt;/span&gt;CreatePageModelForNode(results[0]);
        }

        &lt;span style="color: blue"&gt;public &lt;/span&gt;&lt;span style="color: #2b91af"&gt;PageModel &lt;/span&gt;GetPageForNodeId(&lt;span style="color: blue"&gt;int &lt;/span&gt;nodeId)
        {
            &lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;node = &lt;span style="color: #2b91af"&gt;ContentQuery&lt;/span&gt;.GetByID(nodeId);

            &lt;span style="color: green"&gt;// Ensure we have a matching row
            &lt;/span&gt;&lt;span style="color: blue"&gt;if &lt;/span&gt;(node == &lt;span style="color: blue"&gt;null&lt;/span&gt;)
                &lt;span style="color: blue"&gt;throw new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;InvalidOperationException&lt;/span&gt;(&lt;span style="color: #a31515"&gt;&amp;quot;content does not exist&amp;quot;&lt;/span&gt;);

            &lt;span style="color: blue"&gt;return &lt;/span&gt;CreatePageModelForNode(node);
        }

        &lt;span style="color: blue"&gt;private &lt;/span&gt;&lt;span style="color: #2b91af"&gt;PageModel &lt;/span&gt;CreatePageModelForNode(&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;node)
        {
            &lt;span style="color: blue"&gt;int &lt;/span&gt;parentNodeId = -1;
            
            &lt;span style="color: green"&gt;// Only specify a parent IF it's also an item of content
            &lt;/span&gt;&lt;span style="color: blue"&gt;if &lt;/span&gt;(node.ParentLive.FK_STypeID == &lt;span style="color: #a31515"&gt;&amp;quot;Page&amp;quot;&lt;/span&gt;)
                parentNodeId = node.FK_ParentID;

            &lt;span style="color: #2b91af"&gt;PageModel &lt;/span&gt;result = &lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;PageModel
            &lt;/span&gt;{
                ContentNodeId = node.PK_ID,
                PageContent = node.Fields[&lt;span style="color: #a31515"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;].Replace(&lt;span style="color: #a31515"&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;&amp;lt;br/&amp;gt;&amp;quot;&lt;/span&gt;),
                PageTitle = node.NodeTitle,
                ParentNodeId = parentNodeId
            };

            &lt;span style="color: blue"&gt;foreach &lt;/span&gt;(&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;child &lt;span style="color: blue"&gt;in &lt;/span&gt;node.ChildrenLive)
                result.AddChild(child.PK_ID, child.NodeTitle);

            &lt;span style="color: blue"&gt;return &lt;/span&gt;result;
        }
    }
}&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;The GetHelpCentre method uses the content query engine exposed from flux to query for content within the channel path /content/articles, where the type of the entity is Page with a name of HelpHome – this corresponds to the help home page we prescribed earlier. This then assembles from the CMS data through to a PageModel, which is a view specific model that I’ll get to in a second.&lt;/p&gt;

&lt;p&gt;The other method, GetPageForNodeId will also return a PageModel but for the content item with the given id number. &lt;/p&gt;

&lt;p&gt;The view specific PageModel is;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;using &lt;/span&gt;System.Collections.Generic;

&lt;span style="color: blue"&gt;namespace &lt;/span&gt;MVCStore.Views.Page
{
    &lt;span style="color: gray"&gt;/// &amp;lt;summary&amp;gt;
    /// &lt;/span&gt;&lt;span style="color: green"&gt;View model for rendering page content with table of contents if there are children
    &lt;/span&gt;&lt;span style="color: gray"&gt;/// &lt;/span&gt;&lt;span style="color: green"&gt;and rendering a link back to the parent if there is a parent....
    &lt;/span&gt;&lt;span style="color: gray"&gt;/// &amp;lt;/summary&amp;gt;
    &lt;/span&gt;&lt;span style="color: blue"&gt;public class &lt;/span&gt;&lt;span style="color: #2b91af"&gt;PageModel
    &lt;/span&gt;{
        &lt;span style="color: blue"&gt;public &lt;/span&gt;PageModel()
        {
            Children = &lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;List&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;KeyValuePair&lt;/span&gt;&amp;lt;&lt;span style="color: blue"&gt;int&lt;/span&gt;, &lt;span style="color: blue"&gt;string&lt;/span&gt;&amp;gt;&amp;gt;();
        }

        &lt;span style="color: gray"&gt;/// &amp;lt;summary&amp;gt;
        /// &lt;/span&gt;&lt;span style="color: green"&gt;The content id of this node
        &lt;/span&gt;&lt;span style="color: gray"&gt;/// &amp;lt;/summary&amp;gt;
        &lt;/span&gt;&lt;span style="color: blue"&gt;public int &lt;/span&gt;ContentNodeId { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }
        
        &lt;span style="color: gray"&gt;/// &amp;lt;summary&amp;gt;
        /// &lt;/span&gt;&lt;span style="color: green"&gt;The content id of the parent node
        &lt;/span&gt;&lt;span style="color: gray"&gt;/// &amp;lt;/summary&amp;gt;
        &lt;/span&gt;&lt;span style="color: blue"&gt;public int &lt;/span&gt;ParentNodeId { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }
        
        &lt;span style="color: gray"&gt;/// &amp;lt;summary&amp;gt;
        /// &lt;/span&gt;&lt;span style="color: green"&gt;The title of the page
        &lt;/span&gt;&lt;span style="color: gray"&gt;/// &amp;lt;/summary&amp;gt;
        &lt;/span&gt;&lt;span style="color: blue"&gt;public string &lt;/span&gt;PageTitle { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }
        
        &lt;span style="color: gray"&gt;/// &amp;lt;summary&amp;gt;
        /// &lt;/span&gt;&lt;span style="color: green"&gt;The content for the page
        &lt;/span&gt;&lt;span style="color: gray"&gt;/// &amp;lt;/summary&amp;gt;
        &lt;/span&gt;&lt;span style="color: blue"&gt;public string &lt;/span&gt;PageContent { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }

        &lt;span style="color: gray"&gt;/// &amp;lt;summary&amp;gt;
        /// &lt;/span&gt;&lt;span style="color: green"&gt;The children for this page that we want to list in a TOC
        &lt;/span&gt;&lt;span style="color: gray"&gt;/// &lt;/span&gt;&lt;span style="color: green"&gt;the pairs are node id and page title.
        &lt;/span&gt;&lt;span style="color: gray"&gt;/// &amp;lt;/summary&amp;gt;
        &lt;/span&gt;&lt;span style="color: blue"&gt;public &lt;/span&gt;&lt;span style="color: #2b91af"&gt;IList&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;KeyValuePair&lt;/span&gt;&amp;lt;&lt;span style="color: blue"&gt;int&lt;/span&gt;, &lt;span style="color: blue"&gt;string&lt;/span&gt;&amp;gt;&amp;gt; Children { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }

        &lt;span style="color: gray"&gt;/// &amp;lt;summary&amp;gt;
        /// &lt;/span&gt;&lt;span style="color: green"&gt;Adds a child.
        &lt;/span&gt;&lt;span style="color: gray"&gt;/// &amp;lt;/summary&amp;gt;
        /// &amp;lt;param name=&amp;quot;nodeId&amp;quot;&amp;gt;&lt;/span&gt;&lt;span style="color: green"&gt;The node id.&lt;/span&gt;&lt;span style="color: gray"&gt;&amp;lt;/param&amp;gt;
        /// &amp;lt;param name=&amp;quot;title&amp;quot;&amp;gt;&lt;/span&gt;&lt;span style="color: green"&gt;The title.&lt;/span&gt;&lt;span style="color: gray"&gt;&amp;lt;/param&amp;gt;
        &lt;/span&gt;&lt;span style="color: blue"&gt;public void &lt;/span&gt;AddChild(&lt;span style="color: blue"&gt;int &lt;/span&gt;nodeId, &lt;span style="color: blue"&gt;string &lt;/span&gt;title)
        {
            Children.Add(&lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;KeyValuePair&lt;/span&gt;&amp;lt;&lt;span style="color: blue"&gt;int&lt;/span&gt;, &lt;span style="color: blue"&gt;string&lt;/span&gt;&amp;gt;(nodeId, title));
        }
    }
}&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;The final piece of the puzzle is the view itself, which is extremely simplistic;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Page &lt;/span&gt;&lt;span style="color: red"&gt;Language&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;C#&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MasterPageFile&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;~/Views/Shared/Site.Master&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Inherits&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;System.Web.Mvc.ViewPage&amp;lt;PageModel&amp;gt;&amp;quot; &lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Import &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;MVCStore.Views.Page&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;

&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Content &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;indexContent&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ContentPlaceHolderID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;MainContent&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    
    &lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;if&lt;/span&gt;( Model.ParentNodeId != -1 ){ &lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;        &lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;Html.ActionLink(&lt;span style="color: #a31515"&gt;&amp;quot;Up to parent&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;PageContent&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Page&amp;quot;&lt;/span&gt;, &lt;span style="color: blue"&gt;new &lt;/span&gt;{ pageId = Model.ParentNodeId }, &lt;span style="color: blue"&gt;null&lt;/span&gt;)&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;    &lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;}&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;    
    &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;h2&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;Model.PageTitle&lt;span style="background: #ffee62"&gt;%&amp;gt;&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;h2&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;Model.PageContent&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;    
    &lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;if&lt;/span&gt;( Model.Children.Count &amp;gt; 0 ){ &lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;    
        &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;h3&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Table of Contents&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;h3&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;ul&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;foreach&lt;/span&gt;( &lt;span style="color: #2b91af"&gt;KeyValuePair&lt;/span&gt;&amp;lt;&lt;span style="color: blue"&gt;int&lt;/span&gt;, &lt;span style="color: blue"&gt;string&lt;/span&gt;&amp;gt; toc &lt;span style="color: blue"&gt;in &lt;/span&gt;Model.Children ){ &lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;            &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;li&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;Html.ActionLink(toc.Value, &lt;span style="color: #a31515"&gt;&amp;quot;PageContent&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Page&amp;quot;&lt;/span&gt;, &lt;span style="color: blue"&gt;new &lt;/span&gt;{ pageId = toc.Key }, &lt;span style="color: blue"&gt;null&lt;/span&gt;)&lt;span style="background: #ffee62"&gt;%&amp;gt;&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;li&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;}&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;        &lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;ul&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;}&lt;span style="background: #ffee62"&gt;%&amp;gt;

&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Content&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;The code is again checked into codeplex here (&lt;a title="http://fluxmvcstore.codeplex.com/" href="http://fluxmvcstore.codeplex.com/"&gt;http://fluxmvcstore.codeplex.com/&lt;/a&gt;) to bring you to this point, along with an SQL data script to get the content database up to speed.&lt;/p&gt;

&lt;p&gt;I hope this is proving useful. I hope to have the next in the series available over the weekend.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5519624055174179863/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/12/building-aspnet-mvc-e-commerce-app-with_09.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5519624055174179863'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5519624055174179863'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/12/building-aspnet-mvc-e-commerce-app-with_09.html' title='Building an ASP.NET MVC E-Commerce app with Flux – Part 3'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/Sx_qPcS61pI/AAAAAAAAAJU/vXO_lVIkLI8/s72-c/image%5B3%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3482058418860206812</id><published>2009-12-09T13:12:00.001Z</published><updated>2009-12-09T13:12:54.944Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><title type='text'>Dont make me WAIT!!! DB Pro - you suck…..</title><content type='html'>&lt;p&gt;RANT time…. I’m staring at visual studio 2008 at the moment and I’ve been staring at it for the last 25 minutes. I can’t interact with it as it’s busy doing some very complex operation – renaming a folder in a db pro project….. absolute twoddle!!!!!!&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3482058418860206812/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/12/dont-make-me-wait-db-pro-you-suck.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3482058418860206812'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3482058418860206812'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/12/dont-make-me-wait-db-pro-you-suck.html' title='Dont make me WAIT!!! DB Pro - you suck…..'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5251985557270736034</id><published>2009-12-08T23:48:00.000Z</published><updated>2009-12-08T23:48:00.370Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVC'/><category scheme='http://www.blogger.com/atom/ns#' term='Flux'/><category scheme='http://www.blogger.com/atom/ns#' term='ASP.NET'/><title type='text'>Building an ASP.NET MVC E-Commerce app with Flux.net as the management tool – Part 2</title><content type='html'>&lt;p&gt;Continuing the series I started yesterday, today we’ll look at getting some basic content structures defined in Flux along with executing some basic queries for that data from the MVC application.&lt;/p&gt;  &lt;p&gt;As ever, follow along or get the source from codeplex &lt;a href="http://fluxmvcstore.codeplex.com/" target="_blank"&gt;here&lt;/a&gt;. If you’re using the source, don’t forget to re-create your database so the data in your app matches that created through this article.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Channel content type&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;As we’re going to be pulling data out of Flux from MVC without using URL re-writing or anything like that, we need a mechanism to address content in flux. We could use the data taxonomy tools to tag data in flux and query based on this, but this lacks form and structure, so I decided to define a channel content type that allows us to expose paths to data that we can easily query against.&lt;/p&gt;  &lt;p&gt;For example, when we come to want to find the root categories for our site we’ll perhaps query against /categories and this will have entries for each category, which in turn will have products. We can then extend this later with channels like /content/news to define news articles we might want to list or /content/about to define a list of articles we want to show on the site.&lt;/p&gt;  &lt;p&gt;The definition for the channel content type couldn’t be simpler – in the management project, we create a folder at /settings/types called Channel and create the following Content.type.config file;&lt;/p&gt;  &lt;pre class="code"&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodeType &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;Channel&lt;/span&gt;&amp;quot; &lt;span style="color: red"&gt;Name&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;Content Channel&lt;/span&gt;&amp;quot; &lt;span style="color: red"&gt;LimitVersions&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;1&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;AddForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Channel/form.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;AddForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;EditForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Channel/form.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;EditForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Relationships &lt;/span&gt;&lt;span style="color: red"&gt;AddRoot&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;true&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Add&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Channel&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Add&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Relationships&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodeType&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;We then add the form.aspx file to manage this content type;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Page &lt;/span&gt;&lt;span style="color: red"&gt;Language&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;C#&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Inherits&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.UI.CMS.CMSContentForm&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ValidateRequest&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;false&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Register &lt;/span&gt;&lt;span style="color: red"&gt;TagPrefix&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;flux&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.UI.Controls&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Assembly&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;

&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;script &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &lt;/span&gt;&lt;span style="color: green"&gt;// Type ID being managed by this form
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override string &lt;/span&gt;FormTypeCode { &lt;span style="color: blue"&gt;get &lt;/span&gt;{ &lt;span style="color: blue"&gt;return &lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;quot;Channel&amp;quot;&lt;/span&gt;; } }

    &lt;span style="color: green"&gt;// Do form setup
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;SetupForm(&lt;span style="color: blue"&gt;int &lt;/span&gt;ContentID, &lt;span style="color: blue"&gt;int &lt;/span&gt;ParentID)
    {
        &lt;span style="color: blue"&gt;if &lt;/span&gt;(!Page.IsPostBack)
        {
            fPath.NodeIDParent = ParentID;
            fPath.NodeIDPathed = ContentID;
        }
    }

    &lt;span style="color: green"&gt;// Save fields to content object
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;SaveContent(&lt;span style="color: blue"&gt;ref &lt;/span&gt;Deepcode.Flux.Core.Systems.CMS.&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;save)
    {
        save.NodeName = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPath.Text;
        save.NodeTitle = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPageTitle.Text;
    }

    &lt;span style="color: green"&gt;// Load fields from content object
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;LoadContent(Deepcode.Flux.Core.Systems.CMS.&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;load)
    {
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPath.Text = load.NodeName;
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPageTitle.Text = load.NodeTitle;
    }
&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;script&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;head &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Head1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;link &lt;/span&gt;&lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;../../../admin/Asset/Style/GeneralStyle.css&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;rel&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Stylesheet&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;type&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;text/css&amp;quot; /&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;head&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;body &lt;/span&gt;&lt;span style="color: red"&gt;class&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;nopadshaded&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;form &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;form1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;HostTable &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;HostTable1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Summary --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ValidationSummarySection &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;ValidationSummarySection1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;HeaderText&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Please correct the following errors&amp;quot;/&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Form area --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;    &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Title&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Add/Edit Content Channel&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ShadePadBox &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;ShadePadBox1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;

        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;table &lt;/span&gt;&lt;span style="color: red"&gt;cellspacing&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;0&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;cellpadding&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;3&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;border&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;0&amp;quot;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Path:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodePath &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPath&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;200px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;100&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Page Title:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;TextBox &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPageTitle&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;300px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;500&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;table&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ShadePadBox&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Buttons --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section3&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;PadBox &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;PadBox1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CssClass&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Pad5Button&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Button &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnSave&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Text&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Save&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;OnClick&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnSave_Click&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CssClass&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;button&amp;quot;/&amp;gt;&lt;/span&gt;&lt;span style="color: red"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;
    &lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Button &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnCancel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Text&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Cancel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;OnClick&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnCancel_Click&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CausesValidation&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;False&amp;quot;/&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;PadBox&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Validators --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;RequiredFieldValidator &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;RequiredFieldValidator1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ControlToValidate&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPath&amp;quot;
    &lt;/span&gt;&lt;span style="color: red"&gt;ErrorMessage&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;You must specify the path for this page&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Display&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;None&amp;quot;/&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;RequiredFieldValidator &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;RequiredFieldValidator2&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ControlToValidate&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPageTitle&amp;quot; 
    &lt;/span&gt;&lt;span style="color: red"&gt;ErrorMessage&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;You must specify the title of this page&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Display&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;None&amp;quot;/&amp;gt;


&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;HostTable&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;form&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;body&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;And our basic channel type is defined. We should now be able to use the manager to setup some basic channels – login to &lt;a href="http://localhost:55000/"&gt;http://localhost:55000/&lt;/a&gt; as &lt;a href="mailto:admin@fluxcms.co.uk"&gt;admin@fluxcms.co.uk&lt;/a&gt; with a password of “password” and create some channels as below and then check them all in.&lt;/p&gt;

&lt;p&gt;&amp;#160;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="98" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Sx6UmAe03XI/AAAAAAAAAI4/fFR9NCu-_Es/image%5B9%5D.png?imgmax=800" width="126" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;The next thing we need to do is get the MVC application to be able to see this data – to do this we add a reference in the MVC app to Deepcode.Flux.Core.dll (which you’ll find in management/bin). This gives us access to the Flux API, but before we can call it we also need to setup the flux.config in the MVC application. For this I created the /settings directory in the MVC application and copied flux.config from the other project.&lt;/p&gt;

&lt;p&gt;Now, we can call the API. In the controller, I added the following (not very elegant) code;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;public &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ActionResult &lt;/span&gt;Index()
{
    &lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;[] list = &lt;span style="color: #2b91af"&gt;ContentQuery&lt;/span&gt;.GetForParentID(-1);
    ViewData[&lt;span style="color: #a31515"&gt;&amp;quot;list&amp;quot;&lt;/span&gt;] = list;
    &lt;span style="color: blue"&gt;return &lt;/span&gt;View();
}&lt;/pre&gt;

&lt;p&gt;Here, we’re doing a very basic query for all content at the root level, which should give us the categories and content nodes. For now, rather than creating a real model, I’ve just pumped this into view data ready for rendering, and in the view code I added;&lt;/p&gt;

&lt;pre class="code"&gt;    &lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;foreach&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;obj &lt;span style="color: blue"&gt;in &lt;/span&gt;(&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;[]) ViewData[&lt;span style="color: #a31515"&gt;&amp;quot;list&amp;quot;&lt;/span&gt;]){&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;        &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;p&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;obj.NodeName&lt;span style="background: #ffee62"&gt;%&amp;gt;&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;p&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;}&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;Which, … drum roll please …, gives us:&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="282" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Sx6Um1VqkpI/AAAAAAAAAJE/PrgK2eK0bbo/image%5B15%5D.png?imgmax=800" width="646" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;WHOOT! Our MVC app is getting it’s data from flux. So we’ve proven the point, we just now need to make it do something useful – but I’ll save that for the next post.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5251985557270736034/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/12/building-aspnet-mvc-e-commerce-app-with_08.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5251985557270736034'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5251985557270736034'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/12/building-aspnet-mvc-e-commerce-app-with_08.html' title='Building an ASP.NET MVC E-Commerce app with Flux.net as the management tool – Part 2'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/Sx6UmAe03XI/AAAAAAAAAI4/fFR9NCu-_Es/s72-c/image%5B9%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4562286327845539633</id><published>2009-12-07T22:21:00.000Z</published><updated>2009-12-08T17:22:13.681Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='MVC'/><category scheme='http://www.blogger.com/atom/ns#' term='Flux'/><category scheme='http://www.blogger.com/atom/ns#' term='ASP.NET'/><title type='text'>Building an ASP.NET MVC E-Commerce app with FLUX.net as the management tool</title><content type='html'>&lt;p&gt;A friend of mine was recently contemplating using FLUX to build out an e-commerce application for a store. Whilst this is all well and good, and certainly very plausible, I started to think about how e-commerce sites are generally structured – they aren’t so much about open ended content where you add pages and articles together to form a site, they are far more rigid – more like structured catalogues with prescribed functionality.&lt;/p&gt;  &lt;p&gt;As I’m also a fan of the MVC framework (I use it lots in my day job) I’ve been looking for an excuse to build something that uses MVC to render content fed from Flux.NET and I figure this is a good enough opportunity to explore this through a series of blog posts.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;The site concept&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;We’ll manage products and categories in one website, which is standard ASP.NET and using the Flux content management system, then render these to our MVC store front application that has a prescribed structure by querying the content database for data in the appropriate places. Whereas we might normally use flux to dictate the form and structure, in this instance we’re going to use it purely as a management tool for data in our application.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Getting started&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;I began by downloading the flux starter package and creating a new empty solution. I added an ASP.NET website to the solution and then extracted the starter kit to it, trimming it right down to almost nothing (see image below) and reconfiguring /settings/flux.config to use a new database I created – FluxMVCTest. I ran the flux database script against this db to create my tables etc and then cleared down all the content through the admin tool.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="183" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Sx6LRHxjqQI/AAAAAAAAAIs/gx3VXnLZpaA/image%5B5%5D.png?imgmax=800" width="164" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;With this running and responding on the development web server, I was reasonably happy to proceed and get the MVC site up in the solution too. I added this using the usual new project wizard and then stripped it back to it’s bare essentials also, which at this point gives me two sites in my solution as below;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Follow along source on codeplex&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;As usual, I’ve started a new project in codeplex for this, so hop along to &lt;a title="http://fluxmvcstore.codeplex.com" href="http://fluxmvcstore.codeplex.com"&gt;http://fluxmvcstore.codeplex.com&lt;/a&gt; to get the source code so far.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4562286327845539633/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/12/building-aspnet-mvc-e-commerce-app-with.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4562286327845539633'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4562286327845539633'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/12/building-aspnet-mvc-e-commerce-app-with.html' title='Building an ASP.NET MVC E-Commerce app with FLUX.net as the management tool'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/Sx6LRHxjqQI/AAAAAAAAAIs/gx3VXnLZpaA/s72-c/image%5B5%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3874855558729193344</id><published>2009-11-15T15:32:00.000Z</published><updated>2009-11-16T15:33:12.336Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='General Guff'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><title type='text'>Overcoming cross domain issues between frames</title><content type='html'>&lt;p&gt;In an application that I am building at the moment, I had need to “mash-up” content from different sources into a SharePoint site. This SharePoint site would;&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Use an iframe to pull in a list of content from another server&lt;/li&gt;    &lt;li&gt;Launch a modal dialog (AJAX style) overlaid on top of the SharePoint portal with an iframed form to action against the data&lt;/li&gt;    &lt;li&gt;Display validation errors from that form as another modal dialog (owned by the parent SharePoint page so as not to be size limited to the owning dialog).&lt;/li&gt; &lt;/ol&gt;  &lt;p&gt;A picture says a thousand words;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="293" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SwFwsYJmgtI/AAAAAAAAAIY/aLXY-w9ucw4/image%5B12%5D.png?imgmax=800" width="782" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;In this case, we’d want the SharePoint host page to offer two methods&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;launchTool(url) – which will launch the given URL in an iframe within a modal jquery overlay (using boxy in my instance).&lt;/li&gt;    &lt;li&gt;displayValidation(message) – which will be called by the form iframe to display the validation messages if the form can’t be submitted&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;And this is where we have a problem. If everything was on the same server, it would all be quite happy with this scenario and all the components would play together nicely but in this instance the content is spread across different servers. In this case, we’re not allowed to build this level of interaction using JavaScript as the content doesn’t fulfil the “same origin policy” – which means content from different domains can’t interrogate each others DOM nor invoke methods etc against each other.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="293" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SwFwtAhMioI/AAAAAAAAAIc/2UfRbS560qY/image%5B18%5D.png?imgmax=800" width="782" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;Working around this isn’t just as simple as putting the sites into a different zone in the browser etc, we have to do something a little more innovative. If you are in total control of your infrastructure you can set all of the content servers to have a fully qualified domain name – eg: sp.mysite.com and forms.mysite.com and then use the document.domain property in JavaScript to set the domain to the higher level domain ie: mysite.com (document.domain = “mysite.com”) – but this does cause problems in my scenario where the SSRS report viewer web part in sharepoint doesn’t work (it does some funky stuff under the covers with iframes which fails miserably when we set document.domain in the host pages).&lt;/p&gt;  &lt;p&gt;So, what can we do?&lt;/p&gt;  &lt;p&gt;Well, the content from formserver can’t call anything within the sharepoint page and vice versa, but the formserver content could somehow create an iframe of it’s own with a special url on the sharepoint site that then calls the javascript we’re looking for in the sharepoint page. Clear as mud? No? here’s another diagram.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="426" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SwFwt12ebGI/AAAAAAAAAIg/M5AM8azhd6g/image%5B21%5D.png?imgmax=800" width="782" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;So, the list iframe doesn’t go back up the window stack to ask it’s parent to do something (which it has no rights to), it instead goes down – creating it’s own iframe and navigating it to a known page on the host and passes information to the page using a # bookmark. This known page then uses javascript on it’s page load event to determine what to do with the data passed in. If this indicates it should launch a modal dialog for a given URL, it passes the request to the overall parent, which, because it’s on the same domain, can be accessed.&lt;/p&gt;  &lt;p&gt;It’s important to note the # part of the URL – by doing this, the cross domain receiver page can be fully cached in the browser, meaning there should be no lag between making the request down the stack to the parent actually processing that request.&lt;/p&gt;  &lt;p&gt;I’ve wrapped the above into an API and built a sample that does the above, but also supports bi-directional message passing – so our host page has a list from another domain, it asks the host to display a form from yet another domain and this form requires confirmation, so it asks the host to display a message with options – the result of this message is then passed back down to the form.&lt;/p&gt;  &lt;p&gt;&lt;font size="6"&gt;Get the source code here: &lt;/font&gt;&lt;a href="http://xdsframes.codeplex.com"&gt;&lt;font size="6"&gt;http://xdsframes.codeplex.com&lt;/font&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;font size="1"&gt;(This isn’t a finished API in any way, just a starting off point for solving your own cross domain issues.)&lt;/font&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3874855558729193344/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html#comment-form' title='5 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3874855558729193344'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3874855558729193344'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html' title='Overcoming cross domain issues between frames'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/SwFwsYJmgtI/AAAAAAAAAIY/aLXY-w9ucw4/s72-c/image%5B12%5D.png?imgmax=800' height='72' width='72'/><thr:total>5</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-791186748274229234</id><published>2009-10-03T19:17:00.001+01:00</published><updated>2009-10-03T19:17:39.660+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Flux'/><title type='text'>Flux.NET quick start package released</title><content type='html'>&lt;p&gt;As promised, I've just wrapped up the content of my previous post, with some extras to produce a FLUX.NET quick start package. You can get it now on codeplex : &lt;a href="http://flux.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=26826#DownloadId=86138"&gt;http://flux.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=26826#DownloadId=86138&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;To use it:&lt;/strong&gt;&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Unzip the distribution into a folder on disk&lt;/li&gt;    &lt;li&gt;Create an application in IIS that maps to this folder (&lt;font size="1"&gt;&lt;em&gt;To work out of the box, the application should be hosted on localhost. If it isn&amp;#8217;t, you will need to update the domain mappings in the website mapping tool in flux.&lt;/em&gt;&lt;/font&gt;)&lt;/li&gt;    &lt;li&gt;Create an SQL database called FluxStarterKit (&lt;font size="1"&gt;&lt;em&gt;You can actually call it whatever you like but you must change the connection strings in /settings/flux.config&lt;/em&gt;&lt;/font&gt;)&lt;/li&gt;    &lt;li&gt;Execute /documentation/flux.startup.sql against the SQL database&lt;/li&gt; &lt;/ol&gt;  &lt;p&gt;That&amp;#8217;s it.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;To view the website:&lt;/strong&gt;&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Navigate to the IIS website you created above&lt;/li&gt; &lt;/ol&gt;  &lt;p&gt;&lt;strong&gt;To open the admin tool:&lt;/strong&gt;&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Navigate to the IIS website you created above + /admin&lt;/li&gt;    &lt;li&gt;Login as admin@fluxcms.co.uk with a password of password&lt;/li&gt; &lt;/ol&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/791186748274229234/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/10/fluxnet-quick-start-package-released.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/791186748274229234'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/791186748274229234'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/10/fluxnet-quick-start-package-released.html' title='Flux.NET quick start package released'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6146562733844048409</id><published>2009-10-03T17:39:00.001+01:00</published><updated>2009-10-03T17:40:15.665+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Flux'/><title type='text'>10 Step guide to getting a basic FLUX.NET CMS site up.</title><content type='html'>&lt;p&gt;Today I decided to start a new site for a friend of mine, and being the owner of the FLUX.NET open source CMS, I obviously decided to use that. I figured I'd use this opportunity though to document a step by step guide to how to get flux.net setup from download to a single basic page being up and running, so here goes.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Step 1 - get the distro!&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;Go to &lt;a href="http://flux.codeplex.com"&gt;http://flux.codeplex.com&lt;/a&gt; and get the latest release package (&lt;a href="http://flux.codeplex.com/Release/ProjectReleases.aspx?ReleaseId=26826" target="_blank"&gt;v2.0 release here&lt;/a&gt;)&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Step 2 - Copy the files into your site&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;1. From the distribution, copy the /Src/flux_client folder into the folder that will be the root of your site&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="87" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Ssd-ECYc4PI/AAAAAAAAAGw/JDNmzOXVYlw/image%5B40%5D.png?imgmax=800" width="168" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;2. Next go into /Src/Deepcode.Flux.Admin/and copy the entire contents into a /admin directory in your site&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="169" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Ssd-Ei4K_2I/AAAAAAAAAG0/fxno2UALVhc/image%5B41%5D.png?imgmax=800" width="154" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;3. Move the bin directory from admin, 1 level down, outside of the admin directory.&lt;/p&gt;  &lt;p&gt;4. Finally, copy one of the web.config files from the distribution into your site. These are in the root of the distribution and are named FormsWeb.Config and WindowsWeb.Config. In this instance, I want to use forms authentication so I'll take FormsWeb.Config, copy it into my site and rename it to web.config. &lt;/p&gt;  &lt;p&gt;5. At this point, you should have a site directory structure as follows;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="77" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Ssd-Ewdre2I/AAAAAAAAAG4/G3Cqn0nk1Cg/image%5B37%5D.png?imgmax=800" width="391" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Step 3 - configuring IIS and SQL for local development&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;1. Open IIS manager, right click on the default website and select to create a new application (I'm using IIS7 in this exercise):&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="149" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Ssd-FT9NNEI/AAAAAAAAAG8/oejTK4Exh5A/image%5B36%5D.png?imgmax=800" width="244" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;2. Give the virtual directory an alias to use, set it's application pool to classic .NET app pool and point the physical path to the directory you've created in step 2.4 above. &lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="158" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-FjZ7TwI/AAAAAAAAAHA/kXre6S1jp-4/image%5B35%5D.png?imgmax=800" width="244" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;3. Open SQL Server and create a database for your content. (You can get the installer tool to create it for you, but I prefer to create it by hand)...&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Step 4 - install the application&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;1. Navigate to http://localhost/youralias/admin/setup/install to start the installation process and click next to open the setup database form:&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="326" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Ssd-GHx8HII/AAAAAAAAAHE/4folzXn_myE/image%5B42%5D.png?imgmax=800" width="381" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;2. Enter the parameters necessary to connect to the database you created earlier. For my local development environment, I setup my server as &amp;quot;.&amp;quot;, fluxtest as the database name, ticked the database has already been created checkbox,&amp;#160; and specified windows authentication as the SQL authentication mechanism. Click next to go to authentication setup.&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="361" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Ssd-G_E7spI/AAAAAAAAAHI/_sSaC8xgwk0/image%5B51%5D.png?imgmax=800" width="421" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;3. As we're aiming for forms authentication here, I selected &amp;quot;Forms authentication&amp;quot;&amp;#160; and setup the details of my super user to correspond to myself. Click next to go to general setup;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="352" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-HY3oq0I/AAAAAAAAAHM/WNXZVcOqjA4/image%5B55%5D.png?imgmax=800" width="412" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;4. Enter a name for the installation (which will appear in the administration tools), along with a default mail server and an address which flux can send email as. Click next to review your installation settings.&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="329" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Ssd-H_ZdbtI/AAAAAAAAAHQ/UFgeXwl6sMo/image%5B59%5D.png?imgmax=800" width="385" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;5. Click finish to begin installation. At this point the system will install the database scripts and generate configuration files. As such, the app pool users of your web application must have write access to the location of your site and the SQL user/windows user also must have permission to create tables and stored procedures etc in your database. Once complete, you should see a screen like that below and a flux.config file will appear in a new folder called settings in your application.&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="249" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Ssd-IZLyfiI/AAAAAAAAAHU/JlprDdqtO1U/image%5B63%5D.png?imgmax=800" width="364" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;6. If you &amp;quot;click here to continue&amp;quot; flux is now completely setup and you should be able to access the admin tool and it's modules etc as below;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="313" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-Izdq6GI/AAAAAAAAAHY/A73gfJ9vMjk/image%5B67%5D.png?imgmax=800" width="338" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;However, the application itself doesn't know anything about content at this point.... we need to configure it to make it do something next.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Step 5 - opening your site in visual studio.&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;In order to do anything useful we will need to open visual studio 2008 and open the web site. Open it directly from the local IIS installation. If it offers to update it to .NET 3.5, say yes so that we can utilise LINQ and other cool features in our rendering templates. With this done, you should now have an environment ready to roll;&lt;/p&gt;  &lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="117" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-JVUYUHI/AAAAAAAAAHc/el014FiDAp4/image%5B71%5D.png?imgmax=800" width="182" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Step 6 - the worlds most basic content type&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;Back in flux, If you open &amp;quot;content management&amp;quot; and select to add a new item of content, you will notice that it doesn't give you any options of what to add. That is because flux is completely agnostic of what data makes up content. It understands content concepts and how content should relate etc, but not necessarily what fields make up what types of content, for this we must give it some more information.&lt;/p&gt;  &lt;p&gt;For the purposes of this demonstration we're going to build a CMS that can host multiple web sites, but only has basic HTML pages available to it. This keeps the scope simple so that I can actually complete this blog post in one sitting!!!!&lt;/p&gt;  &lt;p&gt;1. In VS.NET Create a new folder under /settings called &amp;quot;types&amp;quot; and a folder within this called &amp;quot;Site&amp;quot;.&lt;/p&gt;  &lt;p&gt;2. Add a new XML file to this folder and name it &amp;quot;Site.type.config&amp;quot;. Then paste the content below into it;&lt;/p&gt;  &lt;pre class="code"&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodeType &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;Site&lt;/span&gt;&amp;quot; &lt;span style="color: red"&gt;Name&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;Website&lt;/span&gt;&amp;quot; &lt;span style="color: red"&gt;LimitVersions&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;1&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;AddForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Site/form.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;AddForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;EditForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Site/form.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;EditForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Relationships &lt;/span&gt;&lt;span style="color: red"&gt;AddRoot&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;true&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Add&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Page&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Add&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Relationships&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;StaticData&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Template&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Site/render.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Template&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;StaticData&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodeType&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;This defines a content type that we can add to our system. LimitVersions=&amp;quot;1&amp;quot; tells flux only to keep a maximum of 1 version history of anything that is of this type. The Add/Edit form specifies the ASPX templates that will be used to add or edit content items of this type, which we'll build shortly. The relationships section determines how this content type relates to other items. In this case, we tell flux that sites can be added to the root node and within them, a content type called page can be added. Finally the static data template item specifies the rendering template when content of this type is rendered in html.&lt;/p&gt;

&lt;p&gt;3. Now we need to create the ASPX file that will let us add and edit content in flux. Create a new web form called form.aspx in the /settings/types/Site directory and set it's content as follows;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Page &lt;/span&gt;&lt;span style="color: red"&gt;Language&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;C#&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Inherits&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.UI.CMS.CMSContentForm&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ValidateRequest&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;false&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Register &lt;/span&gt;&lt;span style="color: red"&gt;TagPrefix&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;flux&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.UI.Controls&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Assembly&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;

&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;script &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &lt;/span&gt;&lt;span style="color: green"&gt;// Type ID being managed by this form
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override string &lt;/span&gt;FormTypeCode { &lt;span style="color: blue"&gt;get &lt;/span&gt;{ &lt;span style="color: blue"&gt;return &lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;quot;Site&amp;quot;&lt;/span&gt;; } }

    &lt;span style="color: green"&gt;// Do form setup
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;SetupForm(&lt;span style="color: blue"&gt;int &lt;/span&gt;ContentID, &lt;span style="color: blue"&gt;int &lt;/span&gt;ParentID)
    {
        &lt;span style="color: blue"&gt;if &lt;/span&gt;(!Page.IsPostBack)
        {
            fChannelPath.NodeIDParent = ParentID;
            fChannelPath.NodeIDPathed = ContentID;
        }
    }

    &lt;span style="color: green"&gt;// Save fields to content object
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;SaveContent(&lt;span style="color: blue"&gt;ref &lt;/span&gt;Deepcode.Flux.Core.Systems.CMS.&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;save)
    {
        save.NodeName = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fChannelPath.Text;
        save.NodeTitle = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fChannelName.Text;
    }

    &lt;span style="color: green"&gt;// Load fields from content object
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;LoadContent(Deepcode.Flux.Core.Systems.CMS.&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;load)
    {
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fChannelName.Text = load.NodeTitle;
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fChannelPath.Text = load.NodeName;
    }
&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;script&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;head &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Head1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;link &lt;/span&gt;&lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;../../../admin/Asset/Style/GeneralStyle.css&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;rel&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Stylesheet&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;type&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;text/css&amp;quot; /&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;head&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;body &lt;/span&gt;&lt;span style="color: red"&gt;class&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;nopadshaded&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;form &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;form1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;HostTable &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;HostTable1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Summary --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ValidationSummarySection &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;ValidationSummarySection1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;HeaderText&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Please correct the following errors&amp;quot;/&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Form area --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;    &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Title&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Add/Edit Website channel&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ShadePadBox &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;ShadePadBox1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;

        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;table &lt;/span&gt;&lt;span style="color: red"&gt;cellspacing&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;0&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;cellpadding&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;3&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;border&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;0&amp;quot;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Channel Name:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;TextBox &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fChannelName&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;300px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;500&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Channel Path:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodePath &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fChannelPath&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;200px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;100&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;table&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ShadePadBox&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Buttons --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section2&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;PadBox &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;PadBox1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CssClass&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Pad5Button&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Button &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnSave&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Text&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Save&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;OnClick&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnSave_Click&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CssClass&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;button&amp;quot;/&amp;gt;&lt;/span&gt;&lt;span style="color: red"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;
    &lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Button &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnCancel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Text&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Cancel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;OnClick&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnCancel_Click&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CausesValidation&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;False&amp;quot;/&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;PadBox&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Validators --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;RequiredFieldValidator &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;RequiredFieldValidator1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ControlToValidate&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fChannelName&amp;quot; 
    &lt;/span&gt;&lt;span style="color: red"&gt;ErrorMessage&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;You must specify the title of this channel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Display&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;None&amp;quot;/&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;RequiredFieldValidator &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;RequiredFieldValidator2&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ControlToValidate&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fChannelPath&amp;quot;
    &lt;/span&gt;&lt;span style="color: red"&gt;ErrorMessage&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;You must specify the path of this channel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Display&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;None&amp;quot;/&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;HostTable&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;form&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;body&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;There are a large number of flux specific controls in there, but it should be reasonably self explanatory. The base class CMSContentForm within flux provides everything necessary to wire our form up. It invokes Save/Load content methods and utilises the form type code to determine what it's editing. All we do is override these methods and add the fields in/out of the persistence mechanism.&lt;/p&gt;

&lt;p&gt;4. We need to go ahead and create a Page content type now also, so we can publish something so add another folder within types called Page along with the configuration file &amp;quot;Page.type.config&amp;quot; and it's editor form &amp;quot;form.aspx&amp;quot;, using the following content:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;/Settings/types/page/Page.type.config&lt;/em&gt;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodeType &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;Page&lt;/span&gt;&amp;quot; &lt;span style="color: red"&gt;Name&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;Web Page&lt;/span&gt;&amp;quot; &lt;span style="color: red"&gt;LimitVersions&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;1&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;AddForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Page/form.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;AddForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;EditForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Page/form.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;EditForm&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Relationships &lt;/span&gt;&lt;span style="color: red"&gt;AddRoot&lt;/span&gt;&lt;span style="color: blue"&gt;=&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;false&lt;/span&gt;&amp;quot;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Add&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Page&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Add&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Relationships&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;StaticData&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Template&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;~/settings/types/Page/render.aspx&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Template&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;StaticData&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodeType&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;&lt;em&gt;/Settings/types/page/Form.aspx&lt;/em&gt;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Page &lt;/span&gt;&lt;span style="color: red"&gt;Language&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;C#&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Inherits&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.UI.CMS.CMSContentForm&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ValidateRequest&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;false&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Register &lt;/span&gt;&lt;span style="color: red"&gt;TagPrefix&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;flux&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.UI.Controls&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Assembly&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;

&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;script &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &lt;/span&gt;&lt;span style="color: green"&gt;// Type ID being managed by this form
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override string &lt;/span&gt;FormTypeCode { &lt;span style="color: blue"&gt;get &lt;/span&gt;{ &lt;span style="color: blue"&gt;return &lt;/span&gt;&lt;span style="color: #a31515"&gt;&amp;quot;Page&amp;quot;&lt;/span&gt;; } }

    &lt;span style="color: green"&gt;// Do form setup
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;SetupForm(&lt;span style="color: blue"&gt;int &lt;/span&gt;ContentID, &lt;span style="color: blue"&gt;int &lt;/span&gt;ParentID)
    {
        &lt;span style="color: blue"&gt;if &lt;/span&gt;(!Page.IsPostBack)
        {
            fPath.NodeIDParent = ParentID;
            fPath.NodeIDPathed = ContentID;
        }
    }

    &lt;span style="color: green"&gt;// Save fields to content object
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;SaveContent(&lt;span style="color: blue"&gt;ref &lt;/span&gt;Deepcode.Flux.Core.Systems.CMS.&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;save)
    {
        save.NodeName = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPath.Text;
        save.NodeTitle = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPageTitle.Text;
        save.Fields[&lt;span style="color: #a31515"&gt;&amp;quot;MenuTitle&amp;quot;&lt;/span&gt;] = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fMenuTitle.Text;
        save.Fields[&lt;span style="color: #a31515"&gt;&amp;quot;BodyContent&amp;quot;&lt;/span&gt;] = &lt;span style="color: blue"&gt;this&lt;/span&gt;.fHtml.Text;
    }

    &lt;span style="color: green"&gt;// Load fields from content object
    &lt;/span&gt;&lt;span style="color: blue"&gt;protected override void &lt;/span&gt;LoadContent(Deepcode.Flux.Core.Systems.CMS.&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;load)
    {
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPath.Text = load.NodeName;
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fPageTitle.Text = load.NodeTitle;
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fMenuTitle.Text = load.Fields[&lt;span style="color: #a31515"&gt;&amp;quot;MenuTitle&amp;quot;&lt;/span&gt;];
        &lt;span style="color: blue"&gt;this&lt;/span&gt;.fHtml.Text = load.Fields[&lt;span style="color: #a31515"&gt;&amp;quot;BodyContent&amp;quot;&lt;/span&gt;];
    }
&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;script&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;head &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Head1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;link &lt;/span&gt;&lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;../../../admin/Asset/Style/GeneralStyle.css&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;rel&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Stylesheet&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;type&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;text/css&amp;quot; /&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;head&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;body &lt;/span&gt;&lt;span style="color: red"&gt;class&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;nopadshaded&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;form &lt;/span&gt;&lt;span style="color: red"&gt;id&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;form1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;HostTable &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;HostTable1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Summary --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ValidationSummarySection &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;ValidationSummarySection1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;HeaderText&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Please correct the following errors&amp;quot;/&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Form area --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;    &lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Title&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Add/Edit Page&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ShadePadBox &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;ShadePadBox1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;

        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;table &lt;/span&gt;&lt;span style="color: red"&gt;cellspacing&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;0&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;cellpadding&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;3&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;border&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;0&amp;quot;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Path:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;NodePath &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPath&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;200px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;100&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Page Title:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;TextBox &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPageTitle&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;300px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;500&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;Title for menus:&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;TextBox &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fMenuTitle&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;300px&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;MaxLength&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;50&amp;quot;/&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;td&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;tr&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
        &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;table&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;ShadePadBox&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section2&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Title&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Page Content&amp;quot;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;TextBox &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fHtml&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;100%&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Height&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;150px&amp;quot; /&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Buttons --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Section3&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;PadBox &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;PadBox1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CssClass&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Pad5Button&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Button &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnSave&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Text&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Save&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;OnClick&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnSave_Click&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CssClass&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;button&amp;quot;/&amp;gt;&lt;/span&gt;&lt;span style="color: red"&gt;&amp;amp;nbsp;&amp;amp;nbsp;&amp;amp;nbsp;
    &lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Button &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnCancel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Text&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Cancel&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;OnClick&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;btnCancel_Click&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;CausesValidation&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;False&amp;quot;/&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;PadBox&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Section&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: green"&gt;-- Validators --&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;RequiredFieldValidator &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;RequiredFieldValidator1&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ControlToValidate&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPath&amp;quot;
    &lt;/span&gt;&lt;span style="color: red"&gt;ErrorMessage&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;You must specify the path for this page&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Display&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;None&amp;quot;/&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;RequiredFieldValidator &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;RequiredFieldValidator2&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ControlToValidate&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fPageTitle&amp;quot; 
    &lt;/span&gt;&lt;span style="color: red"&gt;ErrorMessage&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;You must specify the title of this page&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Display&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;None&amp;quot;/&amp;gt;


&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;flux&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;HostTable&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;form&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;body&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Step 7 - creating some content&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="77" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Ssd-JjyNvcI/AAAAAAAAAHg/qvywonmZTDs/image%5B74%5D.png?imgmax=800" width="244" border="0" /&gt;&lt;/p&gt;

&lt;p&gt;1. Open the administration console (&lt;a href="http://localhost/[youralias]/admin/"&gt;http://localhost/[youralias]/admin/&lt;/a&gt;) and select &amp;quot;Content Management&amp;quot; from the right hand menu.&amp;#160; You should be presented with an empty cms as follows;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="407" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Ssd-KWrKaTI/AAAAAAAAAHk/C6LJwlAaWgo/image%5B78%5D.png?imgmax=800" width="439" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;2. Click &amp;quot;Add new&amp;quot; in the actions panel and you will be presented with the new &amp;quot;website channel&amp;quot; form which we defined earlier. This is presented immediately without asking what sort of content you wish to create as it's the only type that can be added to the root like this.&lt;/p&gt;

&lt;p&gt;3. Enter test for the channel name and path as below and click save.&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="239" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Ssd-K4F1rZI/AAAAAAAAAHo/ZSmfVqCecYY/image%5B83%5D.png?imgmax=800" width="577" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;4. Now click the &amp;quot;test&amp;quot; node in the tree view to the left and then click &amp;quot;Add new&amp;quot;. This will present the form for adding a page, again as defined above. Define a home page as follows;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="331" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-LdBwp5I/AAAAAAAAAHs/j30aym-EE7A/image%5B87%5D.png?imgmax=800" width="584" border="0" /&gt; &lt;/p&gt;

&lt;p&gt; 5. Repeat the process to create another new page called &amp;quot;About us&amp;quot;.&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="396" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-L9vyauI/AAAAAAAAAHw/G5H3LSus7Wk/image%5B92%5D.png?imgmax=800" width="586" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;6. You should now have a site defined as follows;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="107" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Ssd-MAVD7pI/AAAAAAAAAH0/CDS0iyI7EIc/image%5B95%5D.png?imgmax=800" width="174" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;7. And you will notice that all of your pages presently are shown with a green icon indicating they are checked out for editing by you. &lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="105" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-MpsbV1I/AAAAAAAAAH4/hIK5p8K0Hsk/image%5B98%5D.png?imgmax=800" width="219" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;8. In order for this content to appear on the site, it must be checked in, and optionally validated through the workflow processes. An easy way to check everything in quickly is to go back to the admin home page and select the items that are checked out to you and check them all in in one go. Alternatively, select each in turn and click check-in.&lt;/p&gt;

&lt;p&gt;9. Once they are checked in they should present in blue;&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="126" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-M8SqcBI/AAAAAAAAAH8/KzR_tLAEAAo/image%5B101%5D.png?imgmax=800" width="244" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Step 7a - using a WYSIWYG editor&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A downside to what we've seen so far is our editor is free text. It doesn't allow us to write bold, italics, insert images etc. As such, we would normally obtain a WYSIWYG editor and embed that instead. In this instance, you could grab the latest version of FCKEditor, which is my favourite editor that works well across all browsers. Normally we'd download FCK editor's latest source and then apply flux specific changes to it, to allow the editor to use the standard flux asset and link browsers. Feel free to use this process, or to save time, you can download the basic starter kit which I am producing as a result of this article from our codeplex site. For those interested however, to use a WYSIWYG editor like this we would;&lt;/p&gt;

&lt;p&gt;1. Download the latest FCKEditor and apply flux specific changes to it (replace the asset and link browser).&lt;/p&gt;

&lt;p&gt;2. Extract it's contents to a folder in your site called /FCKEditor&lt;/p&gt;

&lt;p&gt;3.&amp;#160; Copy the FredCK.FCKEditorV2.dll into your site's Bin directory.&lt;/p&gt;

&lt;p&gt;4. Create a folder in settings called common and create a custom user control in there with the name fckEditor.ascx. The content of the ASCX should be as follows;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Control &lt;/span&gt;&lt;span style="color: red"&gt;Language&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;C#&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;AutoEventWireup&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;true&amp;quot; &lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Register &lt;/span&gt;&lt;span style="color: red"&gt;TagPrefix&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fck&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;FredCK.FCKeditorV2&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Assembly&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;FredCK.FCKEditorV2&amp;quot; &lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;

&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;script &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    public string &lt;/span&gt;Value
    {
        &lt;span style="color: blue"&gt;get
        &lt;/span&gt;{
            &lt;span style="color: blue"&gt;return &lt;/span&gt;fContent.Value;
        }

        &lt;span style="color: blue"&gt;set
        &lt;/span&gt;{
            fContent.Value = &lt;span style="color: blue"&gt;value&lt;/span&gt;;
        }
    }
    
    &lt;span style="color: blue"&gt;protected void &lt;/span&gt;Page_Load(&lt;span style="color: blue"&gt;object &lt;/span&gt;sender, &lt;span style="color: #2b91af"&gt;EventArgs &lt;/span&gt;e)
    {
        &lt;span style="color: blue"&gt;if &lt;/span&gt;(!Page.IsPostBack)
        {
            fContent.BasePath = &lt;span style="color: #a31515"&gt;&amp;quot;~/FCKEditor/&amp;quot;&lt;/span&gt;;
            fContent.ToolbarSet = &lt;span style="color: #a31515"&gt;&amp;quot;Default&amp;quot;&lt;/span&gt;;
        }
    }
&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;script&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;fck&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;FCKeditor &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;fContent&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Height&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;200px&amp;quot;/&amp;gt;
&lt;/span&gt;&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;5. We then replace the textbox in form.aspx for the Page content type;&lt;/p&gt;

&lt;p&gt;6. From here, the editor should allow us to display html etc.&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="282" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Ssd-NXnCVwI/AAAAAAAAAIA/OCvr9Y6QAFM/image%5B105%5D.png?imgmax=800" width="429" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Step 8 - setting up mappings and wiring it up&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Flux is capable of doing URL re-writing for you, and is capable of being multi-homed against different domains etc as a result. In order to tell flux which folder to get it's content from for different domains and which page is the home page, we need to use the mapping tool.&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="158" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Ssd-OHCCDaI/AAAAAAAAAIE/Dpt7nfyxP4g/image%5B108%5D.png?imgmax=800" width="237" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;1. Open website mappings and select to add a new mapping&lt;/p&gt;

&lt;p&gt;2. The domain we're adding a mapping for during development here is localhost, so enter that into the domain field.&lt;/p&gt;

&lt;p&gt;3. Select the &amp;quot;test&amp;quot; root node as the site's content root node - this determines which node contains all the content for this domain.&lt;/p&gt;

&lt;p&gt;4. Select the &amp;quot;home&amp;quot; node as the site's home page node.&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="117" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Ssd-OU3hc_I/AAAAAAAAAII/655RQwIXViM/image%5B111%5D.png?imgmax=800" width="174" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;5. Click save. You have successfully setup the mapping between the domain and the content.&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="265" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-O6ByoXI/AAAAAAAAAIM/cRAlmt0tWGg/image%5B115%5D.png?imgmax=800" width="621" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;6. As flux doesn't force you to use the URL re-writer engine, we must now hook this up in code. Create a default.aspx web form in the root of your site and set it's content as follows; This simply redirects to the correct URI whenever someone accesses the site.&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Page &lt;/span&gt;&lt;span style="color: red"&gt;Language&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;C#&amp;quot; &lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Import &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.Systems.URLRewriter&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;

&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;script &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
protected void &lt;/span&gt;Page_Load()
{
    &lt;span style="color: #2b91af"&gt;Rewriter &lt;/span&gt;rw = &lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;Rewriter&lt;/span&gt;();
    rw.RewriteFromHome( Context );
}
&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;script&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Step 9 - Writing the rendering template for the worlds most basic content type&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;With the domain maps etc in place, we're ready now to show the content we've created to the world. If you navigate now to your site, you will get an error saying it can't find the render template for the page. That's because we still need to create it.&lt;/p&gt;

&lt;p&gt;1. Create a new web form - /settings/types/page/render.aspx and set it's content as follows;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Page &lt;/span&gt;&lt;span style="color: red"&gt;Language&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;C#&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Import &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Deepcode.Flux.Core.Systems.CMS&amp;quot; &lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;@ &lt;/span&gt;&lt;span style="color: #a31515"&gt;Import &lt;/span&gt;&lt;span style="color: red"&gt;Namespace&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;System.Linq&amp;quot; &lt;/span&gt;&lt;span style="background: #ffee62"&gt;%&amp;gt;
&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;script &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
    protected &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ContentObject &lt;/span&gt;Content { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;private set&lt;/span&gt;; }

    &lt;span style="color: blue"&gt;protected override void &lt;/span&gt;OnLoad(&lt;span style="color: #2b91af"&gt;EventArgs &lt;/span&gt;e)
    {
        Content = &lt;span style="color: #2b91af"&gt;ContentQuery&lt;/span&gt;.GetByID(&lt;span style="color: #2b91af"&gt;Int32&lt;/span&gt;.Parse(Request[&lt;span style="color: #a31515"&gt;&amp;quot;nodeid&amp;quot;&lt;/span&gt;]));
        &lt;span style="color: blue"&gt;if &lt;/span&gt;(Content == &lt;span style="color: blue"&gt;null&lt;/span&gt;) Response.Redirect(&lt;span style="color: #a31515"&gt;&amp;quot;~/&amp;quot;&lt;/span&gt;, &lt;span style="color: blue"&gt;true&lt;/span&gt;);
    
        Page.Title = Content.NodeTitle; 
        html.Text = Content.Fields[&lt;span style="color: #a31515"&gt;&amp;quot;BodyContent&amp;quot;&lt;/span&gt;];
        
        &lt;span style="color: green"&gt;// Get the menu together by querying everything within my parent....
        &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ContentQuery &lt;/span&gt;query = &lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ContentQuery&lt;/span&gt;();
        query.BaseMatch.AND(&lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;StaticFieldMatch&lt;/span&gt;(
            &lt;span style="color: #2b91af"&gt;ContentStaticField&lt;/span&gt;.ParentID, 
            &lt;span style="color: #2b91af"&gt;ContentQueryOperator&lt;/span&gt;.EQ, 
            Content.FK_ParentID));
    
        menu.DataSource = &lt;span style="color: blue"&gt;from &lt;/span&gt;c &lt;span style="color: blue"&gt;in &lt;/span&gt;query.GetMatching() 
                          &lt;span style="color: blue"&gt;select new 
                          &lt;/span&gt;{ 
                              Url = Page.ResolveUrl(&lt;span style="color: #2b91af"&gt;String&lt;/span&gt;.Format(&lt;span style="color: #a31515"&gt;&amp;quot;~/{0}/{1}.aspx&amp;quot;&lt;/span&gt;, 
                                      c.NodePath, c.NodeName)), 
                              Title = c.NodeTitle };
        menu.DataBind();
        
        
        &lt;span style="color: blue"&gt;base&lt;/span&gt;.OnLoad(e);
    }
&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;script&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;head &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;/&amp;gt;
&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;body&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;div&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Repeater &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;menu&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;&amp;gt;
        &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;ItemTemplate&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
            &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;a &lt;/span&gt;&lt;span style="color: red"&gt;href&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;&lt;/span&gt;&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;#Eval(&amp;quot;Url&amp;quot;)&lt;span style="background: #ffee62"&gt;%&amp;gt;&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;quot;&amp;gt;&lt;/span&gt;[&lt;span style="background: #ffee62"&gt;&amp;lt;%&lt;/span&gt;&lt;span style="color: blue"&gt;#&lt;/span&gt;Eval(&lt;span style="color: #a31515"&gt;&amp;quot;Title&amp;quot;&lt;/span&gt;)&lt;span style="background: #ffee62"&gt;%&amp;gt;&lt;/span&gt;]&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;a&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt; &lt;/span&gt;&lt;span style="color: red"&gt;&amp;amp;middot;
        &lt;/span&gt;&lt;span style="color: blue"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;ItemTemplate&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Repeater&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
    &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;div&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;

    &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;asp&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: #a31515"&gt;Literal &lt;/span&gt;&lt;span style="color: red"&gt;ID&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;html&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;runat&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;server&amp;quot;/&amp;gt;

&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;body&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
&amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;html&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

&lt;p&gt;You should now be able to navigate to your site and view a basic page with a simple menu:&lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="134" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-PVOw0ZI/AAAAAAAAAIQ/HBElTHwz4Yo/image%5B118%5D.png?imgmax=800" width="244" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="114" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Ssd-QHThoGI/AAAAAAAAAIU/NMCzgGbqvKE/image%5B121%5D.png?imgmax=800" width="225" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Step 10 - What next?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Well, that was the overview for how to get a basic CMS up and running. It's quite complex, but this means that flux isn't prescriptive about anything - if you don't want to use it to define the actual structure of your site, you don't have to, you can use it as a content repository, and ask it for content as necessary. In fact this approach works quite well when building complex sites. You can even setup flux to work with the excellent ASP.NET MVC framework. Simply have one site for the admin and another site (the MVC app) for the front end, which in turn uses the flux API's to get at it's data.&lt;/p&gt;

&lt;p&gt;Whilst this was an overview, I am intent now on packaging this as a sample onto codeplex (&lt;a href="http://flux.codeplex.com"&gt;http://flux.codeplex.com&lt;/a&gt;) so that it can be used as a starting point very quickly without repeating all the steps above.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Notes on live deployment&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;When installing your finished product onto your deployment site, chances are you are installing to a shared environment where IIS is already configured for you and the database is already created, but empty. In this case, all you need to do to deploy the first time is;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;FTP all of your files up to the server&lt;/li&gt;

  &lt;li&gt;On the first instance, delete settings/flux.config so that the database scripts are executed&lt;/li&gt;

  &lt;li&gt;Login to &lt;a href="http://[yoursite.com]/admin/setup/install/"&gt;http://[yoursite.com]/admin/setup/install/&lt;/a&gt; to walk through the installation process&lt;/li&gt;

  &lt;li&gt;Create your content and domain mappings.....&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;From then on, if you change your template code etc, you just need to re-deploy your files.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6146562733844048409/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/10/10-step-guide-to-getting-basic-fluxnet.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6146562733844048409'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6146562733844048409'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/10/10-step-guide-to-getting-basic-fluxnet.html' title='10 Step guide to getting a basic FLUX.NET CMS site up.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/_ywGSbBn2y0E/Ssd-ECYc4PI/AAAAAAAAAGw/JDNmzOXVYlw/s72-c/image%5B40%5D.png?imgmax=800' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2960095477745602275</id><published>2009-09-22T16:54:00.001+01:00</published><updated>2009-09-22T16:54:20.465+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><title type='text'>Visual Studio 2008 crapping out when debugging?</title><content type='html'>&lt;p&gt;Had a weird issue today where visual studio would blow up when I finished debugging a unit test. Turns out, the bug wasn’t anything to do with debugging or unit testing etc, but a bug in visual studio 2008 that may manifest if you changed your panel layouts. Each time I debugged the test, I was moving the immediate window from it’s default position to be docked with the other debug windows at the bottom of the screen and it was this that was causing the crash. There’s a hotfix available from the Microsoft bods:&lt;/p&gt;  &lt;p&gt;&lt;a title="http://code.msdn.microsoft.com/KB960075" href="http://code.msdn.microsoft.com/KB960075"&gt;http://code.msdn.microsoft.com/KB960075&lt;/a&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2960095477745602275/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/09/visual-studio-2008-crapping-out-when.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2960095477745602275'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2960095477745602275'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/09/visual-studio-2008-crapping-out-when.html' title='Visual Studio 2008 crapping out when debugging?'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1612961301664478375</id><published>2009-07-29T09:21:00.001+01:00</published><updated>2009-07-29T09:21:31.985+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='NHibernate'/><title type='text'>NHibernate N:N relationships</title><content type='html'>&lt;p&gt;NHibernate provides the facility to map out many-to-many relationships without the need for the intersection table to be represented in the object model. Take for example, the following schema of Users, Roles and the intersection table that links users to many roles and roles to many users;&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="150" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/SnAGiBcfVcI/AAAAAAAAAFY/Bb-MQjN7ZTc/image%5B2%5D.png?imgmax=800" width="910" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;We then have the following object model to represent this;&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="188" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SnAGilMqrtI/AAAAAAAAAFc/ZJvXwMr--lU/image%5B6%5D.png?imgmax=800" width="567" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;or, in code if you prefer;&lt;/p&gt;  &lt;pre class="code"&gt;&lt;span style="color: blue"&gt;public class &lt;/span&gt;&lt;span style="color: #2b91af"&gt;User
&lt;/span&gt;{
    &lt;span style="color: green"&gt;// Fields
    &lt;/span&gt;&lt;span style="color: blue"&gt;public virtual &lt;/span&gt;&lt;span style="color: #2b91af"&gt;Guid &lt;/span&gt;Id { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }
    &lt;span style="color: blue"&gt;public virtual string &lt;/span&gt;UserName { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }
    &lt;span style="color: blue"&gt;public virtual string &lt;/span&gt;Email { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }

    &lt;span style="color: green"&gt;// Storage for the roles that this user belongs to
    &lt;/span&gt;&lt;span style="color: blue"&gt;private readonly &lt;/span&gt;&lt;span style="color: #2b91af"&gt;IList&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;Role&lt;/span&gt;&amp;gt; _roles = &lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;List&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;Role&lt;/span&gt;&amp;gt;();

    &lt;span style="color: green"&gt;// Accessor to list of roles - note we don't return list
    // that we can add/remove from - we use methods to do that
    // so we can implement any business logic.
    &lt;/span&gt;&lt;span style="color: blue"&gt;public virtual &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ReadOnlyCollection&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;Role&lt;/span&gt;&amp;gt; Roles
    {
        &lt;span style="color: blue"&gt;get 
        &lt;/span&gt;{ 
            &lt;span style="color: blue"&gt;return new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ReadOnlyCollection&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;Role&lt;/span&gt;&amp;gt;(_roles);
        }
    }

    &lt;span style="color: green"&gt;// Method to associate a role with this user
    &lt;/span&gt;&lt;span style="color: blue"&gt;public virtual void &lt;/span&gt;AddRole( &lt;span style="color: #2b91af"&gt;Role &lt;/span&gt;role )
    {
        _roles.Add( role );
    }

    &lt;span style="color: green"&gt;// Method to remove a role from this user
    &lt;/span&gt;&lt;span style="color: blue"&gt;public virtual void &lt;/span&gt;RemoveRole( &lt;span style="color: #2b91af"&gt;Role &lt;/span&gt;role )
    {
        _roles.Remove(role);
    }
}&lt;/pre&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;public class &lt;/span&gt;&lt;span style="color: #2b91af"&gt;Role
&lt;/span&gt;{
    &lt;span style="color: green"&gt;// Fields
    &lt;/span&gt;&lt;span style="color: blue"&gt;public virtual &lt;/span&gt;&lt;span style="color: #2b91af"&gt;Guid &lt;/span&gt;Id { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }
    &lt;span style="color: blue"&gt;public virtual string &lt;/span&gt;Name { &lt;span style="color: blue"&gt;get&lt;/span&gt;; &lt;span style="color: blue"&gt;set&lt;/span&gt;; }

    &lt;span style="color: green"&gt;// Storage for the users that have this role
    &lt;/span&gt;&lt;span style="color: blue"&gt;private readonly &lt;/span&gt;&lt;span style="color: #2b91af"&gt;IList&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;User&lt;/span&gt;&amp;gt; _users = &lt;span style="color: blue"&gt;new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;List&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;User&lt;/span&gt;&amp;gt;();

    &lt;span style="color: green"&gt;// Returns list of users belonging to this role
    // Notice this can't be added or removed from.
    // Nor is there any logic to add users into roles
    // as the link is maintained from the User object.
    &lt;/span&gt;&lt;span style="color: blue"&gt;public virtual &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ReadOnlyCollection&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;User&lt;/span&gt;&amp;gt; Users
    {
        &lt;span style="color: blue"&gt;get
        &lt;/span&gt;{
            &lt;span style="color: blue"&gt;return new &lt;/span&gt;&lt;span style="color: #2b91af"&gt;ReadOnlyCollection&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;User&lt;/span&gt;&amp;gt;(_users);
        }
    }
}&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;Notice that the relationship between users and roles is maintained and owned in the user object, not role. The role object just gives us information about which users belong to a role, but we can’t add or remove users into it without loading the user and accessing it’s Add/Remove Role methods. We can map this out as follows (notice, I’m using Fluent mappings for NHibernate here);&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;public class &lt;/span&gt;&lt;span style="color: #2b91af"&gt;UserMap &lt;/span&gt;: &lt;span style="color: #2b91af"&gt;ClassMap&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;User&lt;/span&gt;&amp;gt;
{
    &lt;span style="color: blue"&gt;public &lt;/span&gt;UserMap()
    {
        &lt;span style="color: blue"&gt;base&lt;/span&gt;.Id(x =&amp;gt; x.Id).GeneratedBy.GuidComb();
        &lt;span style="color: blue"&gt;base&lt;/span&gt;.Map(x =&amp;gt; x.UserName);
        &lt;span style="color: blue"&gt;base&lt;/span&gt;.Map(x =&amp;gt; x.Email);

        HasManyToMany&amp;lt;&lt;span style="color: #2b91af"&gt;Role&lt;/span&gt;&amp;gt;(&lt;span style="color: #2b91af"&gt;Reveal&lt;/span&gt;.Property&amp;lt;&lt;span style="color: #2b91af"&gt;User&lt;/span&gt;&amp;gt;(&lt;span style="color: #a31515"&gt;&amp;quot;_roles&amp;quot;&lt;/span&gt;))
            .LazyLoad()
            .AsBag()
            .WithTableName(&lt;span style="color: #a31515"&gt;&amp;quot;UserRoles&amp;quot;&lt;/span&gt;)
            .WithParentKeyColumn(&lt;span style="color: #a31515"&gt;&amp;quot;UserId&amp;quot;&lt;/span&gt;)
            .WithChildKeyColumn(&lt;span style="color: #a31515"&gt;&amp;quot;RoleId&amp;quot;&lt;/span&gt;)
            .Access.AsReadOnlyPropertyThroughCamelCaseField(&lt;span style="color: #2b91af"&gt;Prefix&lt;/span&gt;.Underscore)
            .Cascade.All();
    }
}

&lt;span style="color: blue"&gt;public class &lt;/span&gt;&lt;span style="color: #2b91af"&gt;RoleMap &lt;/span&gt;: &lt;span style="color: #2b91af"&gt;ClassMap&lt;/span&gt;&amp;lt;&lt;span style="color: #2b91af"&gt;Role&lt;/span&gt;&amp;gt;
{
    &lt;span style="color: blue"&gt;public &lt;/span&gt;RoleMap()
    {
        &lt;span style="color: blue"&gt;base&lt;/span&gt;.Id(x =&amp;gt; x.Id).GeneratedBy.GuidComb();
        &lt;span style="color: blue"&gt;base&lt;/span&gt;.Map(x =&amp;gt; x.Name);

        HasManyToMany&amp;lt;&lt;span style="color: #2b91af"&gt;User&lt;/span&gt;&amp;gt;(&lt;span style="color: #2b91af"&gt;Reveal&lt;/span&gt;.Property&amp;lt;&lt;span style="color: #2b91af"&gt;Role&lt;/span&gt;&amp;gt;(&lt;span style="color: #a31515"&gt;&amp;quot;_users&amp;quot;&lt;/span&gt;))
            .LazyLoad()
            .AsBag().Inverse()
            .WithTableName(&lt;span style="color: #a31515"&gt;&amp;quot;UserRoles&amp;quot;&lt;/span&gt;)
            .WithParentKeyColumn(&lt;span style="color: #a31515"&gt;&amp;quot;RoleId&amp;quot;&lt;/span&gt;)
            .WithChildKeyColumn(&lt;span style="color: #a31515"&gt;&amp;quot;UserId&amp;quot;&lt;/span&gt;)
            .Cascade.None();
    }
}&lt;/pre&gt;

&lt;p&gt;Notice that the role map has .Inverse() set, which indicates that it is not the owner of the relationship. &lt;/p&gt;

&lt;p&gt;That is pretty much all there is to it, NHibernate will take care of maintaining the relationship table for you.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1612961301664478375/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/07/nhibernate-nn-relationships.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1612961301664478375'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1612961301664478375'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/07/nhibernate-nn-relationships.html' title='NHibernate N:N relationships'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/_ywGSbBn2y0E/SnAGiBcfVcI/AAAAAAAAAFY/Bb-MQjN7ZTc/s72-c/image%5B2%5D.png?imgmax=800' height='72' width='72'/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5701992010189537833</id><published>2009-07-28T16:24:00.001+01:00</published><updated>2009-07-28T16:24:42.211+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='NHibernate'/><title type='text'>Query NHibernate – Simple query patterns</title><content type='html'>&lt;p&gt;There are a variety of ways to query NHibernate, including using HQL, the criteria API, Linq2NH, and the criteria API tied up with the Lambda extensions. My preference is the criteria API as it’s a powerful way of expressing dynamic queries. I’m going to explore how we go about implementing some of the more basic query patterns using this API;&lt;/p&gt;  &lt;p&gt;Given the following database as an example, where a location can be split into multiple sub-locations, each sub-location belonging to a cost centre, we’ll drive out some simple queries; &lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="371" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/Sm8YOT0TK1I/AAAAAAAAAFU/ko86w7R8wXE/image5.png?imgmax=800" width="608" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;First off, a simple location query by name;&lt;/p&gt;  &lt;pre class="code"&gt;&lt;span style="color: #2b91af"&gt;ICriteria &lt;/span&gt;c =
    session.CreateCriteria(&lt;span style="color: blue"&gt;typeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;Location&lt;/span&gt;))
    .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Eq(&lt;span style="color: #a31515"&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Manchester&amp;quot;&lt;/span&gt;));&lt;/pre&gt;

&lt;p&gt;Next, a query that will check the name contains particular text and the postcode starts with text provided.&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: #2b91af"&gt;ICriteria &lt;/span&gt;c =
    session.CreateCriteria(&lt;span style="color: blue"&gt;typeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;Location&lt;/span&gt;))
    .Add( &lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Conjunction()
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Like(&lt;span style="color: #a31515"&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;%manchester%&amp;quot;&lt;/span&gt;))
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Like(&lt;span style="color: #a31515"&gt;&amp;quot;Postcode&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;M60%&amp;quot;&lt;/span&gt;)));&lt;/pre&gt;

&lt;p&gt;&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;How about looking for all sub locations where it’s parent location has a postcode of M60*?&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: #2b91af"&gt;ICriteria &lt;/span&gt;c = session.CreateCriteria(&lt;span style="color: blue"&gt;typeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;SubLocation&lt;/span&gt;))
    .CreateAlias(&lt;span style="color: #a31515"&gt;&amp;quot;Location&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;l&amp;quot;&lt;/span&gt;)
    .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Like(&lt;span style="color: #a31515"&gt;&amp;quot;l.Postcode&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;M60%&amp;quot;&lt;/span&gt;));&lt;/pre&gt;

&lt;p&gt;&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;Going further, how about finding all sub locations where some text can be found either in the sub location name, the location name, location address, location postcode or cost centre name? Simples….&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: #2b91af"&gt;ICriteria &lt;/span&gt;criteria = session.CreateCriteria(&lt;span style="color: blue"&gt;typeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;SubLocation&lt;/span&gt;))
    .CreateAlias(&lt;span style="color: #a31515"&gt;&amp;quot;Location&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;l&amp;quot;&lt;/span&gt;)
    .CreateAlias(&lt;span style="color: #a31515"&gt;&amp;quot;CostCentre&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;cc&amp;quot;&lt;/span&gt;)
    .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Disjunction()
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Like(&lt;span style="color: #a31515"&gt;&amp;quot;Name&amp;quot;&lt;/span&gt;, freeTextToMatch))
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Like(&lt;span style="color: #a31515"&gt;&amp;quot;l.Name&amp;quot;&lt;/span&gt;, freeTextToMatch))
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Like(&lt;span style="color: #a31515"&gt;&amp;quot;l.Address&amp;quot;&lt;/span&gt;, freeTextToMatch))
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Like(&lt;span style="color: #a31515"&gt;&amp;quot;l.Postcode&amp;quot;&lt;/span&gt;, freeTextToMatch))
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Like(&lt;span style="color: #a31515"&gt;&amp;quot;cc.Name&amp;quot;&lt;/span&gt;, freeTextToMatch)));&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;What about finding all locations that have more than one sub location?&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: #2b91af"&gt;DetachedCriteria &lt;/span&gt;subquery = &lt;span style="color: #2b91af"&gt;DetachedCriteria&lt;/span&gt;.For(&lt;span style="color: blue"&gt;typeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;SubLocation&lt;/span&gt;))
   .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.EqProperty(&lt;span style="color: #a31515"&gt;&amp;quot;l.Id&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Location.Id&amp;quot;&lt;/span&gt;))
    .SetProjection(&lt;span style="color: #2b91af"&gt;Projections&lt;/span&gt;.Count(&lt;span style="color: #a31515"&gt;&amp;quot;Id&amp;quot;&lt;/span&gt;));

&lt;span style="color: #2b91af"&gt;ICriteria &lt;/span&gt;criteria = session.CreateCriteria(&lt;span style="color: blue"&gt;typeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;Location&lt;/span&gt;), &lt;span style="color: #a31515"&gt;&amp;quot;l&amp;quot;&lt;/span&gt;)
    .Add(&lt;span style="color: #2b91af"&gt;Subqueries&lt;/span&gt;.Lt(1, subquery));&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;It’s a bit more complicated, but the first bit creates a reusable query that will look for sub locations where the sub location’s parent location Id is of the same value as the Id property of the aliased object “l” passed into the query. It then projects the results into a count against the Id property.&lt;/p&gt;

&lt;p&gt;The second part then creates a criteria that will find all locations, aliased as “l” (for the sub query above), and execute the given subquery, ensuring that the result is &amp;gt; 1.&lt;/p&gt;

&lt;p&gt;Finally, getting a bit more complex, find all locations having more than one sub location in cost centre named “ENGINEERING”?&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: #2b91af"&gt;DetachedCriteria &lt;/span&gt;subquery = &lt;span style="color: #2b91af"&gt;DetachedCriteria&lt;/span&gt;.For(&lt;span style="color: blue"&gt;typeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;SubLocation&lt;/span&gt;))
        .CreateAlias(&lt;span style="color: #a31515"&gt;&amp;quot;CostCentre&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;cc&amp;quot;&lt;/span&gt;)
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.EqProperty(&lt;span style="color: #a31515"&gt;&amp;quot;l.Id&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;Location.Id&amp;quot;&lt;/span&gt;))
        .Add(&lt;span style="color: #2b91af"&gt;Restrictions&lt;/span&gt;.Eq(&lt;span style="color: #a31515"&gt;&amp;quot;cc.Name&amp;quot;&lt;/span&gt;, &lt;span style="color: #a31515"&gt;&amp;quot;ENGINEERING&amp;quot;&lt;/span&gt;))
        .SetProjection(&lt;span style="color: #2b91af"&gt;Projections&lt;/span&gt;.Count(&lt;span style="color: #a31515"&gt;&amp;quot;Id&amp;quot;&lt;/span&gt;));

&lt;span style="color: #2b91af"&gt;ICriteria &lt;/span&gt;criteria = session.CreateCriteria(&lt;span style="color: blue"&gt;typeof&lt;/span&gt;(&lt;span style="color: #2b91af"&gt;Location&lt;/span&gt;), &lt;span style="color: #a31515"&gt;&amp;quot;l&amp;quot;&lt;/span&gt;)
        .Add(&lt;span style="color: #2b91af"&gt;Subqueries&lt;/span&gt;.Lt(1, subquery));&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5701992010189537833/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/07/query-nhibernate-simple-query-patterns.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5701992010189537833'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5701992010189537833'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/07/query-nhibernate-simple-query-patterns.html' title='Query NHibernate – Simple query patterns'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/_ywGSbBn2y0E/Sm8YOT0TK1I/AAAAAAAAAFU/ko86w7R8wXE/s72-c/image5.png?imgmax=800' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2412009726856526610</id><published>2009-07-28T15:10:00.001+01:00</published><updated>2009-07-28T15:10:41.988+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Testing'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Rhino – Mock versus Stub</title><content type='html'>&lt;p&gt;Questions always pop up on when we should use mocks and when we should use stubs.&lt;/p&gt;  &lt;p&gt;To summarise the differences;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Stubs&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Provide canned answers to calls made during tests&lt;/li&gt;      &lt;li&gt;Don’t respond to anything else&lt;/li&gt;   &lt;/ul&gt;    &lt;li&gt;Mocks&lt;/li&gt;    &lt;ul&gt;     &lt;li&gt;Setup expectations - behaviour that will be verified as part of the test&lt;/li&gt;   &lt;/ul&gt; &lt;/ul&gt;  &lt;p&gt;Links to articles that discuss same:&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;&lt;a title="http://ayende.com/Blog/archive/2008/05/16/Rhino-Mocks--Arrange-Act-Assert-Syntax.aspx" href="http://ayende.com/Blog/archive/2008/05/16/Rhino-Mocks--Arrange-Act-Assert-Syntax.aspx"&gt;http://ayende.com/Blog/archive/2008/05/16/Rhino-Mocks--Arrange-Act-Assert-Syntax.aspx&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a title="http://www.codinghorror.com/blog/archives/000765.html" href="http://www.codinghorror.com/blog/archives/000765.html"&gt;http://www.codinghorror.com/blog/archives/000765.html&lt;/a&gt;&lt;/li&gt;    &lt;li&gt;&lt;a title="http://www.jameskovacs.com/blog/CommentView.aspx?guid=5fadfdbc-e4cc-44bd-82a1-a34490f142a2" href="http://www.jameskovacs.com/blog/CommentView.aspx?guid=5fadfdbc-e4cc-44bd-82a1-a34490f142a2"&gt;http://www.jameskovacs.com/blog/CommentView.aspx?guid=5fadfdbc-e4cc-44bd-82a1-a34490f142a2&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2412009726856526610/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/07/rhino-mock-versus-stub.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2412009726856526610'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2412009726856526610'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/07/rhino-mock-versus-stub.html' title='Rhino – Mock versus Stub'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1831749792796137790</id><published>2009-05-09T19:59:00.001+01:00</published><updated>2009-05-09T19:59:39.909+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><title type='text'>Why-o-why is this so difficult!</title><content type='html'>&lt;p&gt;This is really getting my goat today – I’ve been looking around for a week now for some way of sucking out the content of my old blog (community server 2.1, self hosted) and spitting it out into my new host (blogger.com). I want to take across all of the content, including attachments, images, posting dates and tags etc, but there is nothing out there that seems to do a particularly adequate job!&lt;/p&gt;  &lt;p&gt;Blogging has been around for a while now, and regardless of the type of host we use, blog articles are largely all the same – they have a title, some rich text, inline images, tags, attachments and a publishing date time. How hard can it be to come up with a canonical format to easily move this content into and out of different hosts and have all the hosts support that standard.&lt;/p&gt;  &lt;p&gt;Hard is all I can assume as it’s not been done in the years that blogging has been around, with the exception of half hearted attempts at standardisation like with BlogML, which doesn’t deliver on the objectives I’ve mentioned.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1831749792796137790/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/05/why-o-why-is-this-so-difficult.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1831749792796137790'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1831749792796137790'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/05/why-o-why-is-this-so-difficult.html' title='Why-o-why is this so difficult!'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2701163061140569602</id><published>2009-03-04T22:15:00.000Z</published><updated>2009-05-11T01:05:04.984+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Using Regular Expressions to identify HTML tags</title><content type='html'>&lt;p&gt;In many situations we might find ourselves looking to find specific HTML tags within a fragment in order to process them in some way. A good example would be a HTML “white list” of tags that you want to pre-process to allow through anti cross site scripting encoding.&lt;/p&gt;  &lt;p&gt;The following regular expression will find all tags specified (highlighted red) in the input, regardless of them being start tags, end tags, self terminating tags and irrespective of the number of attributes etc.&lt;/p&gt;  &lt;p&gt;&lt;font face="Courier New" color="#008000" size="4"&gt;&amp;lt;[/]?(&lt;font color="#ff0000"&gt;P|B|I&lt;/font&gt;)(/&amp;gt;|\s/&amp;gt;|\s[\S|\s]*?&amp;gt;|&amp;gt;)&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;This will also return correct results when looking for &amp;lt;I&amp;gt; tags in that it won’t incorrectly allow &amp;lt;IMG&amp;gt; to be a positive match.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2701163061140569602/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/03/using-regular-expressions-to-identify_04.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2701163061140569602'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2701163061140569602'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/03/using-regular-expressions-to-identify_04.html' title='Using Regular Expressions to identify HTML tags'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5179436476698901715</id><published>2009-01-21T15:32:00.000Z</published><updated>2009-05-11T01:05:10.092+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='NHibernate'/><category scheme='http://www.blogger.com/atom/ns#' term='SQL'/><category scheme='http://www.blogger.com/atom/ns#' term='Links'/><title type='text'>NHibernate and schema creation/update</title><content type='html'>&lt;p&gt;A colleague of mine today enlightened me about one of the features in NHibernate that lets you completely ignore the whole issue of managing and updating database schema. You can use NH mappings to define the entire schema and let NH worry about creating the database and updating between the different versions.&lt;/p&gt;  &lt;p&gt;Back in the day I used to build data first, designing ERDs and sprocs before writing any code, and so I was a little worried about indexing, constraints, naming foreign keys and such like, but the schema is more than capable of articulating this too.&lt;/p&gt;  &lt;p&gt;Tying this up with Fluent NHibernate, strongly typed mapping files / auto map and you have a very powerful, quick to implement platform for domain driven data access.&lt;/p&gt;  &lt;p&gt;Here's an article that tells you all about it better than I can;&lt;/p&gt;  &lt;p&gt;&lt;a title="http://blogs.hibernatingrhinos.com/nhibernate/archive/2008/04/28/create-and-update-database-schema.aspx" href="http://blogs.hibernatingrhinos.com/nhibernate/archive/2008/04/28/create-and-update-database-schema.aspx"&gt;http://blogs.hibernatingrhinos.com/nhibernate/archive/2008/04/28/create-and-update-database-schema.aspx&lt;/a&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5179436476698901715/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2009/01/nhibernate-and-schema-creationupdate_21.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5179436476698901715'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5179436476698901715'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/01/nhibernate-and-schema-creationupdate_21.html' title='NHibernate and schema creation/update'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8902218262306497165</id><published>2008-12-20T22:08:00.000Z</published><updated>2009-05-11T01:05:47.317+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Silverlight'/><title type='text'>Building a Silverlight RSS reader - part 2 - getting the data.</title><content type='html'>&lt;p&gt;Continuing from part 1, we're now going to extend our Silverlight application to get data (available feeds and actual RSS postings) which we will shortly bind to in the UI.&lt;/p&gt;  &lt;p&gt;One of the things we need to work around is the cross domain security in Silverlight. It doesn't allow you to send any requests to services/sites outside of the domain in which the Silverlight xap is hosted without explicit permission from the service/site you're trying to call. This permission is granted by placing a &lt;a href="/2008/10/silverlight-and-cross-domain-services_27.html"&gt;cross domain policy file&lt;/a&gt; on the target server, but in our case we can't guarantee that our target RSS feed servers will have one in place.&lt;/p&gt;  &lt;p&gt;Silverlight has this restriction for a very good reason - it would be very easy to create a distributed denial of service attack using Silverlight if it was able to call any web resource directly. Imagine making a nice Silverlight app that is used by hundreds of people and putting a payload in there that cripples a target web site.&lt;/p&gt;  &lt;p&gt;To work around this we can send a request for data back to a web service in the ASP.NET application that is hosting the Silverlight application. This is then free to send a request to the target server for the data we're looking for (thereby circumventing any DDoS attack possibility as now all requests are coming from the server).&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Defining the feeds.      &lt;br /&gt;&lt;/strong&gt;Before we look at that though, we'll start with the simpler task of getting a list of available feeds. For this, create a feeds.xml file within your web solution (in the root) with content similar to the following. (feel free to replace with your own feeds).&lt;/p&gt;  &lt;div&gt;   &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;     &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;?&lt;/span&gt;&lt;span style="color: #800000"&gt;xml&lt;/span&gt; &lt;span style="color: #ff0000"&gt;version&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1.0&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;encoding&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;utf-8&amp;quot;&lt;/span&gt; ?&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;feeds&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;   &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;feed&lt;/span&gt; &lt;span style="color: #ff0000"&gt;id&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ScottGuthrie&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;title&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;Scott Guthrie&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;title&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;url&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;http://weblogs.asp.net/scottgu/rss.aspx&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;url&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;feed&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;feed&lt;/span&gt; &lt;span style="color: #ff0000"&gt;id&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Deepcode&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;title&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;Deepcode.co.uk&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;title&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;url&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;http://www.deepcode.co.uk/rss.aspx&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;url&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;feed&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;feed&lt;/span&gt; &lt;span style="color: #ff0000"&gt;id&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;AyendeRaihen&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;title&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;Ayende Raihen&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;title&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;url&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;http://feeds.feedburner.com/AyendeRahien?format=xml&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;url&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;   &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;feed&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;  &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;feeds&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Now that we have a list of feeds, we need to get this up to Silverlight and populate the drop down list of available feeds. We could use a web request to simply load the XML, but as we're going to be building a WCF service anyway to marshal requests out to feeds, we might as well piggy back on those contracts and have one cohesive service.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Defining the service, operation and data contracts. 
    &lt;br /&gt;&lt;/strong&gt;Now, under normal circumstances I'd advocate the use of several namespaces to separate and re-use the contracts etc. I'd have separate assemblies for the data contracts (RSSReader.Services.Contracts) another to define the &amp;quot;specification&amp;quot; of the services, or in other words, the operation contracts (RSSReader.Services.Spec) and another for the service itself. (RSSReader.Services). As you can't re-use assemblies in Silverlight though, this seems a little pointless for this particular exercise so we're just going to go with a single assembly - RSSReader.Services.&lt;/p&gt;

&lt;p&gt;Let's go ahead and create this &amp;quot;class library&amp;quot; now. Right click the solution and select Add new project and select C# class library. Delete the automatically generated class1.cs file.&lt;/p&gt;

&lt;p&gt;Add references to System.Runtime.Serialization and System.ServiceModel. These references allow WCF constructs to be used within your application;&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="206" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgdrxV1RZ9I/AAAAAAAAAEM/83IS9zvh1P8/image2.png?imgmax=800" width="414" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; margin-left: 0px; margin-right: 0px; border-right-width: 0px" height="113" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Sgdrx6tbt1I/AAAAAAAAAEQ/kY0bZBP45aI/image6.png?imgmax=800" width="154" align="left" border="0" /&gt; And finally, create 3 directories within the new project - Contracts, Repositories and Spec. In contracts we will define the classes that will be used to represent the data being sent between Silverlight and our service, in Spec we'll define the operational contracts - the methods we can call on our service and in repositories we'll add the data access code to get data from sources.&lt;/p&gt;

&lt;p&gt;&amp;#160;&lt;/p&gt;

&lt;p&gt;We now want to define what data we're going to expect to receive from Silverlight and what data we're going to send back to it. We're going to have two operations on our service - a method to get a list of all available RSS feeds, and a method to get the postings within a selected feed.&lt;/p&gt;

&lt;p&gt;For the method to get a list of feeds, we won't have any data passed in, but we want to pass back out a list of feeds. We'll wrap the list of feeds into a response object in case we need to add anything new later. As such we'll have the following classes for querying what feeds we can select;&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="141" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/SgdrypMeUFI/AAAAAAAAAEU/xzSz7GaGQ6c/image9.png?imgmax=800" width="497" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;Notice the use of the DTO suffix. This stands for Data Transfer Object and is standard terminology when talking about what data will be exchanged between services. See the enterprise stack posting for more information about this.&lt;/p&gt;

&lt;p&gt;When we request feed articles, we need to tell the service which feed we want to get articles for, and have it return the articles in a list, again wrapped in a response object should we need to expand it later. This gives us these classes;&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="197" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SgdrzD9lekI/AAAAAAAAAEY/lfH3OiCeBA0/image12.png?imgmax=800" width="493" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;These contracts are all just plain old CLR objects (POCOs), onto which we add WCF specific attributes to tell the service that the class is a data contract and what members should be serialised and sent over the wire. We do this using the DataContract and DataMember attribute. The code for GetFeedRequestDTO is shown below;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Runtime.Serialization;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Contracts&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;     [DataContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; GetAvailableFeedsResponseDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;readonly&lt;/span&gt; IList&amp;lt;RSSFeedDTO&amp;gt; _feeds &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;             = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; List&amp;lt;RSSFeedDTO&amp;gt;();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; IList&amp;lt;RSSFeedDTO&amp;gt; Feeds&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;             get &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;             {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; _feeds;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;             }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt; }&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;As you can see, we've marked the class as being a data contract and the Feeds property as being a data member.&lt;/p&gt;

&lt;p&gt;The entire listing for the various contracts is shown below;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #008000"&gt;/***** GetAvailableFeedsResponseDTO.cs *****/&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Runtime.Serialization;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Contracts&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;     [DataContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; GetAvailableFeedsResponseDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;readonly&lt;/span&gt; IList&amp;lt;RSSFeedDTO&amp;gt; _feeds = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; List&amp;lt;RSSFeedDTO&amp;gt;();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; IList&amp;lt;RSSFeedDTO&amp;gt; Feeds&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;             get &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;             {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; _feeds;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;             }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt; &lt;span style="color: #008000"&gt;/***** RSSFeedDTO.cs *****/&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Runtime.Serialization;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  25:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  26:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Contracts&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  27:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  28:&lt;/span&gt;     [DataContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  29:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; RSSFeedDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  30:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  31:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  32:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; Id { get; set; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  33:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  34:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  35:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; Title { get; set; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  36:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  37:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  38:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; FeedUrl { get; set; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  39:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  40:&lt;/span&gt; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  41:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  42:&lt;/span&gt; &lt;span style="color: #008000"&gt;/***** GetFeedRequestDTO.cs *****/&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  43:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Runtime.Serialization;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  44:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  45:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Contracts&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  46:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  47:&lt;/span&gt;     [DataContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  48:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; GetFeedRequestDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  49:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  50:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  51:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; FeedId { get; set; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  52:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  53:&lt;/span&gt; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  54:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  55:&lt;/span&gt; &lt;span style="color: #008000"&gt;/***** GetFeedResponseDTO.cs *****/&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  56:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Runtime.Serialization;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  57:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  58:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  59:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Contracts&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  60:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  61:&lt;/span&gt;     [DataContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  62:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; GetFeedResponseDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  63:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  64:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;readonly&lt;/span&gt; IList&amp;lt;FeedArticleDTO&amp;gt; _articles &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  65:&lt;/span&gt;             = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; List&amp;lt;FeedArticleDTO&amp;gt;();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  66:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  67:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  68:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; IList&amp;lt;FeedArticleDTO&amp;gt; Articles&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  69:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  70:&lt;/span&gt;             get &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  71:&lt;/span&gt;             {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  72:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; _articles;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  73:&lt;/span&gt;             }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  74:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  75:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  76:&lt;/span&gt; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  77:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  78:&lt;/span&gt; &lt;span style="color: #008000"&gt;/***** FeedArticleDTO.cs *****/&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  79:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  80:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Runtime.Serialization;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  81:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  82:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Contracts&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  83:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  84:&lt;/span&gt;     [DataContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  85:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; FeedArticleDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  86:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  87:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  88:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; Title { get; set; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  89:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  90:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  91:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; DateTime Published { get; set; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  92:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  93:&lt;/span&gt;         [DataMember]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  94:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; BodyContent { get; set; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  95:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  96:&lt;/span&gt; }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  97:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;With our data contracts defined, we can now look at defining the operation contracts - the services themselves. As mentioned above, we're going to have a single service, lets call it RSSProxyService, and it will have two methods. A method to get all of the feeds that are available and a method to get the articles for a selected feed. The signatures of these methods will use the data contracts defined above. Within the Spec folder, create a new class file and name it IRSSProxyService.cs. The code should be as follows;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.ServiceModel;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Contracts;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Spec&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;     [ServiceContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt; IRSSProxyService&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;         [OperationContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;         GetAvailableFeedsResponseDTO GetAvailableFeeds();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;         [OperationContract]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         GetFeedResponseDTO GetFeed(GetFeedRequestDTO request);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt; }&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;In WCF we define services as interfaces and then tell the service definition which concrete class to use that implements this interface. As you can see our two methods are marked up with [OperationContract] attributes, indicating that these are methods that will be exposed through the service and the interface itself is defined with a [ServiceContract] attribute.&lt;/p&gt;

&lt;p&gt;We now need to provide a concrete implementation of the service. As such, create a new class called RSSProxyService.cs within the root of RSSReader.Services project;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Spec;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Contracts;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; RSSProxyService : IRSSProxyService&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; GetAvailableFeedsResponseDTO GetAvailableFeeds()&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; NotImplementedException();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; GetFeedResponseDTO GetFeed(GetFeedRequestDTO request)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; NotImplementedException();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt; }&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;If you build now, things should build, but as we've not hooked anything up yet, it won't do a great deal. Lets make it actually do something and write some unit tests to check our implementation actually works.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Implementing the repository 
    &lt;br /&gt;&lt;/strong&gt;Before we can get into the guts of the service itself, we need to think about how we're going to get data out of feeds.xml and from the RSS feeds themselves. I've chosen to implement a repository class so that my service concentrates on logic and uses the repository to handle any data persistence/access.&lt;/p&gt;

&lt;p&gt;Before we dive headlong into writing a repository class though, we need to give some thought to testing. We want to be able to unit test this service to verify that it is working as anticipated, but we want to test the logic, not test if the internet is up and running (which is what we would be doing if we consumed an RSS feed directly - pass/fail would be dependent upon the RSS feed being available).&lt;/p&gt;

&lt;p&gt;As such, we are going to want to replace the repository code when testing with a pre-canned or mocked version of it. This will allow us to control what data is sent to the service when we invoke it. To do this we must define an interface for the repository.&lt;/p&gt;

&lt;p&gt;Within the repositories folder, create a new file - IFeedRepository.cs with the following content;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Contracts;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Repositories&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt; IFeedRepository&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;         IEnumerable&amp;lt;RSSFeedDTO&amp;gt; GetFeedDefinitionList();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;         RSSFeedDTO GetFeedDefinitionById(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; id);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;         IEnumerable&amp;lt;FeedArticleDTO&amp;gt; GetArticlesForFeedId(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; id);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt; }&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;In this instance, our feed repository will offer 3 methods. One to get the feed definition list, one to get a specific feed definition record from the list and one to get all of the articles for a specified feed id.&lt;/p&gt;

&lt;p&gt;We can then implement this by creating FeedRepository.cs, as follows;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.IO;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Linq;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Net;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Xml.Linq;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Contracts;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Repositories&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; FeedRepository : IFeedRepository&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; XDocument GetFeedDefinitionData()&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; filename = Path.GetFullPath(&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;                 AppDomain.CurrentDomain.BaseDirectory) + &lt;span style="color: #006080"&gt;&amp;quot;\\feeds.xml&amp;quot;&lt;/span&gt;;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;             XDocument doc = XDocument.Load(filename);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; doc;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// Loads the feed definition list from the XML file &amp;quot;feeds.xml&amp;quot;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  25:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; IEnumerable&amp;lt;RSSFeedDTO&amp;gt; GetFeedDefinitionList()&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  26:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  27:&lt;/span&gt;             XDocument doc = GetFeedDefinitionData();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  28:&lt;/span&gt;             &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  29:&lt;/span&gt;             IEnumerable&amp;lt;RSSFeedDTO&amp;gt; list =&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  30:&lt;/span&gt;                 from item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; doc.Descendants(&lt;span style="color: #006080"&gt;&amp;quot;feed&amp;quot;&lt;/span&gt;)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  31:&lt;/span&gt;                 select &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; RSSFeedDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  32:&lt;/span&gt;                 {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  33:&lt;/span&gt;                     Id = (&lt;span style="color: #0000ff"&gt;string&lt;/span&gt;)item.Attribute(&lt;span style="color: #006080"&gt;&amp;quot;id&amp;quot;&lt;/span&gt;),&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  34:&lt;/span&gt;                     Title = (&lt;span style="color: #0000ff"&gt;string&lt;/span&gt;)item.Element(&lt;span style="color: #006080"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;),&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  35:&lt;/span&gt;                     FeedUrl = (&lt;span style="color: #0000ff"&gt;string&lt;/span&gt;)item.Element(&lt;span style="color: #006080"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  36:&lt;/span&gt;                 };&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  37:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  38:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; list;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  39:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  40:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  41:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  42:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// Gets one feed definition item from feeds.xml&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  43:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  44:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;id&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  45:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  46:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; RSSFeedDTO GetFeedDefinitionById(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; id)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  47:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  48:&lt;/span&gt;             XDocument doc = GetFeedDefinitionData();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  49:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  50:&lt;/span&gt;             &lt;span style="color: #008000"&gt;// query it for feed items and create RSSFeedDTO objects&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  51:&lt;/span&gt;             var matchedFeeds =&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  52:&lt;/span&gt;                 from item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; doc.Descendants(&lt;span style="color: #006080"&gt;&amp;quot;feed&amp;quot;&lt;/span&gt;)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  53:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; ((&lt;span style="color: #0000ff"&gt;string&lt;/span&gt;)item.Attribute(&lt;span style="color: #006080"&gt;&amp;quot;id&amp;quot;&lt;/span&gt;)) == id&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  54:&lt;/span&gt;                 select &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; RSSFeedDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  55:&lt;/span&gt;                 {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  56:&lt;/span&gt;                     Id = (&lt;span style="color: #0000ff"&gt;string&lt;/span&gt;)item.Attribute(&lt;span style="color: #006080"&gt;&amp;quot;id&amp;quot;&lt;/span&gt;),&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  57:&lt;/span&gt;                     Title = (&lt;span style="color: #0000ff"&gt;string&lt;/span&gt;)item.Element(&lt;span style="color: #006080"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;),&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  58:&lt;/span&gt;                     FeedUrl = (&lt;span style="color: #0000ff"&gt;string&lt;/span&gt;)item.Element(&lt;span style="color: #006080"&gt;&amp;quot;url&amp;quot;&lt;/span&gt;)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  59:&lt;/span&gt;                 };&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  60:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  61:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (matchedFeeds.Count() &amp;lt; 1) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  62:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  63:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; matchedFeeds.First();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  64:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  65:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  66:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  67:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// Gets all of the articles available from the RSS feed&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  68:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// definition id specified.&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  69:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  70:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;id&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  71:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  72:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; IEnumerable&amp;lt;FeedArticleDTO&amp;gt; GetArticlesForFeedId(&lt;span style="color: #0000ff"&gt;string&lt;/span&gt; id)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  73:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  74:&lt;/span&gt;             &lt;span style="color: #008000"&gt;// Find the feed&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  75:&lt;/span&gt;             RSSFeedDTO feed = GetFeedDefinitionById(id);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  76:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (feed == &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;throw&lt;/span&gt; &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; ArgumentException(&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  77:&lt;/span&gt;                     String.Format(&lt;span style="color: #006080"&gt;&amp;quot;Feed id {0} not found&amp;quot;&lt;/span&gt;, id));&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  78:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  79:&lt;/span&gt;             &lt;span style="color: #008000"&gt;// Get the RSS payload&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  80:&lt;/span&gt;             WebClient client = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; WebClient();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  81:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;string&lt;/span&gt; responsePayload = client.DownloadString(feed.FeedUrl);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  82:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  83:&lt;/span&gt;             &lt;span style="color: #008000"&gt;// Load it into LINQ to XML and find all items, &lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  84:&lt;/span&gt;             &lt;span style="color: #008000"&gt;// translate to FeedArticleDTOs&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  85:&lt;/span&gt;             XDocument rssResponse = XDocument.Parse(responsePayload);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  86:&lt;/span&gt;             &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  87:&lt;/span&gt;             IEnumerable&amp;lt;FeedArticleDTO&amp;gt; list =&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  88:&lt;/span&gt;                 from item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; rssResponse.Descendants(&lt;span style="color: #006080"&gt;&amp;quot;item&amp;quot;&lt;/span&gt;)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  89:&lt;/span&gt;                 select &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; FeedArticleDTO&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  90:&lt;/span&gt;                 {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  91:&lt;/span&gt;                     Title = item.Element(&lt;span style="color: #006080"&gt;&amp;quot;title&amp;quot;&lt;/span&gt;).Value,&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  92:&lt;/span&gt;                     Published = DateTime.Parse(item.Element(&lt;span style="color: #006080"&gt;&amp;quot;pubDate&amp;quot;&lt;/span&gt;).Value),&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  93:&lt;/span&gt;                     BodyContent = item.Element(&lt;span style="color: #006080"&gt;&amp;quot;description&amp;quot;&lt;/span&gt;).Value&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  94:&lt;/span&gt;                 };&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  95:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  96:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; list;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  97:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  98:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  99:&lt;/span&gt; }&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;As you can see, we're using LINQ to XML to query the XML data from feeds.xml and transform the data into our DTO classes, and when we retrieve data from the physical RSS feeds we're going to use the WebClient object, and again query and extract this with LINQ.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Implementing the service 
    &lt;br /&gt;&lt;/strong&gt;With our repository in place we can now build our service implementation. Go back to our RSSProxyService.cs and change it's code to match this;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Spec;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Contracts;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Repositories;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; RSSProxyService : IRSSProxyService&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// The feed repository we will use&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;readonly&lt;/span&gt; IFeedRepository _feedRepository;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; RSSProxyService()&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;             _feedRepository = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; FeedRepository();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; RSSProxyService(IFeedRepository feedRepository)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;             _feedRepository = feedRepository;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// Interrogates the feeds.xml file to return a list of &lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  25:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// available RSS feeds that can be displayed&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  26:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  27:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  28:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; GetAvailableFeedsResponseDTO GetAvailableFeeds()&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  29:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  30:&lt;/span&gt;             GetAvailableFeedsResponseDTO feeds &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  31:&lt;/span&gt;                 = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; GetAvailableFeedsResponseDTO();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  32:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  33:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt; (RSSFeedDTO feed &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  34:&lt;/span&gt;                 _feedRepository.GetFeedDefinitionList())&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  35:&lt;/span&gt;             {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  36:&lt;/span&gt;                 feeds.Feeds.Add(feed);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  37:&lt;/span&gt;             }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  38:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  39:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; feeds;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  40:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  41:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  42:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  43:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// Gets articles from the requested RSS feed.&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  44:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  45:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;request&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  46:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  47:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; GetFeedResponseDTO GetFeed(GetFeedRequestDTO request)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  48:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  49:&lt;/span&gt;             GetFeedResponseDTO response = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; GetFeedResponseDTO();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  50:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt; (FeedArticleDTO article &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  51:&lt;/span&gt;                 _feedRepository.GetArticlesForFeedId(request.FeedId))&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  52:&lt;/span&gt;             {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  53:&lt;/span&gt;                 response.Articles.Add(article);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  54:&lt;/span&gt;             }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  55:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  56:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; response;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  57:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  58:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  59:&lt;/span&gt; }&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;If you notice our constructors now, we either create or accept an IFeedRepository object depending on which constructor is used - this allows us to write (or mock) a replacement repository, specifically for testing this service. (This is an example of coding for testability as when not thinking about unit testing, you wouldn't write code like this).&lt;/p&gt;

&lt;p&gt;Our implementation of the service itself is now complete. We have to now either expose this via our web interface and write all the front end code to consume it in order to test it, or we need to write unit tests to satisfy ourselves that things are working as they should. I'd sooner find problems as early as possible, so lets write some unit tests.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Writing unit tests to check the service 
    &lt;br /&gt;&lt;/strong&gt;Add a new project to your solution, a test project and call it RSSReader.Services.Tests.&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="312" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/SgdrzxJVX8I/AAAAAAAAAEc/XrxU5cJrt1k/image15.png?imgmax=800" width="487" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;You can then clear out the AuhtoringTests.txt file, and rename the UnitTest1.cs file to RSSProxyServiceTests.cs. Also copy the feeds.xml file into your test project. You will need to tell the test project to deploy the feeds.xml file when it runs the tests, as follows;&lt;/p&gt;

&lt;p&gt;Select the Test menu and choose &amp;quot;Edit Test run configurations&amp;quot; and then &amp;quot;Local test run&amp;quot;. From the resultant dialog, select the deployment page and select &amp;quot;Add File&amp;quot; - choose feeds.xml from the RSSReader.Services.Tests directory and click Apply to save the changes.&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="345" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/Sgdr0WZOJ_I/AAAAAAAAAEg/luR3W3BGJ-4/image18.png?imgmax=800" width="480" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;In order to provide our service with a canned set of data from the repository, we're going to &amp;quot;mock&amp;quot; the repository using a mocking framework. &lt;/p&gt;

&lt;p&gt;We're going to use the excellent &lt;a href="http://ayende.com/projects/rhino-mocks.aspx" target="_blank"&gt;Rhino Mocks&lt;/a&gt; mocking framework by &lt;a href="http://ayende.com/about-me.aspx" target="_blank"&gt;Oren Eini (aka Ayende Rahien)&lt;/a&gt;. You'll need to &lt;a href="http://ayende.com/20/section.aspx/download/229" target="_blank"&gt;download this from here&lt;/a&gt;, extract it, and then add a reference in your test project to Rhino.Mocks.dll. Also add a reference to the RSSReader.Services project.&lt;/p&gt;

&lt;p&gt;Finally change the RSSPRoxyServiceTests.cs to match the following;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; System.Collections.Generic;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; Rhino.Mocks;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; Microsoft.VisualStudio.TestTools.UnitTesting;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Repositories;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Spec;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; RSSReader.Services.Contracts;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;namespace&lt;/span&gt; RSSReader.Services.Tests&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;     [TestClass]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; RSSProxyServiceTests&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// This test validates that the feeds.xml file can be loaded&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// correctly and that it contains 3 defined feeds.&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;         [TestMethod]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; ValidateFeedsLoaded()&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt;             IRSSProxyService service = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; RSSProxyService();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;             GetAvailableFeedsResponseDTO response = &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt;                 service.GetAvailableFeeds();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  25:&lt;/span&gt;             Assert.IsNotNull(response);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  26:&lt;/span&gt;             Assert.AreEqual(3, response.Feeds.Count);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  27:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  28:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  29:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  30:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// This test uses a mocked IFeedRepository to returned canned&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  31:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// data into the RSS proxy service implementation to allow it's &lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  32:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// logic to be tested. It ensures the correct number of articles&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  33:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// are returned when a feed is queried by ID.&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  34:&lt;/span&gt;         &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  35:&lt;/span&gt;         [TestMethod]&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  36:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; ValidateArticleCounts()&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  37:&lt;/span&gt;         {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  38:&lt;/span&gt;             MockRepository mocks = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; MockRepository();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  39:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  40:&lt;/span&gt;             &lt;span style="color: #008000"&gt;// Define the data we want the IFeedRepository to return&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  41:&lt;/span&gt;             IEnumerable&amp;lt;FeedArticleDTO&amp;gt; feedList = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; List&amp;lt;FeedArticleDTO&amp;gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  42:&lt;/span&gt;             {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  43:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; FeedArticleDTO{Title=&lt;span style="color: #006080"&gt;&amp;quot;Article 1&amp;quot;&lt;/span&gt;, &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  44:&lt;/span&gt;                     Published=DateTime.Now, BodyContent=&lt;span style="color: #006080"&gt;&amp;quot;&amp;quot;&lt;/span&gt;},&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  45:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  46:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; FeedArticleDTO{Title=&lt;span style="color: #006080"&gt;&amp;quot;Article 2&amp;quot;&lt;/span&gt;, &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  47:&lt;/span&gt;                     Published=DateTime.Now, BodyContent=&lt;span style="color: #006080"&gt;&amp;quot;&amp;quot;&lt;/span&gt;},&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  48:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  49:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; FeedArticleDTO{Title=&lt;span style="color: #006080"&gt;&amp;quot;Article 3&amp;quot;&lt;/span&gt;, &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  50:&lt;/span&gt;                     Published=DateTime.Now, BodyContent=&lt;span style="color: #006080"&gt;&amp;quot;&amp;quot;&lt;/span&gt;},&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  51:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  52:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; FeedArticleDTO{Title=&lt;span style="color: #006080"&gt;&amp;quot;Article 4&amp;quot;&lt;/span&gt;, &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  53:&lt;/span&gt;                     Published=DateTime.Now, BodyContent=&lt;span style="color: #006080"&gt;&amp;quot;&amp;quot;&lt;/span&gt;},&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  54:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  55:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; FeedArticleDTO{Title=&lt;span style="color: #006080"&gt;&amp;quot;Article 5&amp;quot;&lt;/span&gt;, &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  56:&lt;/span&gt;                     Published=DateTime.Now, BodyContent=&lt;span style="color: #006080"&gt;&amp;quot;&amp;quot;&lt;/span&gt;}&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  57:&lt;/span&gt;             };&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  58:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  59:&lt;/span&gt;             &lt;span style="color: #008000"&gt;// Mock the feed repository and setup some expectations&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  60:&lt;/span&gt;             IFeedRepository feedRepository = &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  61:&lt;/span&gt;                 mocks.StrictMock&amp;lt;IFeedRepository&amp;gt;();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  62:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  63:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; (mocks.Record())&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  64:&lt;/span&gt;             {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  65:&lt;/span&gt;                 Expect.Call(feedRepository.GetArticlesForFeedId(&lt;span style="color: #006080"&gt;&amp;quot;MOCK&amp;quot;&lt;/span&gt;))&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  66:&lt;/span&gt;                     .Return(feedList);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  67:&lt;/span&gt;             }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  68:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  69:&lt;/span&gt;             GetFeedResponseDTO response;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  70:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;using&lt;/span&gt; (mocks.Playback())&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  71:&lt;/span&gt;             {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  72:&lt;/span&gt;                 &lt;span style="color: #008000"&gt;// Test the service - the service will use the mock repository&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  73:&lt;/span&gt;                 IRSSProxyService service = &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  74:&lt;/span&gt;                     &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; RSSProxyService(feedRepository);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  75:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  76:&lt;/span&gt;                 &lt;span style="color: #008000"&gt;// Request the MOCK feed&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  77:&lt;/span&gt;                 GetFeedRequestDTO request = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; GetFeedRequestDTO();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  78:&lt;/span&gt;                 request.FeedId = &lt;span style="color: #006080"&gt;&amp;quot;MOCK&amp;quot;&lt;/span&gt;;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  79:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  80:&lt;/span&gt;                 &lt;span style="color: #008000"&gt;// Get the response and test&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  81:&lt;/span&gt;                 response = service.GetFeed(request);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  82:&lt;/span&gt;             }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  83:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  84:&lt;/span&gt;             Assert.IsNotNull(response);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  85:&lt;/span&gt;             Assert.AreEqual(5, response.Articles.Count);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  86:&lt;/span&gt;         }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  87:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  88:&lt;/span&gt; }&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;This test class contains two specific tests that will test the workings of the service itself - ValidateFeedsLoaded will test that the service can load the feeds.xml file and correctly assemble the XML into the objects we're expecting.&lt;/p&gt;

&lt;p&gt;ValidateArticleCounts is a little different in that it's using mocks. We define what data the repository is going to return when invoked, create a mocked object of the repository and then setup some expectations on what we expect the service code to do with our mocked repository.&lt;/p&gt;

&lt;p&gt;In this case, we tell the mocking framework that we expect the service to call the repositories GetArticlesForFeedId method with a parameter of &amp;quot;MOCK&amp;quot;, and when it does, the mock framework should return the canned data we've setup.&lt;/p&gt;

&lt;p&gt;We then invoke the service, passing in the mocked repository so that it is used instead of the default and then we invoke the service with the parameters expected. If all goes well, the expected calls will be invoked and we will have a response from the service with the correct number of articles.&lt;/p&gt;

&lt;p&gt;Now, for those eagle eyed among you, you will notice we're not testing the functionality of the repository. We certainly &lt;em&gt;should,&lt;/em&gt; but as this series of posts is supposed to be about Silverlight, I'll leave that as an exercise for the reader - but we would have to encapsulate the WebClient so that it, itself, could be mocked so the repository is tested, not the availability of the RSS feeds...&lt;/p&gt;

&lt;p&gt;If you now build your application and run it you'll find we have nothing more than we did at the end of the last article!! However we do have a completed service implementation and we can use test view to run the two unit tests and validate that our service is functional.&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="132" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/Sgdr0zZDPCI/AAAAAAAAAEk/FFcrUM9bAVY/image21.png?imgmax=800" width="244" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="148" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/Sgdr1QKwDiI/AAAAAAAAAEo/9LxCoCJHvCY/image24.png?imgmax=800" width="505" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;(NOTE: When you run your unit tests, you may get a &amp;quot;Test run deployment issue&amp;quot; saying &amp;quot;Rhino.Mocks.dll&amp;quot; is not trusted. This is because you downloaded the files from the Internet. The solution is to find the DLL's on your machine using explorer, right click each DLL and click &amp;quot;Unblock&amp;quot; - then do a rebuild and you should be good to go)&lt;/p&gt;

&lt;p&gt;That's all for this instalment (it was longer than I expected!) - in part 3 we'll look at exposing the above service through the web project, consuming it in Silverlight and having fun with data binding.&lt;/p&gt;

&lt;p&gt;Again, have a good Christmas!&lt;/p&gt;

&lt;h3&gt;&lt;a href="http://blogger.hginteractive.co.uk/RSSReader.Part2.zip" target="_blank"&gt;Get the source code here.&lt;/a&gt;&lt;/h3&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/8902218262306497165/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/12/building-silverlight-rss-reader-part-2_129.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8902218262306497165'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8902218262306497165'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/12/building-silverlight-rss-reader-part-2_129.html' title='Building a Silverlight RSS reader - part 2 - getting the data.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/SgdrxV1RZ9I/AAAAAAAAAEM/83IS9zvh1P8/s72-c/image2.png?imgmax=800' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4848036565597332514</id><published>2008-12-17T22:07:00.000Z</published><updated>2009-05-11T01:06:22.419+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><category scheme='http://www.blogger.com/atom/ns#' term='Links'/><title type='text'>The Uncanny Valley effect...</title><content type='html'>&lt;p&gt;I've always rejected building web applications that ape desktop applications, but articulating this rejection has always failed me. I've never been able to put my finger on why I don't like fancy ajax interfaces that mimic desktop application, but Jeff Atwood has a post today that explains it extremely well.&lt;/p&gt;  &lt;p&gt;&lt;a title="http://www.codinghorror.com/blog/archives/000869.html" href="http://www.codinghorror.com/blog/archives/000869.html"&gt;http://www.codinghorror.com/blog/archives/000869.html&lt;/a&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4848036565597332514/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/12/uncanny-valley-effect.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4848036565597332514'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4848036565597332514'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/12/uncanny-valley-effect.html' title='The Uncanny Valley effect...'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7017208528958399127</id><published>2008-12-16T21:01:00.000Z</published><updated>2009-05-11T01:06:41.295+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Silverlight'/><title type='text'>Building a Silverlight RSS reader - part 1 - getting the skeleton structure ready</title><content type='html'>&lt;p&gt;In this series of posts, I'm going to look at building a simple RSS reader in silverlight. I chose an RSS reader as it covers a number of typical scenarios including;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Cross domain requests - where you can't guarantee the target domain has a &lt;a href="/2008/10/silverlight-and-cross-domain-services_27.html" target="_blank"&gt;cross domain policy&lt;/a&gt; in place.       &lt;br /&gt;&lt;/li&gt;    &lt;li&gt;A configurable source on the host server controlling which RSS feeds the reader should display.      &lt;br /&gt;&lt;/li&gt;    &lt;li&gt;Creating a skinnable UI      &lt;br /&gt;&lt;/li&gt;    &lt;li&gt;Touching on things silverlight can't yet do (display HTML natively for example). &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;So kicking off, I'm going to create a new solution as follows;&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="319" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgdsB68_rUI/AAAAAAAAAEs/WqXubMIwMqk/image2.png?imgmax=800" width="447" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;I've selected a new silverlight application and named it RSSReader.UI.Components (as it may contain other components later). I've also chosen to create a directory for the solution and named this SilverlightRSSReader.&lt;/p&gt;  &lt;p&gt;VS.NET then asks us how we want to run the application. In this case, I'm going to want to write code on the website too, so I've chosen to create a new ASP.NET web project solution and named it RSSReader.UI.Web&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="235" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgdsCYOR94I/AAAAAAAAAEw/RrOPZ4azFXc/image5.png?imgmax=800" width="263" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;This then gives us the following solution structure;&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="238" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SgdsC9aavFI/AAAAAAAAAE0/JLrBU-NQ4FE/image8.png?imgmax=800" width="244" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;This needs some tidying up before we begin. First off, delete default.aspx and the test page.html. Finally rename the testpage aspx to default.aspx and also tidy up the source to something more akin to the following;&lt;/p&gt;  &lt;div style="border-right: gray 1px solid; padding-right: 4px; border-top: gray 1px solid; padding-left: 4px; font-size: 8pt; padding-bottom: 4px; margin: 20px 0px 10px; overflow: auto; border-left: gray 1px solid; width: 97.5%; cursor: text; max-height: 400px; line-height: 12pt; padding-top: 4px; border-bottom: gray 1px solid; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; background-color: #f4f4f4"&gt;   &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;     &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="background-color: #ffff00"&gt;&amp;lt;%@ Page Language=&amp;quot;C#&amp;quot; AutoEventWireup=&amp;quot;true&amp;quot; %&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; &lt;span style="background-color: #ffff00"&gt;&amp;lt;%@ Register Assembly=&amp;quot;System.Web.Silverlight&amp;quot; Namespace=&amp;quot;System.Web.UI.SilverlightControls&amp;quot; TagPrefix=&amp;quot;asp&amp;quot; %&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;!&lt;/span&gt;&lt;span style="color: #800000"&gt;DOCTYPE&lt;/span&gt; &lt;span style="color: #ff0000"&gt;html&lt;/span&gt; &lt;span style="color: #ff0000"&gt;PUBLIC&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;quot;-//W3C//DTD XHTML 1.0 Transitional//EN&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;html&lt;/span&gt; &lt;span style="color: #ff0000"&gt;xmlns&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;http://www.w3.org/1999/xhtml&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;height:100%;&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;head&lt;/span&gt; &lt;span style="color: #ff0000"&gt;runat&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;title&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;RSSReader.UI.Components&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;title&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;head&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;body&lt;/span&gt; &lt;span style="color: #ff0000"&gt;style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;height:100%;margin:0;&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;form&lt;/span&gt; &lt;span style="color: #ff0000"&gt;id&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;form1&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;runat&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;server&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;height:100%;&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;asp:ScriptManager&lt;/span&gt; &lt;span style="color: #ff0000"&gt;ID&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ScriptManager1&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;runat&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;server&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;asp:ScriptManager&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;div&lt;/span&gt; &lt;span style="color: #ff0000"&gt;id&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;silverlightHost&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;height:100%;&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;asp:Silverlight&lt;/span&gt; &lt;span style="color: #ff0000"&gt;ID&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Xaml1&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;runat&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;server&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;PluginBackground&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Transparent&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Windowless&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;                 &lt;span style="color: #ff0000"&gt;Source&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;~/ClientBin/RSSReader.UI.Components.xap&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;                 &lt;span style="color: #ff0000"&gt;MinimumVersion&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;2.0.31005.0&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Width&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;100%&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Height&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;100%&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;div&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;form&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;body&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;html&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;You finally want to set the default.aspx page to be the page used on start up. You can do this by right clicking on it in solution explorer and clicking set as start page.&lt;/p&gt;

&lt;p&gt;If you run your application now, it should compile correctly and show you a rather underwhelming blank silverlight application. Let's correct that and get the basic form and structure of our application ready.&lt;/p&gt;

&lt;p&gt;The following is a wireframe for how I want my application to look:&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="306" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgdsDI6iUDI/AAAAAAAAAE4/T9_uiolu6Zk/image11.png?imgmax=800" width="494" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;Creating this basic layout is extremely simple using XAML, but first, we want to pull in an image resource for the branding and change the html body colour. Copy in rss.png from the attached zip file, and put it in a new folder called Resource within your silverlight application.&lt;/p&gt;

&lt;p&gt;Finally, add the following to the head section of default.aspx;&lt;/p&gt;

&lt;div&gt;
  &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;
    BODY
    {
        background-color: black;
    }
    #silverlightHost
    {
        background-color: Transparent;
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0px;
        top: 0px;
    }
&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;   &lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This is simply setting the window to be black coloured (after all, every silverlight app must be black - it's an unwritten law !!). If you're wondering why we're not just setting the background in the silverlight and instead are setting that to transparent - the reason will become apparent later when we have to have the browser show HTML and we need it to look like it's within our silverlight app.&lt;/p&gt;

&lt;p&gt;Next, in your silverlight app, add a reference to System.Windows.Controls.Data - this gives us the data grid component to use in our app.&lt;/p&gt;

&lt;p&gt;Finally, open page.xaml and use the following skeleton code; &lt;/p&gt;

&lt;div style="border-right: gray 1px solid; padding-right: 4px; border-top: gray 1px solid; padding-left: 4px; font-size: 8pt; padding-bottom: 4px; margin: 20px 0px 10px; overflow: auto; border-left: gray 1px solid; width: 97.5%; cursor: text; max-height: 400px; line-height: 12pt; padding-top: 4px; border-bottom: gray 1px solid; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; background-color: #f4f4f4"&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;UserControl&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Class&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;RSSReader.UI.Components.Page&amp;quot;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt;     &lt;span style="color: #ff0000"&gt;xmlns&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;     &lt;span style="color: #ff0000"&gt;xmlns:x&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;http://schemas.microsoft.com/winfx/2006/xaml&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;     &lt;span style="color: #ff0000"&gt;xmlns:data&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Grid&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;         &lt;span style="color: #008000"&gt;&amp;lt;!-- The main UI stack --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;StackPanel&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Margin&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;10,10,10,10&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;             &lt;span style="color: #008000"&gt;&amp;lt;!-- Top bar area --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Grid&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Background&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Black&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Grid.ColumnDefinitions&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;                     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ColumnDefinition&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Width&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Auto&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;                     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ColumnDefinition&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Width&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Auto&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;                     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ColumnDefinition&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Width&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Grid.ColumnDefinitions&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Image&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Source&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Resource/rss.jpg&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Margin&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;0,0,10,0&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;TextBlock&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Grid&lt;/span&gt;.&lt;span style="color: #ff0000"&gt;Column&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Margin&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;0,6,0,0&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;FontSize&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;18&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Foreground&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;White&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;RSS Exemplar&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;TextBlock&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ComboBox&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;_availableFeeds&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Grid&lt;/span&gt;.&lt;span style="color: #ff0000"&gt;Column&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;2&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Margin&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;0,6,0,0&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;IsEnabled&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;False&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt;                       &lt;span style="color: #ff0000"&gt;VerticalAlignment&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Top&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;HorizontalAlignment&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Right&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Height&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;30&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;MinWidth&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;250&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;ComboBox&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  25:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Grid&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  26:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  27:&lt;/span&gt;             &lt;span style="color: #008000"&gt;&amp;lt;!-- Grid binding to articles --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  28:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;data:DataGrid&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;_articleList&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;AutoGenerateColumns&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;False&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  29:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;data:DataGrid.Columns&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  30:&lt;/span&gt;                     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;data:DataGridTextColumn&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Header&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Published Date&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Width&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;150&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  31:&lt;/span&gt;                     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;data:DataGridTextColumn&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Header&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Title&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  32:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;data:DataGrid.Columns&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  33:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;data:DataGrid&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  34:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  35:&lt;/span&gt;             &lt;span style="color: #008000"&gt;&amp;lt;!-- Todo: content preview pane --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  36:&lt;/span&gt;             &lt;span style="color: #008000"&gt;&amp;lt;!-- Todo: status area and skin selector --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  37:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;StackPanel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  38:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Grid&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  39:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  40:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;UserControl&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Run your application and you should see:&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="422" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgdsD6hQ14I/AAAAAAAAAE8/N_oJsVc2p-8/image14.png?imgmax=800" width="496" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;Hardly the most exciting application in the world so far, but it gives us everything we need to build on in the next articles. If you want to skip ahead and try to move the application on, go ahead, the next topics will cover;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Getting data and binding to it 
    &lt;ul&gt;
      &lt;li&gt;Getting available feeds for the combo box &lt;/li&gt;

      &lt;li&gt;Getting feed data from the RSS feed itself using an intermediate, marshalling, service. &lt;/li&gt;

      &lt;li&gt;Adding a service reference &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;

  &lt;li&gt;Displaying and interfacing to HTML 
    &lt;ul&gt;
      &lt;li&gt;Silverlight can't display HTML directly, we need to display the article content itself by asking the HTML host to do it. This article will cover integration to HTML, and will result in a positioned DIV in the correct place beneath the silverlight app to show the post content. (This is why our silverlight is made transparent) &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;

  &lt;li&gt;Skinning the application and changing skins 
    &lt;ul&gt;
      &lt;li&gt;This will cover making the app look pretty(ish) and how to dynamically change skins on the fly. &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For now, have a good Christmas.&lt;/p&gt;

&lt;h3&gt;&lt;a href="http://blogger.hginteractive.co.uk/RSSReader.Part1.zip" target="_blank"&gt;Download the source code here&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7017208528958399127/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/12/building-silverlight-rss-reader-part-1_16.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7017208528958399127'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7017208528958399127'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/12/building-silverlight-rss-reader-part-1_16.html' title='Building a Silverlight RSS reader - part 1 - getting the skeleton structure ready'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/SgdsB68_rUI/AAAAAAAAAEs/WqXubMIwMqk/s72-c/image2.png?imgmax=800' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-404338642390035520</id><published>2008-12-08T19:34:00.000Z</published><updated>2009-05-11T01:07:06.115+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><title type='text'>Essential reading</title><content type='html'>&lt;p&gt;Here's a quick list of what my top 4 general development books that everyone should have on their shelf;&lt;/p&gt;  &lt;table cellspacing="0" cellpadding="2" width="633" border="0"&gt;&lt;tbody&gt;     &lt;tr&gt;       &lt;td valign="top" width="130"&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; margin-left: 0px; margin-right: 0px; border-right-width: 0px" height="142" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/SgdsI-bdgbI/AAAAAAAAAFA/g-k0Bg55KOQ/image4.png?imgmax=800" width="120" border="0" /&gt;&lt;/td&gt;        &lt;td valign="top" width="501"&gt;&lt;strong&gt;           &lt;br /&gt;Code complete (2nd Edition)&lt;/strong&gt;           &lt;br /&gt;Steve McConnell           &lt;br /&gt;Microsoft Press           &lt;br /&gt;          &lt;br /&gt;This is a practical guide to programming in general and the definitive guide to software construction. &lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="130"&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="150" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/SgdsJc9r-ZI/AAAAAAAAAFE/XlUB9nzYOwY/image7.png?imgmax=800" width="120" border="0" /&gt; &lt;/td&gt;        &lt;td valign="top" width="501"&gt;         &lt;br /&gt;&lt;strong&gt;Design Patterns - Elements of Reusable object oriented software.&lt;/strong&gt;           &lt;br /&gt;Gamma, Helm, Johnson and Vlissides           &lt;br /&gt;Addison Wesley           &lt;br /&gt;          &lt;br /&gt;The famous gang of four OO design patterns book.&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="130"&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="145" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/SgdsJ841mjI/AAAAAAAAAFI/KEANZTeyoEA/image10.png?imgmax=800" width="120" border="0" /&gt; &lt;/td&gt;        &lt;td valign="top" width="501"&gt;         &lt;br /&gt;&lt;strong&gt;Patterns of Enterprise Application Architecture&lt;/strong&gt;           &lt;br /&gt;Martin Fowler           &lt;br /&gt;Addison Wesley           &lt;br /&gt;          &lt;br /&gt;This book details many software design patterns found in enterprise software by the Thoughtworks guru, Martin Fowler.&lt;/td&gt;     &lt;/tr&gt;      &lt;tr&gt;       &lt;td valign="top" width="130"&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; border-right-width: 0px" height="173" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgdsKXjJW2I/AAAAAAAAAFM/2yewM5TTMJU/image13.png?imgmax=800" width="120" border="0" /&gt; &lt;/td&gt;        &lt;td valign="top" width="501"&gt;         &lt;br /&gt;&lt;strong&gt;The Mythical Man-Month            &lt;br /&gt;&lt;/strong&gt;Frederick P. Brooks           &lt;br /&gt;Addison Wesley           &lt;br /&gt;          &lt;br /&gt;This is a collection of essays on software project management that was first published in 1975. It contains the legendary &amp;quot;Brooks Law&amp;quot; - that adding manpower to a late project makes it later. The concepts laid out in this book are as valid today as they were 30 years ago.&lt;/td&gt;     &lt;/tr&gt;   &lt;/tbody&gt;&lt;/table&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/404338642390035520/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/12/essential-reading_08.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/404338642390035520'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/404338642390035520'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/12/essential-reading_08.html' title='Essential reading'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh4.ggpht.com/_ywGSbBn2y0E/SgdsI-bdgbI/AAAAAAAAAFA/g-k0Bg55KOQ/s72-c/image4.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8040124795543960267</id><published>2008-12-02T23:17:00.000Z</published><updated>2009-05-11T01:07:16.793+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><title type='text'>"New XBOX Experience" trashes my 360...</title><content type='html'>&lt;p&gt;Whilst I like to keep this as a technical blog, I must doff my cap to Microsoft's XBOX 360 warranty and repair service. I bought my 360 in Jan 2006 and didn't have any problems with it until the new XBOX experience was launched a couple of weeks ago.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; margin: 0px 15px 0px 0px; border-right-width: 0px" height="149" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgdsMwJXW4I/AAAAAAAAAFQ/jZAQZiE6vRQ/image5.png?imgmax=800" width="168" align="left" border="0" /&gt; Almost immediately (and probably coincidentally) I started to get video corruption problems, hanging and then finally, the ubiquitous 3 red rings of death!&lt;/p&gt;  &lt;p&gt;But that's not the point, first off kudos on extending the warranty to 3 years for this specific error - of which my 360 was just 1 month away from being out of warranty, and secondly for the lightning fast repair service.&lt;/p&gt;  &lt;p&gt;I've just logged on to check up on where my unit is, which I only posted to them on Wednesday last week, and they've fixed it and have shipped it back, it's being delivered tomorrow - that's less than 1 week!!&lt;/p&gt;  &lt;p&gt;COD: World at war stress relieving marathon due this weekend ;-) The wife will be pleased.....&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/8040124795543960267/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/12/xbox-experience-trashes-my-360_3739.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8040124795543960267'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8040124795543960267'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/12/xbox-experience-trashes-my-360_3739.html' title='&amp;quot;New XBOX Experience&amp;quot; trashes my 360...'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/SgdsMwJXW4I/AAAAAAAAAFQ/jZAQZiE6vRQ/s72-c/image5.png?imgmax=800' height='72' width='72'/><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2727866924041910420</id><published>2008-11-18T21:41:00.000Z</published><updated>2009-05-11T01:07:22.442+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='General Guff'/><title type='text'>Expand a virtual PC VHD file and extend the partition</title><content type='html'>&lt;p&gt;Ran into a few problems today, for one client who uses a VPN that doesn't work at all well with Vista, I have an XP development virtual PC. I needed to install visual studio sp1 (yet again) on it but my boot drive only had 4Gb of free space - the temporary installer needs more than that.&lt;/p&gt;  &lt;p&gt;After finding the excellent VHD Resizer I was able to resize by virtual disk by an additional 10Gb, however it doesn't extend the disk into this space and diskpart won't let you issue an extend command on the boot disk.&lt;/p&gt;  &lt;p&gt;The solution? Boot off another VHD with the resized disk as a second drive, then extend under this environment before shutting down and setting it back to the newly extended drive.&lt;/p&gt;  &lt;p&gt;Full answer here...&lt;/p&gt;  &lt;p&gt;&lt;a title="http://www.enusbaum.com/blog/2008/02/07/expand-a-virtual-pc-vhd-file-and-extend-the-partition/" href="http://www.enusbaum.com/blog/2008/02/07/expand-a-virtual-pc-vhd-file-and-extend-the-partition/"&gt;http://www.enusbaum.com/blog/2008/02/07/expand-a-virtual-pc-vhd-file-and-extend-the-partition/&lt;/a&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2727866924041910420/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/expand-virtual-pc-vhd-file-and-extend_18.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2727866924041910420'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2727866924041910420'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/expand-virtual-pc-vhd-file-and-extend_18.html' title='Expand a virtual PC VHD file and extend the partition'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1074581824960596503</id><published>2008-11-16T21:57:00.000Z</published><updated>2009-05-11T01:07:27.234+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='WPF'/><title type='text'>Using attached properties to compose new behaviour</title><content type='html'>&lt;p&gt;I was inspired by a posting on stackoverflow.com - &amp;quot;How do I drag an image around a canvas in WPF&amp;quot; - where the first response in most peoples heads is to work with mouse up/down/move events, track offset positions and move the UI element around in response - pretty reasonable right?&lt;/p&gt;  &lt;p&gt;Seeing as WPF's principles favours composition over inheritance and such like, what if instead we used the power of attached properties to attach new behaviour to a UIElement? Here's how to do it, first the code for the dependency property:&lt;/p&gt;  &lt;div&gt;   &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; DraggableExtender : DependencyObject
{
    &lt;span style="color: #008000"&gt;// This is the dependency property we're exposing - we'll &lt;/span&gt;
    &lt;span style="color: #008000"&gt;// access this as DraggableExtender.CanDrag=&amp;quot;true&amp;quot;/&amp;quot;false&amp;quot;&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;readonly&lt;/span&gt; DependencyProperty CanDragProperty =
        DependencyProperty.RegisterAttached(&lt;span style="color: #006080"&gt;&amp;quot;CanDrag&amp;quot;&lt;/span&gt;,
        &lt;span style="color: #0000ff"&gt;typeof&lt;/span&gt;(&lt;span style="color: #0000ff"&gt;bool&lt;/span&gt;),
        &lt;span style="color: #0000ff"&gt;typeof&lt;/span&gt;(DraggableExtender),
        &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; UIPropertyMetadata(&lt;span style="color: #0000ff"&gt;false&lt;/span&gt;, OnChangeCanDragProperty));

    &lt;span style="color: #008000"&gt;// The expected static setter&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; SetCanDrag(UIElement element, &lt;span style="color: #0000ff"&gt;bool&lt;/span&gt; o)
    {
        element.SetValue(CanDragProperty, o);
    }

    &lt;span style="color: #008000"&gt;// the expected static getter&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;bool&lt;/span&gt; GetCanDrag(UIElement element)
    {
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; (&lt;span style="color: #0000ff"&gt;bool&lt;/span&gt;) element.GetValue(CanDragProperty);
    }

    &lt;span style="color: #008000"&gt;// This is triggered when the CanDrag property is set. We'll&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// simply check the element is a UI element and that it is&lt;/span&gt;
    &lt;span style="color: #008000"&gt;// within a canvas. If it is, we'll hook into the mouse events&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; OnChangeCanDragProperty(DependencyObject d, 
        DependencyPropertyChangedEventArgs e)
    {
        UIElement element = d &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; UIElement;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (element == &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;;

        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (e.NewValue != e.OldValue)
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; ((&lt;span style="color: #0000ff"&gt;bool&lt;/span&gt;)e.NewValue)
            {
                element.PreviewMouseDown += element_PreviewMouseDown;
                element.PreviewMouseUp += element_PreviewMouseUp;
                element.PreviewMouseMove += element_PreviewMouseMove;
            }
            &lt;span style="color: #0000ff"&gt;else&lt;/span&gt;
            {
                element.PreviewMouseDown -= element_PreviewMouseDown;
                element.PreviewMouseUp -= element_PreviewMouseUp;
                element.PreviewMouseMove -= element_PreviewMouseMove;
            }
        }
    }

    &lt;span style="color: #008000"&gt;// Determine if we're presently dragging&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;bool&lt;/span&gt; _isDragging = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
    &lt;span style="color: #008000"&gt;// The offset from the top, left of the item being dragged &lt;/span&gt;
    &lt;span style="color: #008000"&gt;// versus the original mouse down&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; Point _offset;

    &lt;span style="color: #008000"&gt;// This is triggered when the mouse button is pressed &lt;/span&gt;
    &lt;span style="color: #008000"&gt;// on the element being hooked&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; element_PreviewMouseDown(&lt;span style="color: #0000ff"&gt;object&lt;/span&gt; sender, MouseButtonEventArgs e)
    {
        &lt;span style="color: #008000"&gt;// Ensure it's a framework element as we'll need to &lt;/span&gt;
        &lt;span style="color: #008000"&gt;// get access to the visual tree&lt;/span&gt;
        FrameworkElement element = sender &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; FrameworkElement;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (element == &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;;

        &lt;span style="color: #008000"&gt;// start dragging and get the offset of the mouse &lt;/span&gt;
        &lt;span style="color: #008000"&gt;// relative to the element&lt;/span&gt;
        _isDragging = &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
        _offset = e.GetPosition(element);
    }

    &lt;span style="color: #008000"&gt;// This is triggered when the mouse is moved over the element&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; element_PreviewMouseMove(&lt;span style="color: #0000ff"&gt;object&lt;/span&gt; sender, 
        MouseEventArgs e)
    {
        &lt;span style="color: #008000"&gt;// If we're not dragging, don't bother&lt;/span&gt;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (!_isDragging) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;;

        FrameworkElement element = sender &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; FrameworkElement;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (element == &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;;

        Canvas canvas = element.Parent &lt;span style="color: #0000ff"&gt;as&lt;/span&gt; Canvas;
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;( canvas == &lt;span style="color: #0000ff"&gt;null&lt;/span&gt; ) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;;
        
        &lt;span style="color: #008000"&gt;// Get the position of the mouse relative to the canvas&lt;/span&gt;
        Point mousePoint = e.GetPosition(canvas);

        &lt;span style="color: #008000"&gt;// Offset the mouse position by the original offset position&lt;/span&gt;
        mousePoint.Offset(-_offset.X, -_offset.Y);

        &lt;span style="color: #008000"&gt;// Move the element on the canvas&lt;/span&gt;
        element.SetValue(Canvas.LeftProperty, mousePoint.X);
        element.SetValue(Canvas.TopProperty, mousePoint.Y);
    }

    &lt;span style="color: #008000"&gt;// this is triggered when the mouse is released&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; element_PreviewMouseUp(&lt;span style="color: #0000ff"&gt;object&lt;/span&gt; sender, 
        MouseButtonEventArgs e)
    {
        _isDragging = &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
    }
}&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;As you can see, we hook into the events exposed from the target element whenever we detect the property being changed. This allows us to inject any logic we like!&lt;/p&gt;

&lt;p&gt;To use the behaviour, we include the namespace in XAML:&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Window &lt;/span&gt;&lt;span style="color: red"&gt;x&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: red"&gt;Class&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;WPFFunWithDragging.Window1&amp;quot;
        &lt;/span&gt;&lt;strong&gt;&lt;u&gt;&lt;em&gt;&lt;span style="color: red"&gt;xmlns&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: red"&gt;local&lt;/span&gt;&lt;/em&gt;&lt;/u&gt;&lt;/strong&gt;&lt;span style="color: blue"&gt;&lt;strong&gt;&lt;u&gt;&lt;em&gt;=&amp;quot;clr-namespace:WPFFunWithDragging&amp;quot;
&lt;/em&gt;&lt;/u&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;And then just attach the behaviour to the elements we want to be able to drag like so;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Canvas&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;
       &amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;Image &lt;/span&gt;&lt;span style="color: red"&gt;Source&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;Garden.jpg&amp;quot; 
              &lt;/span&gt;&lt;span style="color: red"&gt;Width&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;50&amp;quot; 
              &lt;/span&gt;&lt;span style="color: red"&gt;Canvas.Left&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;10&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Canvas.Top&lt;/span&gt;&lt;span&gt;=&amp;quot;10&amp;quot; 
              &lt;strong&gt;&lt;em&gt;&lt;u&gt;local&lt;/u&gt;&lt;/em&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style="color: blue"&gt;&lt;strong&gt;&lt;em&gt;&lt;u&gt;:&lt;/u&gt;&lt;/em&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span&gt;&lt;strong&gt;&lt;em&gt;&lt;u&gt;DraggableExtender.CanDrag=&amp;quot;true&amp;quot;&lt;/u&gt;&lt;/em&gt;&lt;/strong&gt;/&amp;gt;
   &amp;lt;/&lt;/span&gt;&lt;span style="color: #a31515"&gt;Canvas&lt;/span&gt;&lt;span style="color: blue"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;Cool huh? Sample code attached....&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1074581824960596503/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/using-attached-properties-to-compose_16.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1074581824960596503'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1074581824960596503'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/using-attached-properties-to-compose_16.html' title='Using attached properties to compose new behaviour'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8894830703697935869</id><published>2008-11-16T18:57:00.000Z</published><updated>2009-05-11T01:07:33.117+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>The Enterprise Stack</title><content type='html'>&lt;p&gt;What makes good software? Separation of concerns has got to be up there in a big way, ensuring you have relevant tiers to your application that deal with a particular set of concerns, but what does an enterprise software stack look like? I've been asked this question a number of times, so thought I would put up one of the ways in which I write software for SOA environments.&lt;/p&gt;  &lt;p&gt;To avoid being short down in flames, let me be clear, I'm not advocating any particular dogmatic approach here, just presenting one way that's worked for me in several situations in service oriented environments.&lt;/p&gt;  &lt;p&gt;So, here's the simplified picture of the stack:&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; margin-left: 0px; margin-right: 0px; border-right-width: 0px" height="347" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgX3ZQ6TKBI/AAAAAAAAAD8/eKFiojJZUT4/image%5B4%5D.png?imgmax=800" width="368" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Database&lt;/strong&gt;     &lt;br /&gt;At the very top of the stack we have the database or persistence engine - the place where our application is going to store it's data. This doesn't have to be a SQL database, but is more a concept of a place to store information. To this end this box could be satisfied by XML, an object database, text files, other external services and so on - indeed there may even be multiple boxes.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;The Data Abstraction Layer&lt;/strong&gt;     &lt;br /&gt;This layer is responsible for hooking repositories up to persistence. It should expose an engine flexible enough to work with a variety of types of physical repositories in a natural manner. Generally you won't write your own data abstraction layer, but will instead re-use one of many different technologies already available such as NHibernate, LINQ to Entities, LINQ to SQL and so on.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Repositories&lt;/strong&gt;     &lt;br /&gt;The repositories are responsible for fulfilling requests to obtain and modify data. This allows a further level of abstraction that describes the purpose of the code rather than the implementation. IE: A service will ask a repository to &amp;quot;SelectAllCustomers&amp;quot; rather than directly execute some LINQ query.&lt;/p&gt;  &lt;p&gt;Repositories deal in one thing and one thing only - Domain entities. Their inputs and outputs are usually one or more entity objects from the domain (see below). For example, suppose you were writing a pet shop application, you may have a repository for dealing with customers as follows;&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; margin-left: 0px; margin-right: 0px; border-right-width: 0px" height="116" alt="image" src="http://lh4.ggpht.com/_ywGSbBn2y0E/SgX3Z-ej-sI/AAAAAAAAAEA/hFSSziKk6Jw/image%5B14%5D.png?imgmax=800" width="324" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;As you can see we have methods for retrieving customers and for updating them. This makes working with customers extremely clear and self describing. The first method - SelectAll() will simply return all of the customers in the system (as customer Domain objects). SelectQuery will allow the description of how to get data, sort it and present it.... eg, using the CustomerQuery, one might be able to specify the sort order and direction, filters on fields, along with which rows to return for pagination.&lt;/p&gt;  &lt;p&gt;Each type of conceptual data would have it's own repository in the stack.&lt;/p&gt;  &lt;p&gt;(One alternative to using repositories is the active record pattern where entities expose methods and functions similar to those exposed from repositories)&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Domain Entities&lt;/strong&gt;     &lt;br /&gt;The domain model (in this instance) is a representation of the various entities that make up the problem you are describing along with their relationships and any operational logic (business rules).&lt;/p&gt;  &lt;p&gt;The following is an example of a simple domain model, working again with the fictitious pet shop example.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; margin-left: 0px; margin-right: 0px; border-right-width: 0px" height="308" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgX3amxnrnI/AAAAAAAAAEE/QHBFSWokdOY/image%5B9%5D.png?imgmax=800" width="480" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;In the diagram above we can see we have a customer entity, which has attributes describing the customer. It also contains a collection of Order entities representing the orders that this customer has made. Each order must have a customer, but a customer can have 0 or more orders.&lt;/p&gt;  &lt;p&gt;Where an order exists, this will have attributes of it's own to describe the order, along with a collection of order lines (0 or more). Each order must have one and only one customer.&lt;/p&gt;  &lt;p&gt;Moving down the graph, the order line will know which order it belongs to and also reference a product that the line of the order corresponds to. Each order line can only be within one order and it must also reference a product.&lt;/p&gt;  &lt;p&gt;As you can see, the domain model is just the object graph of the entities it represents. There may of course be more meat on the bones of your real life domain model, including operations on entities to implement business rules and such like.&lt;/p&gt;  &lt;p&gt;So, how does the repository return all of this information - where we simply invoke SelectById(10) to get the customer entity with an ID of 10? Well, the answer is actually in the DAL and repository layer.&lt;/p&gt;  &lt;p&gt;NHibernate and other OR/M technologies allow for something called Lazy loading - where the initial query loads the Customer object, but then wraps it's properties (called proxies) so that when they are invoked, it actually automatically goes back to the database to get the entities required.&lt;/p&gt;  &lt;p&gt;A second alternative is to describe how deep you want the graph to load in the repository implementation (or even make this a factor of the query parameter to allow control further down the stack). Again, most OR/M's allow you to specify what you want to load from the graph - such as specifying to load the orders and order lines for a customer at the same time as it gets the customer. This usually offers some performance gains too as only one query is executed. (And in fact is your only option if you are using LINQ to entities as of V1, which doesn't support lazy loading).&lt;/p&gt;  &lt;p&gt;Regardless, your DAL or your repositories should be able to hydrate an object graph based on a request from further down the stack, and should also ensure that when you do get an object from the database, it only get's one instance of it!! (IBATIS for example doesn't do this by default and you must implement your own Identity Mapper pattern that is used by repositories).&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Service implementations&lt;/strong&gt;     &lt;br /&gt;These are the actual end-points of your service - the ASMX you call, or in the case of WCF (my preference), the endpoints you've defined and implemented through service contracts.&lt;/p&gt;  &lt;p&gt;The service is responsible for taking an in-bound request object, working out what to do next, then invoke the appropriate repository methods to get or affect data before then assembling a response back to the caller.&lt;/p&gt;  &lt;p&gt;In other words, the service is invoked using a data contract in the form of a data transfer object (see below), it then, if necessary hydrates a domain object graph ready for use by repositories before invoking them and getting back domain objects. When it does, it uses assemblers (see below) to convert the full data representation from the domain into a structure of data that the client application is actually interested in (DTOs).&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Data Transfer Objects - DTOs      &lt;br /&gt;&lt;/strong&gt;The purpose of DTOs is to represent the data needed to complete an activity in it's most minimal form for transmission over the wire. For example, where a client application is interested in customers, but is only interested in the customer's name and ID, but not the other 20 fields, your DTO would only represent customers as name and ID. They are lightweight representations.&lt;/p&gt;  &lt;p&gt;Communication between client applications and the service tier is done only through the use of DTO objects.&lt;/p&gt;  &lt;p&gt;Interestingly DTO type objects may be present in your domain (but not called DTOs). You may have several different representations of customer for instance in order to optimise how much information flows across the network between the domain model and the database. The trade off is how simple you want to keep your domain versus how much control you want over database performance.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Assemblers&lt;/strong&gt;     &lt;br /&gt;The assemblers are used by the service implementations to map between the conventions of DTO and Domain. For example, if you have a DTO contract for updating a customer, an assembler would take this DTO and map it to a valid customer domain object. This would then be passed to the repositories for serialisation.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Service Proxies&lt;/strong&gt;     &lt;br /&gt;Hopefully this requires very little explanation, the service proxy is a client side implementation of the service implementation that maps to the communications channel and invokes the actual code on the service tier. Your client application works exclusively with the service proxies and the DTO's that it expects and returns.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;     &lt;br /&gt;This is just one way to build scalable N-tiered enterprise applications. Several of the concepts presented here are interchangeable with other methods - such as active record instead of domain + repository. Speaking from personal experience I have seen the above work very well on large scale implementations.&lt;/p&gt;  &lt;p&gt;It is also worth mentioning some supporting concepts. To truly realise benefit from the above implementation, one would need to use interface driven development to allow any piece of the stack to be mocked and unit tested effectively. In addition, dependency injection can make your life easier as the scale of the system grows, automatically resolving dependencies between various objects between the tiers.&lt;/p&gt;  &lt;p&gt;In the future I will post a simple example application with source code that uses all of the above techniques to demonstrate the implementation specifics. I hope this was worth writing and someone finds it useful.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/8894830703697935869/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/enterprise-stack_16.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8894830703697935869'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8894830703697935869'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/enterprise-stack_16.html' title='The Enterprise Stack'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/SgX3ZQ6TKBI/AAAAAAAAAD8/eKFiojJZUT4/s72-c/image%5B4%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1020134067123896799</id><published>2008-11-14T21:36:00.000Z</published><updated>2009-05-09T22:34:07.431+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><title type='text'>Microsoft Tech-Ed is over, I'm going back to work for a REST</title><content type='html'>&lt;p&gt;It's a shame that it's over for another year, and its been a fantastic, if somewhat tiring, week that I've thoroughly enjoyed. They cram in as much information as they can in the 5 days of the conference and provide you with everything you need to stay comfortable during the duration.&lt;/p&gt;  &lt;p&gt;On the social front, things were also good, the country drinks event was great on Wednesday night, and Barcelona overall was a cool place to hang out and chat about the day.&lt;/p&gt;  &lt;p&gt;The inhabitants of Barcelona must think there's a geek invasion or something though as every third table in the restaurants was debating Azure, L2E, federation in the cloud or whatever - but if that didn't convince them, then watching the games at the country drinks evening would have.&lt;/p&gt;  &lt;p&gt;One of the games during the night out was a form of bowling using a tennis ball. After the person had bowled, the ball was thrown back to the bowler. You could tell we were at a geek conference though as not one person managed to catch the ball!!!&lt;/p&gt;  &lt;p&gt;If anyone is thinking about Tech-Ed 2009 (in Berlin next year), I wouldn't hesitate to recommend it&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: block; float: none; margin-left: auto; border-left: 0px; margin-right: auto; border-bottom: 0px" height="327" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SgX2zncdy0I/AAAAAAAAAD4/3rxW8EAjv2Q/image%5B3%5D.png?imgmax=800" width="517" border="0" /&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1020134067123896799/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/microsoft-tech-ed-is-over-i-going-back_14.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1020134067123896799'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1020134067123896799'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/microsoft-tech-ed-is-over-i-going-back_14.html' title='Microsoft Tech-Ed is over, I&amp;#39;m going back to work for a REST'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh5.ggpht.com/_ywGSbBn2y0E/SgX2zncdy0I/AAAAAAAAAD4/3rxW8EAjv2Q/s72-c/image%5B3%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-825641203835914843</id><published>2008-11-14T20:42:00.000Z</published><updated>2009-05-09T22:27:27.553+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Oslo'/><title type='text'>Day 5 - 13:30 : An introduction to Oslo (mostly M)</title><content type='html'>&lt;p&gt;This session, run by Jon Flanders focused on the new M modelling language - specifically MSchema and MGrammar. To be honest the entire session concentrated on using MSchema to generate T-SQL to create a database which I didn't feel was a great example and certainly wasn't real world.&lt;/p&gt;  &lt;p&gt;We already have a perfectly good textual DSL for building databases - it's called T-SQL, and just like the DSL, it can be split across multiple files, can generate data, and can be stored in source control for versioning.&lt;/p&gt;  &lt;p&gt;I really like Jon Flanders, he's a great guy, and he did a much better job of presenting M that I ever could, but I honestly didn't enjoy this session one bit.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/825641203835914843/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-5-1330-introduction-to-oslo-mostly.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/825641203835914843'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/825641203835914843'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-5-1330-introduction-to-oslo-mostly.html' title='Day 5 - 13:30 : An introduction to Oslo (mostly M)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-496330053957608682</id><published>2008-11-14T20:41:00.000Z</published><updated>2009-05-09T22:26:32.735+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='NHibernate'/><category scheme='http://www.blogger.com/atom/ns#' term='Entity Framework'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 5 - 10:45 : Data access smackdown! Making sense of Microsoft's new data access strategy (DAT02-IS)</title><content type='html'>&lt;p&gt;&lt;a href="http://www.stephenforte.net/" target="_blank"&gt;Stephen Forte&lt;/a&gt;, Chief Strategy Officer from Telerik, started this interactive session reviewing the history of Microsoft's data access offerings and then discussing the latest multitude of choices. As this was an interactive session, there were lots of questions, comments and debates going on throughout.&lt;/p&gt;&lt;p&gt;A quick history - Microsoft gave us ODBC, then DAO with JET was sat on top of this, RDO wrapped DAO and ODBC, and then there was ODBCDirect. I can remember working with all of these technologies, so I must be getting on a bit now! (not really, I'm 35, technology just changes quickly). Anyway, from this they gave us ADO and with the release of .NET, we got ADO.NET.&lt;/p&gt;&lt;p&gt;Today we have a bunch of options available and moving forward into the future, we're going to have even more choice. Sat atop of ADO.NET we have the conceptual model LINQ technologies (LINQ to SQL, XML, Entities, REST) along with cloud services (Azure) and SSDS (now SDS). That's without even thinking about 3rd party solutions like NHibernate, SubSonic etc - although these were also discussed.&lt;/p&gt;&lt;p&gt;The debate was on-going concerning which technology should be used in which context, and as ever - there is "No Silver Bullet" - the stock answer to such a question is, and should be, it depends.&lt;/p&gt;&lt;p&gt;Choosing which data access strategy you use should be one that gives the highest return for least complexity - not just the one that seems the most technically pure as this is purely subjective - eg: "objects first" people are going to look for OR/M, "data first" guys are looking for T-SQL and so on....&lt;/p&gt;&lt;p&gt;If this means you want OR/M and are using TDD or you need facilities like lazy loading (and you don't always!), then avoid the entity framework - which doesn't cope well with either. In that scenario, perhaps you'd stick to NHibernate. On the other hand if you want highly optimised database queries and you want full control over them for whatever reason, use plain old ADO.NET. Maybe if you're writing a system that doesn't need lazy loading or you're not using TDD, then perhaps the entity framework is a great way to very quickly get started using entities with very little code.&lt;/p&gt;&lt;p&gt;I get frustrated by dogma and elitists saying there's only one way to do things - the way they do it! We all have our preferred way of working, and I'm the first to promote various strategies and techniques as being good options, and sure, I'm occasionally guilty of being dogmatic, but dogma hurts objectivity - we should always consider the project in question and what is best for it rather than fly flags and banners.&lt;/p&gt;&lt;p&gt;Stephen was questioned about, and acknowledged the vote of no-confidence and it's validity - and he made a very, very good point - this is V1 of the framework. The guys involved in EF are aware of it's limitations and are working to resolve them, but are heading in the right direction at least. Personally, I feel I came out of this session a little less dogmatic and a little more objective.&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/496330053957608682/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-5-1045-data-access-smackdown-making.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/496330053957608682'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/496330053957608682'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-5-1045-data-access-smackdown-making.html' title='Day 5 - 10:45 : Data access smackdown! Making sense of Microsoft&amp;#39;s new data access strategy (DAT02-IS)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3523446542836260875</id><published>2008-11-14T19:22:00.000Z</published><updated>2009-05-09T22:28:43.048+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><category scheme='http://www.blogger.com/atom/ns#' term='Scrum'/><title type='text'>Day 5 - 15:15 : The TechEd Daily Scrum</title><content type='html'>&lt;p&gt;Presented by Stephen Forte again (second time inside of a single day!), this final session at Tech-Ed was a review of what SCRUM is, how it's working for people and then it turned over to mass debate.&lt;/p&gt;  &lt;p&gt;Again, we find religious arguments coming to a head in this scenario between the agile purists and the more pragmatic fixed price bid guys. &lt;/p&gt;  &lt;p&gt;Personally, I'm somewhere in between, where, given the opportunity to do a time + materials project using SCRUM, I would prefer to, but often we must be realistic and offer fixed price contracts to clients, even though doing so is difficult because up front design is always wrong and this is why SCRUM rejects this outright.&lt;/p&gt;  &lt;p&gt;(Saying this though, even in fixed price bid contracts, one can still apply and benefit from the principles of SCRUM (backlogs, sprints, daily scrums, business owner involvement etc). Doing so will just expose problems earlier, which is a positive thing.)&lt;/p&gt;  &lt;p&gt;Big design up front wise - the minute a specification is published it starts to go out of date and becomes incorrect. Never have I (nor had anyone else in the room) seen a specification written before a project and been able to go back and compare the delivery with the original specification to find an exact match.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;&amp;lt;Ranting&amp;gt;&lt;/em&gt;&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;These differences, errors and omissions add time to the project, but in relation to total project time, not just in relation to the slippage felt by the initial mistake. For example, If I have a 4 month project and during month 1, I find slippage of 1 week, does my project length get extended by 1 week only?&lt;/p&gt;    &lt;p&gt;No - it gets extended as a factor of the time so far consumed and remaining. &lt;/p&gt;    &lt;p&gt;My project was 4 months, and in the first month I found an omission that has cost me 25% of the time I've spent so far, so it's a reasonable assumption that I'll find a similar quantity of omissions in the remaining development, so my overall increase isn't 1 week, it's 1 month - this is a &lt;strong&gt;fact&lt;/strong&gt; that causes many development projects to be seen as failures that have gone drastically over time and over budget.&lt;/p&gt;    &lt;p&gt;This principle, which has been proven many times was written by &lt;a href="http://en.wikipedia.org/wiki/Fred_Brooks" target="_blank"&gt;Fred Brookes&lt;/a&gt; in an essay back in 1975 and it is as valid today as it was back then. I recommend reading the book: &lt;a href="http://www.amazon.co.uk/Mythical-Month-Essays-Software-Engineering/dp/0201835959/ref=sr_1_1?ie=UTF8&amp;amp;s=books&amp;amp;qid=1226696251&amp;amp;sr=8-1" target="_blank"&gt;mythical man month&lt;/a&gt; for more information on this and many other principles - including the famous Brookes Law - adding more manpower to a late project makes it later.&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;&lt;em&gt;&amp;lt;/Ranting&amp;gt;&lt;/em&gt;&lt;/p&gt;  &lt;p&gt;Anyway, back to the session - it was highly enjoyable and despite the presence of significant dogma - I think everyone was able to learn something new from each other and from the presenter.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3523446542836260875/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-5-1515-teched-daily-scrum.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3523446542836260875'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3523446542836260875'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-5-1515-teched-daily-scrum.html' title='Day 5 - 15:15 : The TechEd Daily Scrum'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2577464584215878058</id><published>2008-11-14T08:51:00.000Z</published><updated>2009-05-09T22:26:21.878+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 5 - 09:00 : Identity and cloud services (ARC302)</title><content type='html'>&lt;p&gt;Vittorio Bertocci presented this session on how to work with identity across services and environments using the cloud.&lt;/p&gt;  &lt;p&gt;Traditionally in enterprise we have a set of users and a set of resources that they can access. Each time the user accesses a resource, the user is validated against this source and granted or denied access etc. This scenario starts to become more complex when you wish to allow other environments to access your resources or for your users to access resources in other environments.&lt;/p&gt;  &lt;p&gt;The solution is to outsource aspects of identity management to the cloud, allowing relationships and credentials to be managed across technologies, services and environments. Where two systems, organisations or environments have no trust between them, we can use a claims transformer or resource security token system (R-STS) in the cloud that is trusted by both. &lt;/p&gt;  &lt;p&gt;This provides a natural point of trust brokering with customers and partners along with a natural point of authorisation evaluation and enforcement. &lt;/p&gt;  &lt;p&gt;Azure provides this type of service through the .NET services access control service. In this service, every solution gets a dedicated R-STS instance. The application has it's own policy which remains the same, whilst rules are created for how to transform between your various customers or partners tokens (or windows live credentials etc) to your own through the R-STS.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2577464584215878058/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-5-0900-identity-and-cloud-services_14.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2577464584215878058'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2577464584215878058'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-5-0900-identity-and-cloud-services_14.html' title='Day 5 - 09:00 : Identity and cloud services (ARC302)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5163754879573165961</id><published>2008-11-13T21:35:00.000Z</published><updated>2009-05-09T22:26:21.878+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 4 - 17:30 : Building and consuming REST based data services for the web. (WUX313)</title><content type='html'>&lt;p&gt;In this session, Mike Flasko demonstrated the new ADO.NET data services framework that enables developers to create services that expose data over a REST interface using industry standard formats and semantics such as JSON and AtomPub.&lt;/p&gt;  &lt;p&gt;The reason I attended this session was to find out what this was all about because on the face of it, the idea of a data services framework worries me for a variety of reasons, including;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Why would I ever expose my &lt;strong&gt;entire&lt;/strong&gt; data model over a REST interface? &lt;/li&gt;    &lt;li&gt;Surely doing so breaks separation of concerns? My clients should be invoking a service or REST interface that returns targeted and focused results based on a strict request/response model. &lt;/li&gt;    &lt;li&gt;Isn't the data services framework tied to LINQ to Entities? &lt;/li&gt;    &lt;li&gt;Opening up an interface direct to my data sounds extremely dangerous and opens it to all manner of abuses! &lt;/li&gt;    &lt;li&gt;What if I have business logic executed when I manipulate data within my service - using data services this can't be expressed! &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Taking each in turn;&lt;/p&gt;  &lt;p&gt;&lt;u&gt;Why would I ever expose my &lt;strong&gt;&lt;em&gt;entire&lt;/em&gt;&lt;/strong&gt; data model over REST?       &lt;br /&gt;&lt;/u&gt;Quite simply, data is what drives much of web 2.0 - it drives mash-ups and makes data driven AJAX, flash and Silverlight applications possible. &lt;/p&gt;  &lt;p&gt;Normally we may expose this data through a bunch of services (possibly REST) with tightly defined semantics such as GetCustomers, GetCustomer(1) and so on. The data services team suggest however that as the application complexity and size increases, managing these interfaces can become cumbersome and tedious and may be serviced better by interfacing directly to the data via a specific data service.&lt;/p&gt;  &lt;p&gt;These data services are exposed as REST, allowing access to your data model by navigable URL. For example, lets say you have a data model of People with Contact telephone numbers, you could access this data with the following HTTP conventions;&lt;/p&gt;  &lt;p&gt;To get a list of people you would execute a standard GET verb request against the resource URL which might be something like: http://yourdomain.com/yourservice.svc/data/people&lt;/p&gt;  &lt;p&gt;To filter people, you would pass over parameters to the URL, perhaps like this: http://yourdomain.com/yourservice.svc/data/people?$filter=A$field=Name&lt;/p&gt;  &lt;p&gt;Whilst to get a specific person with an ID of 12, you might look at http://yourdomain.com/yourservice.svc/data/people(12)&lt;/p&gt;  &lt;p&gt;From here you can get a list of that persons contact details: http://yourdomain.com/yourservice.svc/data/people(12)/contacts&lt;/p&gt;  &lt;p&gt;To make changes to the data, you simply change the HTTP verb. Eg: to update a record, you would POST it, to insert, you would PUT and to remove you would DELETE (standard rest interface), and the results would be returned back in the format requested in the header (ie: you can set the accept type header value to specify that you want atom or JSON etc) - the outcome of any given action would also have a status response, which again map to the standard HTTP status codes - (eg: people(12) where no person exists with ID 12 would generate a 404 not found status error).&lt;/p&gt;  &lt;p&gt;When data is returned it also has relative navigable references to other parts of the data model. Again this is a common REST feature which describes not only the data that is being returned, but also how to navigate it by invoking the service with more specific information.&lt;/p&gt;  &lt;p&gt;On the client side, you are able to query against your data service using a LINQ query, offering a powerful and intelligent way to request the data you want from the web service, but this is also one of my concerns. &lt;/p&gt;  &lt;p&gt;&lt;u&gt;Isn't this breaking the principle of separation of concerns?&lt;/u&gt;     &lt;br /&gt;I believe it is because your calling code is tightly coupled to the semantics of your entity model, rather than being coupled only to the DTO that it is expecting to be returned. This might be a problem in some situations, but in others it may be perfectly fine, so there isn't a hard and fast rule here.&lt;/p&gt;  &lt;p&gt;&lt;u&gt;Isn't the data services framework tied to LINQ to Entities?      &lt;br /&gt;&lt;/u&gt;My next concern was the reliance of the data services framework on LINQ to entities, of which I'm not a big fan. I'm led to believe however that this isn't true. Apparently, your data service is able to expose any object model in any way you see fit, but in a limited 75 minute session, this wasn't covered in any detail. I'm assuming though that this will at least require that the context of your data (eg, an NHibernate session) implement the IQueryable interface to allow LINQ queries to run against it. Again, I'll reserve judgement on this until I've seen an implementation of a data service that isn't exposing a LINQ to entities model.&lt;/p&gt;  &lt;p&gt;&lt;u&gt;Opening up an interface direct to my data sounds extremely dangerous and opens it to all manner of abuses!      &lt;br /&gt;&lt;/u&gt;In terms of security however, my concerns were unfounded. One of the things I really liked about data services was the ability to lock down your data with any rule you can code. You use standard authentication and authorization mechanisms (this is just HTTP after all) to govern, with fine granularity, access permissions at entity level, row level and field level - this will please SPROC aficionado's who often argue they don't use OR/M technologies because they lose row level security on their data.&lt;/p&gt;  &lt;p&gt;&lt;u&gt;Business rules      &lt;br /&gt;&lt;/u&gt;Finally, the business rules and logic issue is still perfectly valid. If you need to carry out rules processing during invokation of operations on your model, then a conventional approach would be more suitable as you don't get this opportunity under data services. When a request arrives to manipulate data - it is surfaced straight into the data services framework and executes against your data.&lt;/p&gt;  &lt;p&gt;Overall I thought the technology was interesting and could see uses for it in numerous areas. In enterprise applications with distinct layers and business rules however I'm not sure it's that applicable, and I'd also like to see it surface a non-L2E model.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5163754879573165961/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-4-1730-building-and-consuming-rest_13.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5163754879573165961'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5163754879573165961'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-4-1730-building-and-consuming-rest_13.html' title='Day 4 - 17:30 : Building and consuming REST based data services for the web. (WUX313)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6606243450889948060</id><published>2008-11-13T20:20:00.000Z</published><updated>2009-05-09T22:26:21.879+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 4 - 15:45 : An overview of the Azure services platform (ARC201)</title><content type='html'>&lt;p&gt;David Chappell is perhaps one of my favourite speakers from the conference. He tackled an objective look at Microsoft's new Azure platform in this session and gave what I thought was the clearest overview of the vision.&lt;/p&gt;  &lt;p&gt;Azure is Microsoft's new distributed platform that they define as &amp;quot;Windows in the cloud&amp;quot; and &amp;quot;Infrastructure in the cloud&amp;quot;. It's like having a huge data centre available on-tap, without having to invest heavily in capital expenditure, you simply rent the size of cloud you want, and scale up/down as needed.&lt;/p&gt;  &lt;p&gt;It offers not only the ability to deploy your applications to a scalable platform but also provides the ability to consume standard Azure service offerings including (amongst several others);&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;.NET Services &lt;/li&gt;    &lt;li&gt;SQL Data services &lt;/li&gt;    &lt;li&gt;Live services &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;The fabric of Azure essentially provides a layer on top of thousands of virtual machines, all running windows server 2008, 64bit. Each virtual machine has a 1:1 relationship with a physical processor core. The fabric layer provides an abstraction on top of this virtualised hardware, so we can't access the virtual machines directly (eg: RDP to them), but we can build .NET applications in certain roles and deploy out to them.&lt;/p&gt;  &lt;p&gt;This is an extremely beneficial deployment model for whomever is building the next facebook, myspace or amazon out there - being able to build for the cloud and deploy incrementally to a scalable off-premises infrastructure allows new killer applications to fail fast or scale fast without huge capital outlay.&lt;/p&gt;  &lt;p&gt;This of course is not actually new - Amazon's elastic compute cloud, storage solutions, google's app engine, gears etc all offer the same sorts of cloud infrastructure and utility computing. In fact, for existing apps that can't be ported to use Azure functionality like storage, Amazon's EC2 platform provides a good alternative as this allows you to supply virtual machine images into the infrastructure, whereas Azure abstracts this away.&lt;/p&gt;  &lt;p&gt;The roles initially available are the web role and worker role. These correlate directly to an IIS hosted web application and standard .NET executable applications respectively, but deployed and hosted through the Azure fabric and the core services that this provides.&lt;/p&gt;  &lt;p&gt;These core services include the storage service which allows us to store;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Blobs      &lt;ul&gt;       &lt;li&gt;Storing a simple hierarchy of any binary representation of data directly into the Azure storage services. &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Tables      &lt;ul&gt;       &lt;li&gt;Storing structured data into hierarchical tables (not RDBMS tables). &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Queues      &lt;ul&gt;       &lt;li&gt;Storing data into queues that allow communication between web and worker role instances. &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Data in storage is exposed to applications via a RESTful interface with a query language based on the LINQ C# syntax. Data can be accessed by Applications or from other on-premises or cloud based applications.&lt;/p&gt;  &lt;p&gt;In addition to the core Azure components of the web / worker roles and storage, it also offers a suite of pre-built ancillary services that can be consumed as mentioned above - presumably we'll pay extra for these, but the only comment Microsoft would make on pricing during the conference was that they will be competitive. &lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Azure .NET services      &lt;br /&gt;&lt;/strong&gt;This provides;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Access control services &lt;/li&gt;    &lt;li&gt;Service bus &lt;/li&gt;    &lt;li&gt;Workflow &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;em&gt;Access control services&lt;/em&gt;     &lt;br /&gt;Different organisations identify users with tokens that contain different claims. Each organisation might have different semantics and applications, especially across organisations, can be presented with a confusing mess.&lt;/p&gt;  &lt;p&gt;Azure's solution to this problem is to have an access control service that implements a security token service (STS) in the cloud. It accepts an incoming token (of various types if necessary) and issues out another one that may or may not differ from the incoming one. This allows for scenarios of single sign on across enterprises and organisations etc, from multiple sign on sources.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;Service Bus&lt;/em&gt;     &lt;br /&gt;Exposing internal applications out onto the internet isn't easy. Network address translation and firewalls get in the way of efficiently and securely exposing your on-premises application to other users.&lt;/p&gt;  &lt;p&gt;In Azure, the service bus provides a cloud-based intermediary between clients and internal applications. Organisation X may expose application A by connecting it to the service bus - it initiates the connection, over standard ports, and keeps the connection open, thereby ensuring NAT doesn't interfere. Meanwhile, Organisation Y opens their connection to the service bus and connects to these intermediary end-points that map back to the actual organisation's end points.&lt;/p&gt;  &lt;p&gt;Of course all of this is controlled and secured with integration to the access control service.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;Workflow&lt;/em&gt;     &lt;br /&gt;Where should workflow logic that co-ordinates cross organisation composite applications be run?&lt;/p&gt;  &lt;p&gt;Azure helps to make this clear by having the workflow service run WF based workflows in the cloud. There are some limits on what activities can be used (eg: no code activities), but having the workflow run in the cloud overcomes the problem it is meant to address.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;SQL Data Services&lt;/strong&gt;     &lt;br /&gt;Formerly known as SSDS - this is now just SDS - is built on SQL server and provides a mechanism for working with a fixed hierarchy of data tied to a data sync service based on the sync framework. Whilst this sounds much like the storage service, the ultimate aim of SDS is to provide more database relevant facilities like reporting, analysis, ETL and more.&lt;/p&gt;  &lt;p&gt;It's important to distinguish that SDS is built on SQL server, but it is not SQL Server. It's a hierarchy storage solution. Each data centre has authorities and each of these has data containers, which in turn consist of entities and entities have properties. Each property has a name, a type and a value. &lt;/p&gt;  &lt;p&gt;This may seem a little limiting, but one key advantage is never having to worry about managing SQL servers or SDS itself. You just see data, not the database - all scalability and management etc is taken care of, on behalf of your application by the Azure platform.&lt;/p&gt;  &lt;p&gt;SDS data is accessed via SOAP and REST (including ADO.NET Data services) and, just like with the storage service, it provides a query language based on the LINQ syntax with queries returning entities. Unlike storage services however, SDS supports database type functionality with order by and join operations.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Live services&lt;/strong&gt;     &lt;br /&gt;Live services and the live framework offers something called a live operating environment (LOE) that allows for;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Accessing live services data, and personal data      &lt;ul&gt;       &lt;li&gt;Contacts &lt;/li&gt;        &lt;li&gt;Hotmail &lt;/li&gt;        &lt;li&gt;Calendar &lt;/li&gt;        &lt;li&gt;Search &lt;/li&gt;        &lt;li&gt;Maps &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Creating a mesh of devices      &lt;ul&gt;       &lt;li&gt;My vista desktop &lt;/li&gt;        &lt;li&gt;My MAC OSX desktop &lt;/li&gt;        &lt;li&gt;My windows mobile device &lt;/li&gt;        &lt;li&gt;All running the live operating environment, with data synchronised across all devices and into the cloud. &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Creating mesh enabled web applications that can run through your browser, on your desktop or on any device within your live mesh. &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Applications that are built to run within the mesh, on all of the LOE devices - create and consume both cloud and local data by using the live framework to access live services data via it's exposed REST interface (data is presented in the AtomPub format).&lt;/p&gt;  &lt;p&gt;Applications are rich internet applications (RIAs) built using silverlight, javascript, flash etc and run from the desktop or from the cloud on the devices within the mesh. A user can add devices into their mesh and can then select to install mesh applications (from a catalog) to the LOE in the cloud that are then also presented via the LOE on the mesh devices.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;     &lt;br /&gt;Microsoft are investing heavily in Azure and there's no doubt that cloud computing and more specifically utility computing will be a significant factor in the future and the Azure platform overall offers some exciting opportunities to exploit and monetise ideas with much lower commitment and risk.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6606243450889948060/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-4-1545-overview-of-azure-services_13.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6606243450889948060'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6606243450889948060'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-4-1545-overview-of-azure-services_13.html' title='Day 4 - 15:45 : An overview of the Azure services platform (ARC201)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2250549340809067648</id><published>2008-11-13T13:05:00.000Z</published><updated>2009-05-09T22:20:21.845+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='WF'/><category scheme='http://www.blogger.com/atom/ns#' term='WCF'/><title type='text'>Day 4 - 13:30 : Building WCF services with WF in .NET 4.0 (SOA302)</title><content type='html'>&lt;p&gt;Jon Flanders from plural sight took this session looking at how you can expose WCF services from windows workflow on the .NET 4.0 stack, continuing from yesterdays first looks session.&lt;/p&gt;  &lt;p&gt;A cool feature being introduced is the ability to generate xaml only workflows in the form of .XAMLX files. These, when hosted in IIS or another host, allow an entire WCF endpoint along with all of the WF logic to be defined in a single xaml file. This file can be hand cranked or you can utilise the new WPF enabled WF designer surface.&lt;/p&gt;  &lt;p&gt;Guidance suggests benefits can be achieved using WF to define WCF services if the service;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Calls a database, calls another service, or uses the file system. &lt;/li&gt;    &lt;li&gt;Coordinates parallel work &lt;/li&gt;    &lt;li&gt;Enforces ordering between messages &lt;/li&gt;    &lt;li&gt;Coordinates messages with application state &lt;/li&gt;    &lt;li&gt;Is long running &lt;/li&gt;    &lt;li&gt;Requires rich tracking information &lt;/li&gt; &lt;/ul&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2250549340809067648/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-4-1330-building-wcf-services-with_13.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2250549340809067648'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2250549340809067648'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-4-1330-building-wcf-services-with_13.html' title='Day 4 - 13:30 : Building WCF services with WF in .NET 4.0 (SOA302)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7634049191151975784</id><published>2008-11-12T17:27:00.000Z</published><updated>2009-05-09T22:19:13.981+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Sharepoint'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><title type='text'>Day 3 - 17:30 : Develop with the visual studio 2008 extensions for sharepoint</title><content type='html'>&lt;p&gt;I went to this presentation to learn about the new visual studio extensions for sharepoint, unfortunately the presentation was an exact repeat of a PDC video I had already watched. &lt;/p&gt;  &lt;p&gt;The sharepoint extensions for visual studio 2008 make building sharepoint applications much easier than before and allow simple packaging of sharepoint solutions for deployment. &lt;/p&gt;  &lt;p&gt;For more information, (and in fact to watch the exact same presentation as I've just seen again) see the following PDC video: &lt;a href="http://channel9.msdn.com/pdc2008/BB13/"&gt;http://channel9.msdn.com/pdc2008/BB13/&lt;/a&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7634049191151975784/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-3-1730-develop-with-visual-studio_12.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7634049191151975784'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7634049191151975784'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-3-1730-develop-with-visual-studio_12.html' title='Day 3 - 17:30 : Develop with the visual studio 2008 extensions for sharepoint'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2576080405362974672</id><published>2008-11-12T13:37:00.000Z</published><updated>2009-05-09T22:18:29.073+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><category scheme='http://www.blogger.com/atom/ns#' term='Entity Framework'/><title type='text'>Day 3 - 13:30 : An in-depth look at the ADO.NET Entity framework (DAT307)</title><content type='html'>&lt;p&gt;This presentation, with Elisa Flasko, was covering an introduction to the entity framework and how it fits with common application patterns - client server, web applications and distributed N-Tier apps etc. &lt;/p&gt;  &lt;p&gt;The ADO.NET Entity framework is the next layer up in the ADO.NET technology stack that allows us to describe data using a conceptual model mapped to the database using a declarative mapping and queries using LINQ to entities.&lt;/p&gt;  &lt;p&gt;The demonstration started with replacing the data access layer of a client server application by importing an existing database structure. This pulled in the table structures and stored procedures of an existing database to an entity model, automatically resolving 1:n, 1:1 and n:n relationships to properties and collections etc.&lt;/p&gt;  &lt;p&gt;The result of this was a graphical view of the entity model. This is where my first concern is with the entity framework. Visual tools simply do not scale in large scale applications - imagine having hundreds or thousands of entities - a graphical tool simply doesn't cut it. Once the number of entities increases to any significant number the visual model becomes cumbersome. &lt;/p&gt;  &lt;p&gt;That aside, the demonstration then moved to consuming data. Rather than programming against the physical data model, you write code against the conceptual entity model. If you're at all familiar with OR/M solutions such as NHibernate or SubSonic, none of these concepts will be alien to you.&lt;/p&gt;  &lt;p&gt;One nice facility was the seamless integration between EF and LINQ, allowing elegant, strongly typed and intellisense enabled queries to be defined. (This isn't unique to EF however, there is LINQ for NHibernate for example)&lt;/p&gt;  &lt;p&gt;As you would hope, when queries execute, EF has a built in identity mapper pattern to ensure that only one instance of the same entity exists within the same context at any one time - this is an incredibly important feature to ensure you're always working with the correct and same unique object.&lt;/p&gt;  &lt;p&gt;The presentation moved on to using EF in a web application and using object data sources within ASP.NET, with two way binding etc. As far as EF goes, the usage wasn't particularly different from using it in the client server environment.&lt;/p&gt;  &lt;p&gt;Moving to N-Tier applications, as you might expect, the service layers utilise EF but then expose out from this data transfer objects (DTOs), although the speaker did mention that passing entities directly across the wire is &lt;em&gt;possible&lt;/em&gt;. Personally I would always go for the DTO pattern as this represents best practice to send out only the data your clients need to consume.&lt;/p&gt;  &lt;p&gt;Next, we looked at using ADO.NET data services (project Astoria) to expose an entity model directly over HTTP. This was reasonably cool, allowing the client to still query against the entity model using LINQ, but have this then executed remotely via your data service. Whilst this is a cool feature, it moves the responsibility for query to the wrong tier - the client should ask the service for data, the service should get it and return it appropriately - having the client issue any query it likes via the service breaks this separation, but is a cool feature non-the-less.&lt;/p&gt;  &lt;p&gt;Whilst the EF is a very positive step forward in the OR/M space for Microsoft, the fact is that there are more mature, open and proven technologies already in existence (such as NHibernate), and that several other persons in the field have issued &lt;a href="http://efvote.wufoo.com/forms/ado-net-entity-framework-vote-of-no-confidence/" target="_blank"&gt;a vote of no-confidence for the framework&lt;/a&gt; which must all be considered before proceeding with an EF implementation.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2576080405362974672/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-3-1330-in-depth-look-at-adonet_12.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2576080405362974672'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2576080405362974672'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-3-1330-in-depth-look-at-adonet_12.html' title='Day 3 - 13:30 : An in-depth look at the ADO.NET Entity framework (DAT307)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6770754881773664810</id><published>2008-11-12T12:06:00.000Z</published><updated>2009-05-09T22:15:25.693+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><title type='text'>Tech-Ed - Free TShirt of the week.</title><content type='html'>&lt;p&gt;Just got a free t-shirt from the guys that produce dotfuscator. On the front the slogan is;&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;&lt;strong&gt;&lt;font size="4"&gt;&amp;quot;I can see you, I'm instrumenting&amp;quot;&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;and on the rear;&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;&lt;strong&gt;&lt;font size="4"&gt;&amp;quot;You can't see me, I'm obfuscating&amp;quot;&lt;/font&gt;&lt;/strong&gt;&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;Definite geek t-shirt, but I find this hilarious.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6770754881773664810/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/tech-ed-free-tshirt-of-week_12.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6770754881773664810'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6770754881773664810'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/tech-ed-free-tshirt-of-week_12.html' title='Tech-Ed - Free TShirt of the week.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1255368666023078439</id><published>2008-11-12T10:09:00.000Z</published><updated>2009-05-09T22:16:35.232+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='WF'/><title type='text'>Day 3 - 10:45 : Windows Workflow Foundation 4.0: A first look (SOA207)</title><content type='html'>&lt;p&gt;Presented by Aaron Skonnard, co-founder Pluralsight, this session looked at the up-coming release of windows workflow foundation 4.0.&lt;/p&gt;  &lt;p&gt;Firstly, my definition of workflow is slightly different to how MS define workflow. I think of workflow as the definition of a process - usually some form of state machine type process which involves activities consisting of system and human interaction. MS define workflow the same in most ways, but consider workflow to additionally be a new way to write software overall. &lt;/p&gt;  &lt;p&gt;In this guise, WF helps to move traditional sequential processing (get input, store state, with control flow logic) into a loose coupled distributed world (SOA). However, the current implementation of WF has challenges for adoption including;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Limited support for XAML only workflows. &lt;/li&gt;    &lt;li&gt;Versioning is problematic &lt;/li&gt;    &lt;li&gt;Limited base activity library &lt;/li&gt;    &lt;li&gt;Writing custom activities and managing data flow is not easy enough today &lt;/li&gt;    &lt;li&gt;Limited WCF integration and activity support &lt;/li&gt;    &lt;li&gt;No generic server host environment &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;WF 4.0 aims to address these issues in .NET 4.0 by introducing:&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;XAML only workflows are the new default, with a unified model between WF, WCF and WPF. (Set breakpoints in XAML, designer writes XAML etc) &lt;/li&gt;    &lt;li&gt;Extended base activity library      &lt;ul&gt;       &lt;li&gt;Flow Control          &lt;ul&gt;           &lt;li&gt;Flowchart &lt;/li&gt;            &lt;li&gt;ForEach &lt;/li&gt;            &lt;li&gt;DoWhile &lt;/li&gt;            &lt;li&gt;Break &lt;/li&gt;         &lt;/ul&gt;       &lt;/li&gt;        &lt;li&gt;WCF          &lt;ul&gt;           &lt;li&gt;SendMessage &lt;/li&gt;            &lt;li&gt;ReceiveMessage &lt;/li&gt;            &lt;li&gt;ClientOperation &lt;/li&gt;            &lt;li&gt;ServiceOperation &lt;/li&gt;            &lt;li&gt;CorrelationScope &lt;/li&gt;            &lt;li&gt;InitializeCorrelation &lt;/li&gt;         &lt;/ul&gt;       &lt;/li&gt;        &lt;li&gt;Others          &lt;ul&gt;           &lt;li&gt;Assign &lt;/li&gt;            &lt;li&gt;MethodInvoke &lt;/li&gt;            &lt;li&gt;Persist &lt;/li&gt;            &lt;li&gt;Interop &lt;/li&gt;            &lt;li&gt;PowerShellCommand &lt;/li&gt;         &lt;/ul&gt;       &lt;/li&gt;        &lt;li&gt;+ MS are planning to ship additional activities via codeplex. &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Simplified WF programming model &lt;/li&gt;    &lt;li&gt;Support for arguments, variables, expressions &lt;/li&gt;    &lt;li&gt;Major improvements to WCF integration &lt;/li&gt;    &lt;li&gt;Runtime and designer improvements (designer is WPF based) &lt;/li&gt;    &lt;li&gt;Hosting and management via &amp;quot;Dublin&amp;quot; &lt;/li&gt; &lt;/ul&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1255368666023078439/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-3-1045-windows-workflow-foundation_12.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1255368666023078439'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1255368666023078439'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-3-1045-windows-workflow-foundation_12.html' title='Day 3 - 10:45 : Windows Workflow Foundation 4.0: A first look (SOA207)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5888497215885194561</id><published>2008-11-12T09:06:00.000Z</published><updated>2009-05-09T22:16:35.232+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><title type='text'>Day 3 - 09:00 : Writing custom LINQ providers - LINQ to Anything (TLA317)</title><content type='html'>&lt;p&gt;This session was presented by Bart J.F. De Smet, software development engineer from Microsoft, concentrating on the theory for writing your own data providers for LINQ.&lt;/p&gt;  &lt;p&gt;He ran through the implementation of the open source implementation of LINQ to AD, allowing LINQ to query active directory using the LDAP language. The key principles revolved around implementing IQueryable, IQueryProvider and how expression trees are parsed and how lamda expressions are used in the context of Func&amp;lt;&amp;gt; and Expression&amp;lt;Func&amp;lt;&amp;gt;&amp;gt;.&lt;/p&gt;  &lt;p&gt;Assigning lambdas as Func&amp;lt;&amp;gt; compile to IL code, whilst using Expression&amp;lt;Func&amp;lt;&amp;gt;&amp;gt; treats code as data, allowing it to be parsed through expression trees (with other LINQ query information) for transformation to another, external, language.&lt;/p&gt;  &lt;p&gt;The session was supposed to be a 300 level session but, as the presenter pointed out, it was actually a 400+ session, covering very technical, in-depth topics at lightning speed. I leave further investigation as an exercise for the reader (and for me!), looking at the LINQ to AD or LINQ to sharepoint code for good examples of implementing custom providers.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5888497215885194561/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-3-0900-writing-custom-linq_12.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5888497215885194561'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5888497215885194561'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-3-0900-writing-custom-linq_12.html' title='Day 3 - 09:00 : Writing custom LINQ providers - LINQ to Anything (TLA317)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4615464182827875980</id><published>2008-11-11T21:23:00.000Z</published><updated>2009-05-09T22:16:35.233+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 2 - 15:15 : How LINQ works: A deep dive into the C# implementation of LINQ.</title><content type='html'>&lt;p&gt;Luke Hoban presented this 400 level session. Luke is the program manager for visual studio languages.&lt;/p&gt;  &lt;p&gt;Having not really used LINQ in anger, I was interested in following this session to understand a little more about LINQ and how it works. I got lost at about the time he started talking about expression trees for D-LINQ - which takes the query and rather than processing it, instead builds an SQL query, but I managed to get the basic principles down. If any of the following is wrong, then that's purely my fault, not the presenters.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;LINQ to Objects - translation from query to code      &lt;br /&gt;&lt;/strong&gt;Despite appearances, the following code doesn't actually get represented directly by IL when it is compiled. Instead it is first translated into invocations of methods, and in fact you could of written the same query in the way in which it is translated;&lt;/p&gt;  &lt;div&gt;   &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;var query = from c &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; GetSomeList()
    &lt;span style="color: #0000ff"&gt;where&lt;/span&gt; c.City == &lt;span style="color: #006080"&gt;&amp;quot;London&amp;quot;&lt;/span&gt;
    select c;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The translated form:&lt;/p&gt;

&lt;div&gt;
  &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #0000ff"&gt;bool&lt;/span&gt; IsCustomerFromLondon(SomeType obj)
{
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;( obj.City == &lt;span style="color: #006080"&gt;&amp;quot;London&amp;quot;&lt;/span&gt; ) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
}
...
IEnumerable&amp;lt;SomeType&amp;gt; query = GetSomeList().Where(IsCustomerFromLondon);&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In fact, if we were doing it this way, we could make life easier for ourselves by using a Lambda expression:&lt;/p&gt;

&lt;div&gt;
  &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;IEnumerable&amp;lt;SomeType&amp;gt; query = GetSomeList().Where( c =&amp;gt; c.City == &lt;span style="color: #006080"&gt;&amp;quot;London&amp;quot;&lt;/span&gt; );&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The C# compiler does this exact same thing - it actually transforms to invoking the above methods etc and this is what is turned into IL and built into your assemblies. The main difference being the compiler optimises the delegate construction (which is expensive) by caching it - so when it's used again, it just re-uses it from the cache. In the case of the Lambda expression, this is generated into code as a method that resembles our IsCustomerFromLondon method, but given a munged name and marked with the [CompilerGenerated] attribute.&lt;/p&gt;

&lt;p&gt;The GetSomeList() method above returns an IEnumerable object. LINQ provides an extension method to IEnumerable - the where method, which takes a Func&amp;lt;type, bool&amp;gt; delegate expression for comparison. This is implemented as follows;&lt;/p&gt;

&lt;div&gt;
  &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; IEnumerable&amp;lt;T&amp;gt; Where&amp;lt;T&amp;gt;(&lt;span style="color: #0000ff"&gt;this&lt;/span&gt; IEnumerable&amp;lt;T&amp;gt; source, Func&amp;lt;T, &lt;span style="color: #0000ff"&gt;bool&lt;/span&gt;&amp;gt; filter)
{
    &lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;( item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; source )
        &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;( filter(item))
            &lt;span style="color: #0000ff"&gt;yield&lt;/span&gt; &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; item;
}&lt;/pre&gt;
&lt;/div&gt;

&lt;div&gt;&amp;#160;&lt;/div&gt;

&lt;div&gt;&lt;strong&gt;Deferred Execution&lt;/strong&gt;&lt;/div&gt;

&lt;div&gt;Be aware though that this where method isn't invoked immediately, rather it is invoked on demand. Using our original query, if we then enumerated through the results, as;&lt;/div&gt;

&lt;div&gt;&amp;#160;&lt;/div&gt;

&lt;div&gt;
  &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #0000ff"&gt;foreach&lt;/span&gt;( SomeType item &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; query.List() )
{
    &lt;span style="color: #008000"&gt;// do something to item&lt;/span&gt;
}&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;It would invoke the where method at this point, as soon as it finds a match, it would then yield back to the caller until it is asked to get the next item, where it would pick up where it left off. This is all done under the covers, but you can see it in operation by implementing your own Where extension method on IEnumerable and debug stepping through the code.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Expression trees 
    &lt;br /&gt;&lt;/strong&gt;Luke then went on to describe expression trees where LINQ operates on the IQueryable interface instead of IEnumerable. The result of this is that the where extension methods and such like build expressions trees which contain a description of the code that invoked it rather than references to the delegate. This can then be used in the data provider to build SQL queries or such like. To be honest, I got lost at this point of the presentation as I've had only limited exposure to LINQ and haven't ever looked at the inner workings before. I'm hoping to find out more over the coming days of Tech Ed.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4615464182827875980/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-2-1515-how-linq-works-deep-dive.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4615464182827875980'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4615464182827875980'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-2-1515-how-linq-works-deep-dive.html' title='Day 2 - 15:15 : How LINQ works: A deep dive into the C# implementation of LINQ.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-9144508229597547332</id><published>2008-11-11T19:08:00.000Z</published><updated>2009-05-09T22:16:35.233+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 2 - 13:30 : Sense and Testability session (ARC307)</title><content type='html'>&lt;p&gt;Roy Osherove from Typemock presented this informative session about testability and design and how they relate to each other - specifically how we might design software to make it inherently testable. To be honest there was nothing particularly new about the concepts presented here, but it was nice to have these principles confirmed and reinforced.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;What makes a unit testable system?      &lt;br /&gt;&lt;/strong&gt;A unit-testable system is a system where for each piece of coded logic in the system, a unit test can be written easily enough to verify that it works as expected whilst keeping the PC/COF rules, which are;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;P&lt;/strong&gt;artial runs are always possible - you can run all or 1 test, they are not dependent upon each other.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;C&lt;/strong&gt;onfiguration is not needed - or at least, isolate tests that need configuration from tests that don't so that it is clear.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;C&lt;/strong&gt;onsistent pass/fail result. Ensure your test can be trusted - it produces the same result time and again until the code is changed.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;O&lt;/strong&gt;rder does not matter - running the tests in different orders won't change the results.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;F&lt;/strong&gt;ast - unit tests should execute quickly so that they remain useful.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;A problem posed      &lt;br /&gt;&lt;/strong&gt;Given the following method, how could you write a unit test to check both a positive and negative outcome?&lt;/p&gt;  &lt;div&gt;   &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;bool&lt;/span&gt; IsRetired(&lt;span style="color: #0000ff"&gt;int&lt;/span&gt; age)
{
    RulesEngine engine = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; RulesEngine();
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;( age &amp;gt;= engine.RetirementAge )
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;

    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
}&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Quite simply you can't. The tight coupling between the IsRetired method and the rules engine prevents us from testing a positive and negative outcome without having knowledge of the values that will be returned from the rules engine itself.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Interface based design decision 
    &lt;br /&gt;&lt;/strong&gt;So, we change our design to support testability - using interface based design we can de-couple and replace the testable parts of the code as follows;&lt;/p&gt;

&lt;div&gt;
  &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;interface&lt;/span&gt; IRulesEngine
{
    &lt;span style="color: #0000ff"&gt;int&lt;/span&gt; RetirementAge;
}

&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; MyClass
{
   &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; IRulesEngine _engine;

   &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; IRulesEngine Engine
   {
        get
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;( _engine == &lt;span style="color: #0000ff"&gt;null&lt;/span&gt; )
                _engine = &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; RulesEngine();
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; _engine;
        }
        set
        {
            _engine = &lt;span style="color: #0000ff"&gt;value&lt;/span&gt;;
        }
   }   
 
   &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;bool&lt;/span&gt; IsRetired(&lt;span style="color: #0000ff"&gt;int&lt;/span&gt; age)
   {
       &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;( age &amp;gt; Engine.RetirementAge )
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;

        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;; 
   }
}&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;We can now have a test specific version of IRulesEngine and have this present predictable results to our class and therefore test both positive and negative responses. By having dependencies on interfaces rather than concrete classes, it becomes easy to de-couple the parts and replace functionality with test specific instances.&lt;/p&gt;

&lt;p&gt;This in itself leads to problems however. The over-simplistic example above is itself quite cumbersome, so imagine how things would be if the class depended on 5 interfaces and each of those depended on 5 interfaces and so on. Resolving these dependencies could become prohibitive very quickly!&lt;/p&gt;

&lt;p&gt;For this reason we use dependency injection.&lt;/p&gt;

&lt;p&gt;Having an application centric register of concrete object types referenced against interface types, we can easily implement a locator or factory class that, given an interface being requested, can quickly create an instance of the concrete class. In turn, it would examine the dependencies of the concrete class and resolve these from the registry allowing for complex dependencies to be resolved just by asking the locator/factory for an instance of an interface.&lt;/p&gt;

&lt;p&gt;This of course is classic dependency injection. He recommended the use of constructor dependency injection, where dependencies are passed as interface references on the constructor of an object, for non-optional dependencies, and using property setter injection where optional dependencies exist. Eg: I may or may not have a logger depending on my scenario.&lt;/p&gt;

&lt;p&gt;Inversion of control (IoC) containers such as spring.net, castle windsor, structure map and the Microsoft unity application block provide these dependency injection facilities and more in an easy to use form out of the box, along with support for defining objects as having different life cycles (singleton for example).&lt;/p&gt;

&lt;p&gt;To summarise, design decisions made to support testing so far in the presentation included the use of interfaces to be able to replace objects and the use of a locator/container to help resolve dependencies automatically.&lt;/p&gt;

&lt;p&gt;Next, he spoke about testing static methods, properties and other things that haven't been implemented specifically to be testable. Eg, how do you test the paths in a method that uses DateTime.Now?&lt;/p&gt;

&lt;div&gt;
  &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;bool&lt;/span&gt; IsRetired(DateTime dateOfBirth)
{
    &lt;span style="color: #008000"&gt;// This is just pseudo code....&lt;/span&gt;
    &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;( (DateTime.Now - dateOfBirth) &amp;gt; 60 years )
        &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;true&lt;/span&gt;;
    
    &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; &lt;span style="color: #0000ff"&gt;false&lt;/span&gt;;
}&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You could solve it with an interface, say IClock, and have everywhere that needs to know the time use the ioc container to get an instance of the clock. This would clutter your code in many places though with lots of constructor parameters in lots of classes that need the IClock.&lt;/p&gt;

&lt;p&gt;Instead, it would be easier design the system to wrap the DateTime object with a new static class that is able to return either the value of DateTime.Now, or the value of a nullable DateTime property within it.&lt;/p&gt;

&lt;div&gt;
  &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #008000"&gt;// note: not thread safe....&lt;/span&gt;
&lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; SystemClock
{
    &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; DateTime? _forcedDateTime;

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; ForceDateTime( DateTime newDateTime )
    {
        _forcedDateTime = newDateTime;
    }

    &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;static&lt;/span&gt; DateTime Now
    {
        get
        {
            &lt;span style="color: #0000ff"&gt;if&lt;/span&gt;( _forcedDateTime.HasValue ) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; _forcedDateTime.Value;
            &lt;span style="color: #0000ff"&gt;return&lt;/span&gt; DateTime.Now;
        }
    }
}&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This approach just means you now have to enforce the policy to ensure developers always use SystemClock.Now instead of DateTime.Now. &lt;/p&gt;

&lt;p&gt;This abstraction allows us to control fake results for the purposes of testing, but sacrifices encapsulation - normally you wouldn't have the ability to force the date/time in a design not specifically intent on providing testability.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;General design for testability principles 
    &lt;br /&gt;&lt;/strong&gt;The following were some general principles that Roy advocated;&lt;/p&gt;

&lt;p&gt;Avoid big design up front. This doesn't mean avoid all design up front - but don't be too prescriptive. Design the purpose of a component and list the tests that must be satisfied.&lt;/p&gt;

&lt;p&gt;Use interface based designs.&lt;/p&gt;

&lt;p&gt;Avoid singletons, let a container specify transient/singleton life cycles of objects it creates. Where singletons are needed, use a static wrapper that creates a singleton instance of another class, but allow the wrapped class to still be constructed.&lt;/p&gt;

&lt;p&gt;Use IOC containers to resolve dependencies and specify life cycle.&lt;/p&gt;

&lt;p&gt;Avoid GOD methods - huge do-it-all methods. These prevent maintenance, are impossible to test. Avoid GOD methods by design - keep the single responsibility principle with calls to small methods.&lt;/p&gt;

&lt;p&gt;Have methods virtual by default.&lt;/p&gt;

&lt;p&gt;Don't use X = new X(), instead us Factory.MakeX() or Container.Resolve&amp;lt;IX&amp;gt;();&lt;/p&gt;

&lt;p&gt;Ensure a single responsibility for classes and methods.&lt;/p&gt;

&lt;p&gt;Overall, follow S.O.L.I.D. principles (For more information, see &lt;a href="http://butunclebob.com/Articles.UncleBob.PrinciplesOfOod" target="_blank"&gt;http://butunclebob.com/Articles.UncleBob.PrinciplesOfOod&lt;/a&gt;)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;&lt;u&gt;S&lt;/u&gt;&lt;/strong&gt;RP - single responsibility principle&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;&lt;u&gt;O&lt;/u&gt;&lt;/strong&gt;CP - open closed principle - ability to extend without modifying&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;&lt;u&gt;L&lt;/u&gt;&lt;/strong&gt;SP - Liskov substitution principle - derived classed must be substitutable for their base classes&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;&lt;u&gt;I&lt;/u&gt;&lt;/strong&gt;SP - The interface segregation principle - make fine grained interfaces that are client specific&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;&lt;u&gt;D&lt;/u&gt;&lt;/strong&gt;IP - Dependency inversion principle - depend on abstractions not on concretions.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;To close out, Roy finished with a catchy song.....about bad design. Obviously not that catchy though as I can't remember any of it.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/9144508229597547332/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-2-1330-sense-and-testability.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/9144508229597547332'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/9144508229597547332'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-2-1330-sense-and-testability.html' title='Day 2 - 13:30 : Sense and Testability session (ARC307)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6647151225931468016</id><published>2008-11-11T18:16:00.000Z</published><updated>2009-05-09T22:16:35.233+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><title type='text'>Day 2 - 10:45 : How IT will change in next 10 years and why you should care (ARC205).</title><content type='html'>&lt;p&gt;Miha Kralj is a senior architect with Microsoft whose job it is to think about and strategise for the future. According to him, that future is largely going to revolve around moving to cloud computing (unsurprising given the investment in Azure) and the transition to utility computing.&lt;/p&gt;  &lt;p&gt;Moving to utility computing is the same as moving to buying a car as a service - instead of buying a new car based on model, colour, style and such like, you'd choose the car as a service based on value for money and comfort. If you were buying a car as a service you would of course be taking a taxi.&lt;/p&gt;  &lt;p&gt;Miha suggests that utility computing will be provided by mega-data-centre providers who provide all the hardware, the power, the operational support and your enterprise will consume the services it needs and scale up/down as required.&lt;/p&gt;  &lt;p&gt;There is evidence to suggest a move towards this at present - out of all sales of servers worldwide, 3 customers represent 50% of the business. They of course are Microsoft, Google and Yahoo.&lt;/p&gt;  &lt;p&gt;Microsoft themselves no longer buy servers in the conventional sense - instead they purchase locked, sealed container &amp;quot;PODs&amp;quot; like the one pictured below, each consisting of a sealed environment with 200 physical servers. These remain locked unless availability of units falls below 95% (or in other words, when 100 servers have fried), at which point the container provider sends out an engineer.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; margin-left: 0px; border-left: 0px; margin-right: 0px; border-bottom: 0px" height="260" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgXxAwGiaNI/AAAAAAAAAD0/xCkZJHkV6dY/image%5B8%5D.png?imgmax=800" width="392" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;The consumption of servers by organisations such as Microsoft has a knock on effect on their carbon output. Microsoft have so many servers in their data centres (Chicago alone has capacity for 220 of the above containers), that worldwide they have the same carbon footprint as the entire aviation industry. That's 5% of the planets entire power output and emissions going straight to and attributed to one company!&lt;/p&gt;  &lt;p&gt;In fact if a POD provider is able to bring lower power variants to market, Microsoft are happy to replace entire containers to reduce operational costs - the significant cost of the data centre today isn't in capital outlay, it's in the operational cost - the power to run them and the power/water to cool them.&lt;/p&gt;  &lt;p&gt;As developers, we can't write code to be more green. Using a while loop isn't going to produce less carbon than a for loop, so no matter what we do as creators of software, that software will continue to rely on carbon hungry servers. The shift towards utility computing and consolidation of hardware can help to alleviate some of these issues by requiring less hardware to do more, and by building these mega-data-centres in strategic locations (Iceland was suggested), power consumption can be drastically reduced.&lt;/p&gt;  &lt;p&gt;Before widespread adoption of utility computing can be progressed however, there will be several hurdles that need to be overcome to promote trust in the industry. &lt;/p&gt;  &lt;p&gt;Firstly, solid, robust SLA's need to be put in place to promote confidence in off-premises infrastructure and secondly some form of regulation needs to come into play for the IT industry at large. When we plug our laptops into the power socket or when we drink from the tap, we only do so because of the trust established by regulation of those utilities that ensures we won't be fried or poisoned. IT needs the same regulation to promote trust.&lt;/p&gt;  &lt;p&gt;Whatever happens in the future, we can't just look back at past success and hope to repeat it. Just because it worked before doesn't mean it will in a future that could be governed by a new set of rules. &lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6647151225931468016/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-2-1045-how-it-will-change-in-next_11.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6647151225931468016'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6647151225931468016'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-2-1045-how-it-will-change-in-next_11.html' title='Day 2 - 10:45 : How IT will change in next 10 years and why you should care (ARC205).'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/SgXxAwGiaNI/AAAAAAAAAD0/xCkZJHkV6dY/s72-c/image%5B8%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5397554945307383</id><published>2008-11-11T18:00:00.000Z</published><updated>2009-05-09T22:16:35.234+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='Oslo'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><category scheme='http://www.blogger.com/atom/ns#' term='Dublin'/><category scheme='http://www.blogger.com/atom/ns#' term='WF'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 2 - 09:00 : A first look at Oslo, Dublin and WF 4.0</title><content type='html'>&lt;p&gt;David Chappell presented this session and, after yesterdays two post-keynote and frankly less engaging presentations, explained the upcoming new features of oslo, dublin and workflow foundation 4.0 very clearly.&lt;/p&gt;  &lt;p&gt;Applications can be distilled down to 3 major abstractions - they consist of workflow, services and models. The three new features supporting these abstractions are;&lt;/p&gt;  &lt;p&gt;Dublin - extensions to windows server for hosting services.&lt;/p&gt;  &lt;p&gt;Oslo - modelling technology to describe applications and other models.&lt;/p&gt;  &lt;p&gt;WF 4.0 - technology for coordinating work within software.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;What is workflow?      &lt;br /&gt;&lt;/strong&gt;In simple terms, workflow is a bunch of activities executed as a process.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;For what do we need workflow?&lt;/strong&gt;     &lt;br /&gt;Scalable applications that must pause and start (long running applications) and applications that must co-ordinate parallel work can all benefit from using WF without having to build the pause/restart/persist/un-persist mechanisms etc from scratch..&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;What's new in WF 4.0?      &lt;br /&gt;&lt;/strong&gt;WF 4 brings improvements to performance, new visual designers and more activities. It also introduces a new workflow type beyond the sequential and state machine workflows called flowchart. This new type is more powerful than the basic sequential workflow whilst is easier to work with than the even more powerful state machine. It provides the missing middle ground.&lt;/p&gt;  &lt;p&gt;Earlier versions of WF have been difficult to work with as the facilities for hosting workflow isn't provided out of the box. Microsoft are addressing this issue in WF 4.0 through &lt;strong&gt;Dublin.&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;What does Dublin provide?&lt;/strong&gt;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;A scalable host for WCF and WF services and applications &lt;/li&gt;    &lt;li&gt;Built in persistence for service state &lt;/li&gt;    &lt;li&gt;Management tools &lt;/li&gt;    &lt;li&gt;Auto start and heartbeat services - failed services restart etc. &lt;/li&gt;    &lt;li&gt;Message forwarding - content based routing &lt;/li&gt;    &lt;li&gt;Tracking and logging what's going on within your services &lt;/li&gt;    &lt;li&gt;Dublin will be &amp;quot;Free&amp;quot; (included in windows, but initially offered as a separate download) &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;strong&gt;What about Oslo?      &lt;br /&gt;&lt;/strong&gt;Oslo completes the picture by offering the ability to model against different schemas. But what is a model?&lt;/p&gt;  &lt;p&gt;A model is an abstract description of something - for example, a city map is an abstract description of the city. Models omit detail - the city map doesn't include terrain or information about all of the buildings, what colour they are and so on - it's an abstraction of the city for a given purpose - in this case navigation.&lt;/p&gt;  &lt;p&gt;Many different things can be described with models - WF workflows, services, applications and business processes for example. Models are able to be purely descriptive and informative or may even be executable&amp;#160; eg: in the case of a WF workflow. Models can also be linked to other models.&lt;/p&gt;  &lt;p&gt;Oslo itself is a general purpose modelling platform with 3 key components;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;A repository - storage for both schema (kinds of models) and instances of schemas (individual models) &lt;/li&gt;    &lt;li&gt;&amp;quot;M&amp;quot; - a modelling language used to define schemas. This divides into two other components MSchema and MGrammar discussed later. &lt;/li&gt;    &lt;li&gt;&amp;quot;Quadrant&amp;quot; - a visual modelling tool used against &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;The repository is where all the information about schemas and models are stored. Initially it's envisaged that Oslo will ship with schemas for processes, applications, workflow, activities, services and environments, but using &amp;quot;M&amp;quot;, you will be able to define any schema you can imagine.&lt;/p&gt;  &lt;p&gt;It's worth noting that the repository itself is just a simple SQL database - you can query it directly to interrogate models or schemas, and you don't even have to use &amp;quot;M&amp;quot; to define your schemas. If you can understand the database structure for a schema, you can create your own tools.&lt;/p&gt;  &lt;p&gt;&amp;quot;M&amp;quot;, the modelling language is used to define schemas. It splits into two areas: &amp;quot;MSchema&amp;quot;, which is a C# type language used to define the structure of models and &amp;quot;MGrammar&amp;quot; which is used to define textual domain specific languages (DSLs).&lt;/p&gt;  &lt;p&gt;MSchema defines structure of the model, the relationships between the structural elements and ultimately is used to generate T-SQL to define storage of model instances.&lt;/p&gt;  &lt;p&gt;MGrammar is used to define the syntax for new DSLs and provides tools for creating parsers of these DSLs. Examples of DSLs include SQL, regular expressions and also MSchema - Interestingly, and perhaps obviously, MSchema is a DSL created with MGrammar.&lt;/p&gt;  &lt;p&gt;The quadrant toolset is&amp;#160; a graphical tool that consumes schemas to provide a modelling surface with appropriate views. Schemas can be defined to have different viewers and control what tools appear in the designer for manipulation on these design surfaces.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5397554945307383/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-2-0900-first-look-at-oslo-dublin.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5397554945307383'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5397554945307383'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-2-0900-first-look-at-oslo-dublin.html' title='Day 2 - 09:00 : A first look at Oslo, Dublin and WF 4.0'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7380616854093023888</id><published>2008-11-10T22:30:00.000Z</published><updated>2009-05-09T22:16:35.235+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='SQL'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 1 - 17:45 : When you have too much data, good enough is good enough (ARC303)</title><content type='html'>&lt;p&gt;Presented by Pat Helland, this session was a high level talk that resided largely in the theoretical space and offered no real answers but rather problems were posed and left as exercises for the attendee to think about. &lt;/p&gt;  &lt;p&gt;The session aimed to challenge how we think about data and how rigid and prescriptive we are about our interfaces to the data and the usages of that data.&lt;/p&gt;  &lt;p&gt;This culminated in a look at how organisations often find themselves compromising data quality the larger that data gets. Amazon was used as a case study, where specifically their merchant API contracts aren't overly prescriptive about what data they expect in an effort to encourage merchant adoption over data quality. Instead, they have processes which attempt to reconcile data together, but ultimately they sacrifice data quality for the sake of simplicity for the merchants.&lt;/p&gt;  &lt;p&gt;For example, take shoes - they have no unique code - there's no ISBN or similar unique identification systems, yet if you were able to buy shoes on Amazon, pair of shoes X from manufacturer Y, sold by merchant A would appear as the same product on the site sold by merchant B, with the same unique Amazon product code. Merchant A may have sent distinctly less data than Merchant B, yet the Amazon service is able to apply logic to work out that the products are the same thing and present them as such.&lt;/p&gt;  &lt;p&gt;Merchant A and B both might send the colour and manufacturer name for instance, whilst merchant B might provide a host of additional information on top of this that can flesh out the product data. The idea being the colour and manufacturer name might be the prescriptive contract whilst the additional information from Merchant B is completely optional, not strictly defined and would be used to flesh out extra information on the product data (for both merchants) if it was available (from either). He even went so far as to suggest that contracts offer key/value pairs to allow any data to be passed optionally and used. (This gives me chills of the bad variety, I've got to say).&lt;/p&gt;  &lt;p&gt;Of course this is where the quality issues appear - it's not always 100% possible to match the two together so sometimes the same product will be brought into the catalogue as separate items. For Amazon, this is deemed acceptable rather than forcing a regimented API that merchants must adhere to.&lt;/p&gt;  &lt;p&gt;The ideas presented revolved around how classic RDBMS systems offer crisp answers over relatively small amounts of data, but new systems have huge amounts of data, high rates of change and large volumes of queries. As systems grow, data quality and it's meaning becomes more fuzzy - any schema, if it's even present, may vary across data and the origin of the data may be stale and we must be able to work with this data within given tolerances of staleness.&lt;/p&gt;  &lt;p&gt;For example, if we have an ordering API that allows our customers to place orders for products with us and that API exposes also a list of prices that updates at midnight each evening. If someone submitted an order at 11:59pm to your services that was processed at 12:01am, is your system going to reject the order because the pricing is stale? No - it should allow either the stale or the current pricing to be used for a period of time before enforcing such rules.&lt;/p&gt;  &lt;p&gt;This was discussed further as the concept of inside data and outside data. Inside data being the transactional systems we're all used to - you start a process, you freeze the database in time using a transaction and then commit when you're done. This is the historic model of databases, but today we have services to contend with that are outside of the transaction and so aren't within the same space/time as the database transaction. We have to deal with this in our systems in future.&lt;/p&gt;  &lt;p&gt;To cut the remainder of the story short, he theorised that for many businesses, just like Amazon, they are happy with &amp;quot;good enough&amp;quot; if it gives benefit elsewhere.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7380616854093023888/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-1-1745-when-you-have-too-much-data.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7380616854093023888'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7380616854093023888'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-1-1745-when-you-have-too-much-data.html' title='Day 1 - 17:45 : When you have too much data, good enough is good enough (ARC303)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3854465062589624603</id><published>2008-11-10T22:04:00.000Z</published><updated>2009-05-09T22:05:12.217+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 1 - 16:00 : The future of composite applications and SOA - everything they told you and why it isn't true (SOA202)</title><content type='html'>&lt;p&gt;The presentation opened with a video about the history of models. You can view this light hearted video here: &lt;a href="http://www.modelsremixed.com" target="_blank"&gt;www.modelsremixed.com&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Presented by Mark Berman and Steven Martin, this session covered (in quite simple terms) the future of SOA and some misnoma's about SOA in general. To begin with they addressed the following mistakes;&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;SOA is a product?      &lt;br /&gt;&lt;/strong&gt;Service oriented architecture is not a what, it's a how. You don't go and buy Microsoft SOA or IBM SOA, you build applications using the principles of SOA. It's another way to build applications or even another way to re-purpose them. In fact most recent high ROI implementations of SOA haven't been green field developments, but instead have been a wrapper over existing software, exposed as SOA.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;SOA aligns business to IT      &lt;br /&gt;&lt;/strong&gt;No, this is what people do. No technology can align business to IT, only people can achieve this.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;SOA governance fixes everything      &lt;br /&gt;&lt;/strong&gt;This is wrong, SOA governance alone is not enough - governance needs to span all of IT, not just SOA.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;SOA stops at the firewall&lt;/strong&gt;     &lt;br /&gt;Notice in many organisations today how the administrator of the firewall holds immense power! To truly benefit from SOA we need to be thinking of SOA as starting at the firewall.&lt;/p&gt;  &lt;p&gt;The presenters followed this up with a claim that essentially Microsoft pioneered SOA. This is claimed as Microsoft, along with other constituents, pioneered web services, a fundamental part of SOA itself.&lt;/p&gt;  &lt;p&gt;One of the issues Microsoft are looking to address is how, it's perceived at least, only blue chip / fortune 500 / FTSE companies are able afford to implement SOA successfully. They wish to make it available for the smaller organisation too.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Dublin&lt;/strong&gt; is the codename for a set of extensions to the windows server platform (IIS7 specifically) that are the next evolution of the WAS/IIS platform that will be used to host, run and manage windows communication foundation and windows workflow foundation applications.&lt;/p&gt;  &lt;p&gt;Released after visual studio 2010, dublin will provide facilities to manage, throttle and inspect individual services within a deployed application. Combined with OSLO, the graphical modelling toolset and DSL environment, building, deploying and managing services is purported to become easier than it is at present.&lt;/p&gt;  &lt;p&gt;Whilst this session was titled the future of composite applications and SOA, there wasn't enough depth to take away anything about the future of SOA beyond the rough idea of what dublin will be. &lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3854465062589624603/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-1-1600-future-of-composite_10.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3854465062589624603'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3854465062589624603'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-1-1600-future-of-composite_10.html' title='Day 1 - 16:00 : The future of composite applications and SOA - everything they told you and why it isn&amp;#39;t true (SOA202)'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5046515764990029400</id><published>2008-11-10T21:01:00.000Z</published><updated>2009-05-09T22:02:45.152+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Tech-Ed'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Day 1 : The Keynote</title><content type='html'>&lt;p&gt;After introductory comments and reinforcement of the Azure message, Jason Zander, general manager of visual studio team developer division of Microsoft took to the stage to present the future of visual studio in the guise of visual studio 2010. It got off to a flying start as VS crashed within a few minutes of the demo - but lets face it this IS pre-alpha software, so is easily forgiven.&lt;/p&gt;  &lt;p&gt;Amid many new enhancements in vs.net 2010, there were key improvements discussed in the following areas;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Understanding the code &lt;/li&gt;    &lt;li&gt;Building web applications &lt;/li&gt;    &lt;li&gt;Creating office business applications &lt;/li&gt;    &lt;li&gt;Using the power of C++ &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;There was quite a lot of depth to some of these changes, but to summarise some of what I felt were the more important ones;&lt;/p&gt;  &lt;p&gt;A new &amp;quot;architecture explorer&amp;quot;, is being introduced to help you visualise the structure and dependencies within your solution. It visually displays the relationships between assemblies within a project and provides drill down into the assemblies to see relationships between individual classes and namespaces and the connections between them are weighted according to the level of dependency.&lt;/p&gt;  &lt;p&gt;In addition to visualising the dependencies between areas of your solutions, individual portions of code can be extrapolated into UML 2.1.1 sequence diagrams - which is a useful addition, and I'm hoping this eludes to visual studio 2010 ultimately supporting UML modelling out of the box.&lt;/p&gt;  &lt;p&gt;Testing was a major focus for the next release, with 2010 introducing the testing activity centre, code-named Comono(?). This is a test environment for managing and running manual scripted tests. This is a major boon for the end-to-end experience and integrates into new debugging facilities in visual studio and TFS. Some of the highlights for this new facility;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Testers are presented with scripted steps to follow - test steps are marked as passing or failing. &lt;/li&gt;    &lt;li&gt;During testing, the system is able to take video of what the tester is doing as part of their session and also record replay information about the state of the application that can be replayed in the debugger within visual studio. &lt;/li&gt;    &lt;li&gt;When failures occur, a bug can be entered directly into TFS, attaching any video or replay session. &lt;/li&gt;    &lt;li&gt;In TFS, viewing any raised bugs from this process shows a list of steps the tester took, and each step provides a hyperlink to the timecode within the video so you can see exactly what the tester was doing. &lt;/li&gt;    &lt;li&gt;Historical debugging of the testers snapshot allows debugging of the testers session. &lt;/li&gt;    &lt;li&gt;The aim and objective of this suite is to eliminate the &amp;quot;unable to reproduce&amp;quot; responses developers often run into and to bring manual testing into the managed process. &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Alongside this new manual test studio, is the test lab management facilities. This allows virtual test environments (eg; different servers for various tiers) to be provisioned and used within the test. Again this is integrated back to TFS and visual studio, allowing virtual machines to be restored into the state they were at the point a bug was raised.&lt;/p&gt;  &lt;p&gt;Within visual studio, the editor itself has had a complete WPF overhaul. As a result of this, the editor can take advantage of lots of WPF goodness like the ability to contain and display any form of information, from the source code we know and love, to diagrams, graphics and other glyphs that might help us to understand or navigate the code more efficiently. The editor uses the extensibility framework (MEF) allowing for multiple add-ins for the editor and add-ins on add-ins on add-ins. X-copy deployment of extensions will also be supported as a by-product.&lt;/p&gt;  &lt;p&gt;The editor provides for intellisense support for jQuery and also offers a bunch of new refactoring capabilities - which I can't help but think treads on the toes of Resharper, which has got to annoy JetBrains somewhat.&lt;/p&gt;  &lt;p&gt;A new configuration transformer toolset is provided, which allows you to define transformation rules that will be applied when an application (web in this case) is deployed to various environments. Eg: Ability to change connection strings when preparing for production deployment versus debug deployment etc. One touch publishing of websites is also a new facility, where your entire web application is built and zipped into a single file ready for deployment with msdeploy.&lt;/p&gt;  &lt;p&gt;In the sharepoint space, demonstrations were given on the new sharepoint server explorer extensions and the WSP importer, which looks like it should speed up sharepoint development no end, especially tied to the new packaging explorer which allows you to package and deploy sharepoint applications easily. &lt;/p&gt;  &lt;p&gt;Finally, Jason demonstrated several new features of C++ including running parallel for loops and such like for performance.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5046515764990029400/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-1-keynote_10.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5046515764990029400'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5046515764990029400'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/day-1-keynote_10.html' title='Day 1 : The Keynote'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2958104991885734336</id><published>2008-11-01T21:00:00.000Z</published><updated>2009-05-09T22:00:56.709+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Architecture'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Datasets - what's the problem?</title><content type='html'>&lt;p&gt;I was talking with a friend of mine last night, an experienced developer who's leading a team of guys building a large commercial enterprise application. We were just chewing the fat over data access and how we approach things differently - I'm a fan of the domain model and use OR/M for persistence - usually NHibernate, but my buddy was advocating the use of the Dataset.&lt;/p&gt;  &lt;p&gt;Many of us are told that the Dataset is just evil incarnate, but that's not actually true - the Dataset does serve a purpose, just not one in an enterprise application with complex domain logic.&lt;/p&gt;  &lt;p&gt;The issue with a dataset is that it's not representational of data, it merely contains it. Beyond the activity of querying data and performing straight forward operations, it requires additional components. Representing complex logic and interrelated business entities is harder than it needs to be.&lt;/p&gt;  &lt;p&gt;A domain driven approach on the other hand, with entities representing data, provides more flexibility to describe your logic - for instance, a customer object will contain properties to represent itself, along with business logic for operations and rules that govern a customer object and it's relationships to other objects. &lt;/p&gt;  &lt;p&gt;Does that mean that the DataSet is intrinsically evil? No! &lt;/p&gt;  &lt;p&gt;Sure dataset's have their problems - amongst others, they enforce a database centric view of data and when they serialise they also serialise a description of the schema of the data resulting in a bloated payload (this can be disabled). Despite these problems however, for trivial systems, they can serve a purpose.&lt;/p&gt;  &lt;p&gt;It's a matter of choice. Even for trivial applications I would advocate a domain approach, but that's my preference. For anything non-trivial however and for any enterprise system, I'd avoid the dataset.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2958104991885734336/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/11/datasets-what-problem_01.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2958104991885734336'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2958104991885734336'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/datasets-what-problem_01.html' title='Datasets - what&amp;#39;s the problem?'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8511699703447783979</id><published>2008-10-31T20:59:00.000Z</published><updated>2009-05-09T22:17:07.304+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Rants and Raves'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><category scheme='http://www.blogger.com/atom/ns#' term='Links'/><title type='text'>Microsoft kill off LINQ to SQL</title><content type='html'>&lt;p&gt;&lt;a title="http://blogs.msdn.com/adonet/archive/2008/10/29/update-on-linq-to-sql-and-linq-to-entities-roadmap.aspx" href="http://blogs.msdn.com/adonet/archive/2008/10/29/update-on-linq-to-sql-and-linq-to-entities-roadmap.aspx"&gt;http://blogs.msdn.com/adonet/archive/2008/10/29/update-on-linq-to-sql-and-linq-to-entities-roadmap.aspx&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Microsoft are dropping support for LINQ to SQL as of .NET 4.0. This is a kick in the face for anyone who has invested time in what is a reasonable, if very basic, ORM solution - get porting folks!&lt;/p&gt;&lt;p&gt;I'm just glad I chose to continue using NHibernate.&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/8511699703447783979/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/10/microsoft-kill-off-linq-to-sql_31.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8511699703447783979'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/8511699703447783979'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/10/microsoft-kill-off-linq-to-sql_31.html' title='Microsoft kill off LINQ to SQL'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4920417459257544509</id><published>2008-10-28T20:58:00.000Z</published><updated>2009-05-09T21:59:04.844+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='ASP.NET'/><category scheme='http://www.blogger.com/atom/ns#' term='Links'/><title type='text'>ASP.NET error: could not load file or assembly App_Web*</title><content type='html'>&lt;p&gt;Reminder for me more than anything....&lt;/p&gt;  &lt;p&gt;Useful information about this annoying error:    &lt;br /&gt;&lt;a title="http://yetanotherdeveloper.com/post/2008/08/10/Could-not-load-file-or-assembly-App_Web.aspx" href="http://yetanotherdeveloper.com/post/2008/08/10/Could-not-load-file-or-assembly-App_Web.aspx"&gt;http://yetanotherdeveloper.com/post/2008/08/10/Could-not-load-file-or-assembly-App_Web.aspx&lt;/a&gt;     &lt;br /&gt;&lt;/p&gt;  &lt;p&gt;Summary of options:&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Turn off batch compilation in web.config (&amp;lt;compilation batch=&amp;quot;false&amp;quot;..)      &lt;br /&gt;&lt;/li&gt;    &lt;li&gt;Clear down the contents of Temporary ASP.NET Files (in windows\Microsoft.NET\Framework\vX.xx\)      &lt;br /&gt;&lt;/li&gt; &lt;/ul&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4920417459257544509/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/10/aspnet-error-could-not-load-file-or.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4920417459257544509'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4920417459257544509'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/10/aspnet-error-could-not-load-file-or.html' title='ASP.NET error: could not load file or assembly App_Web*'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4758721746517252743</id><published>2008-10-27T20:57:00.000Z</published><updated>2009-05-09T21:57:58.097+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Silverlight'/><title type='text'>Silverlight and Cross domain services</title><content type='html'>&lt;p&gt;Silverlight 2 allows you to invoke a web service on a different domain to where your XAP came from. In order to do this however, the owner of the service needs to enable it to allow cross domain calls.&lt;/p&gt;  &lt;p&gt;This entails creating an xml file in the root of the service web server called clientaccesspolicy.xml. A skeleton of this file, allowing any caller from any domain, is shown below;&lt;/p&gt;  &lt;div&gt;   &lt;pre class="csharpcode"&gt;&lt;span class="kwrd"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="html"&gt;xml&lt;/span&gt; &lt;span class="attr"&gt;version&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;1.0&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;encoding&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;utf-8&amp;quot;&lt;/span&gt; ?&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;access-policy&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;cross-domain-access&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;policy&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;allow-from&lt;/span&gt; &lt;span class="attr"&gt;http-request-headers&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;*&amp;quot;&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;domain&lt;/span&gt; &lt;span class="attr"&gt;uri&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;*&amp;quot;&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;allow-from&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;grant-to&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="kwrd"&gt;&amp;lt;&lt;/span&gt;&lt;span class="html"&gt;resource&lt;/span&gt; &lt;span class="attr"&gt;include-subpaths&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt; &lt;span class="attr"&gt;path&lt;/span&gt;&lt;span class="kwrd"&gt;=&amp;quot;/&amp;quot;&lt;/span&gt; &lt;span class="kwrd"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;grant-to&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;policy&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;cross-domain-access&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="kwrd"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="html"&gt;access-policy&lt;/span&gt;&lt;span class="kwrd"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4758721746517252743/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/10/silverlight-and-cross-domain-services_27.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4758721746517252743'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4758721746517252743'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/10/silverlight-and-cross-domain-services_27.html' title='Silverlight and Cross domain services'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2303266896442767986</id><published>2008-08-15T21:56:00.000+01:00</published><updated>2009-05-09T21:56:45.327+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='WPF'/><title type='text'>Exposing new properties for control templates using attached properties</title><content type='html'>There are many instances where you want to write a groovy looking control template to apply to your WPF controls only to find that the control you want to template falls short in the properties it provides - eg: Try specifying the over state gradient brush for a button using only it's exposed properties. In these situations you need some custom properties on the control to be able to tell your template what to do.   &lt;br /&gt;  &lt;br /&gt;In this situation there are several options open to you - you could hijack a property - bad idea when it comes to maintainability. Alternatively you could inherit the control and introduce the new properties - again, not the most ideal situation under WPF's composition model.   &lt;br /&gt;  &lt;br /&gt;By far the most flexible and easiest way to achieve this behaviour is with attached dependency properties.   &lt;br /&gt;  &lt;br /&gt;In the following example, we want to extend all of our buttons to provide not just a single line of text as you'd find on normal buttons, but we also want to have customisable sub-title line. To achieve this we start with the custom dependency property;   &lt;br /&gt;  &lt;br /&gt;  &lt;table style="border-right: rgb(229,229,229) 1px solid; border-top: rgb(229,229,229) 1px solid; border-left: rgb(229,229,229) 1px solid; border-bottom: rgb(229,229,229) 1px solid; background-color: rgb(242,242,242)" cellspacing="0" cellpadding="0" width="100%" border="0"&gt;&lt;tbody&gt;     &lt;tr style="vertical-align: top; line-height: normal"&gt;       &lt;td style="width: 40px; text-align: right"&gt;         &lt;pre style="border-right: rgb(231,231,231) 1px solid; padding-right: 2px; padding-left: 2px; font-size: 11px; padding-bottom: 2px; margin: 0px; color: gray; padding-top: 2px; font-family: courier new"&gt;1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;15&lt;br /&gt;16&lt;br /&gt;17&lt;br /&gt;18&lt;br /&gt;19&lt;br /&gt; &lt;/pre&gt;
      &lt;/td&gt;

      &lt;td&gt;
        &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;public&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;class&lt;/span&gt; ButtonPropertyExtender : DependencyObject&lt;br /&gt;{&lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;public&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;static&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;readonly&lt;/span&gt; DependencyProperty SubTextProperty &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt;&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; DependencyProperty.RegisterAttached(&lt;span style="font-weight: normal; font-size: 11px; color: rgb(102,102,102); font-family: courier new; background-color: rgb(228,228,228)"&gt;&amp;quot;SubText&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;typeof&lt;/span&gt;(String), &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;typeof&lt;/span&gt;(ButtonPropertyExtender),&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;new&lt;/span&gt; FrameworkPropertyMetadata(&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;null&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; FrameworkPropertyMetadataOptions.AffectsMeasure &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;|&lt;/span&gt;&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; FrameworkPropertyMetadataOptions.AffectsArrange));&lt;br /&gt;&lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;public&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;static&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;void&lt;/span&gt; SetSubText(UIElement element, &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;object&lt;/span&gt; o)&lt;br /&gt;&amp;#160; {&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; element.SetValue(SubTextProperty, o);&lt;br /&gt;&amp;#160; }&lt;br /&gt;&lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;public&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;static&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt; GetSubText(UIElement element)&lt;br /&gt;&amp;#160; {&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;return&lt;/span&gt; (&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt;)element.GetValue(SubTextProperty);&lt;br /&gt;&amp;#160; }&lt;br /&gt;}&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;&lt;/table&gt;

&lt;br /&gt;

&lt;br /&gt;Quite simply this registers a custom attached property with WPF and allows it to be attached to any element. The next thing we do is use the new property on our button thus; 

&lt;br /&gt;

&lt;br /&gt;

&lt;table style="border-right: rgb(229,229,229) 1px solid; border-top: rgb(229,229,229) 1px solid; border-left: rgb(229,229,229) 1px solid; border-bottom: rgb(229,229,229) 1px solid; background-color: rgb(242,242,242)" cellspacing="0" cellpadding="0" width="100%" border="0"&gt;&lt;tbody&gt;
    &lt;tr style="vertical-align: top; line-height: normal"&gt;
      &lt;td style="width: 40px; text-align: right"&gt;
        &lt;pre style="border-right: rgb(231,231,231) 1px solid; padding-right: 2px; padding-left: 2px; font-size: 11px; padding-bottom: 2px; margin: 0px; color: gray; padding-top: 2px; font-family: courier new"&gt;1&lt;br /&gt; &lt;/pre&gt;
      &lt;/td&gt;

      &lt;td&gt;
        &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&amp;lt;Button xc:ButtonPropertyExtender.SubText=&amp;quot;Subtitle text&amp;quot;&amp;gt;&lt;br /&gt;Click Me!&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&lt;br /&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;Button&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;&lt;/table&gt;

&lt;br /&gt;And finally, to use our new property in the control template, we bind to it - notice however how we cannot use the {TemplateBinding} shortcut - instead we must use the full binding expression to get to the new custom property. 

&lt;br /&gt;

&lt;br /&gt;

&lt;table style="border-right: rgb(229,229,229) 1px solid; border-top: rgb(229,229,229) 1px solid; border-left: rgb(229,229,229) 1px solid; border-bottom: rgb(229,229,229) 1px solid; background-color: rgb(242,242,242)" cellspacing="0" cellpadding="0" width="100%" border="0"&gt;&lt;tbody&gt;
    &lt;tr style="vertical-align: top; line-height: normal"&gt;
      &lt;td style="width: 40px; text-align: right"&gt;
        &lt;pre style="border-right: rgb(231,231,231) 1px solid; padding-right: 2px; padding-left: 2px; font-size: 11px; padding-bottom: 2px; margin: 0px; color: gray; padding-top: 2px; font-family: courier new"&gt;1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;  15&lt;/pre&gt;
      &lt;/td&gt;

      &lt;td&gt;
        &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;ControlTemplate&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;TargetType&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;Button&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;Border&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;Background&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;{TemplateBinding Background}&amp;quot;&lt;/span&gt; &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;BorderBrush&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;Black&amp;quot;&lt;/span&gt; &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;BorderThickness&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;2&amp;quot;&lt;/span&gt; &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;CornerRadius&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;10&amp;quot;&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;StackPanel&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;HorizontalAlignment&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;Center&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;ContentPresenter&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;Content&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;{TemplateBinding Content}&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;/&amp;gt;&lt;/span&gt;&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;TextBlock&lt;/span&gt; &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;Text&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;{Binding &lt;br /&gt;                 RelativeSource={RelativeSource TemplatedParent}, &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Path=(xc:ButtonPropertyExtender.SubText)}&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;/&amp;gt;&lt;/span&gt;&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;StackPanel&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;Border&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;ControlTemplate&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;&lt;/table&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2303266896442767986/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/08/exposing-new-properties-for-control_15.html#comment-form' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2303266896442767986'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2303266896442767986'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/08/exposing-new-properties-for-control_15.html' title='Exposing new properties for control templates using attached properties'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3226173368592229597</id><published>2008-07-02T21:53:00.002+01:00</published><updated>2010-05-19T10:26:24.043+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><category scheme='http://www.blogger.com/atom/ns#' term='SQL'/><title type='text'>Database Schema and Source Control - the tools</title><content type='html'>&lt;p&gt;A couple of weeks ago &lt;a href="http://www.deepcode.co.uk/2008/06/database-schema-in-source-control.html"&gt;I said I would release some example source code&lt;/a&gt; for managing database change and getting schemas into source control painlessly. Attached is the full source to the tool used in this approach. It's by no means production quality, I literally knocked this up in a couple of hours this evening, but it works and should provide a basis for improvement.&lt;/p&gt;&lt;p&gt;The tool allows you to follow the approach discussed in my &lt;a href="http://www.deepcode.co.uk/2008/06/database-schema-in-source-control.html"&gt;earlier post&lt;/a&gt; and have your scripts applied to your database as needed. The tool will also generate database creation and update scripts instead of applying them to your database directly - which is handy for packaging releases.&lt;/p&gt;&lt;p&gt;You'll find 3 projects in the solution - an example database project to run the tools against, a command line implementation of the schema tool and the schema engine itself.&lt;/p&gt;&lt;p&gt;To use the command line tool, use the following arguments;&lt;/p&gt;&lt;p&gt;Deepcode.SchemaTool.Cmd.exe - followed by; (items in red are mandatory);&lt;/p&gt;&lt;table cellspacing="0" cellpadding="2" width="100%" border="0"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;-h &lt;/td&gt;&lt;td valign="top"&gt;Display usage information &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;&lt;span style="color:#ff0000;"&gt;&lt;strong&gt;-l [location]&lt;/strong&gt;&lt;/span&gt; &lt;/td&gt;&lt;td valign="top"&gt;&lt;span style="color:#ff0000;"&gt;&lt;strong&gt;The location of your database project&lt;/strong&gt;&lt;/span&gt; &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;-m [dbscript] &lt;/td&gt;&lt;td valign="top"&gt;Specify db to run in database update mode - scripts will be applied to the database specified. Specify script to generate scripts to create the entire database and to patch it. &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;When running in database update mode (-m db), use these additional arguments;&lt;/p&gt;&lt;table cellspacing="0" cellpadding="2" width="100%" border="0"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;-s [server] &lt;/td&gt;&lt;td valign="top"&gt;The SQL Server to target (default to (local)) &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;&lt;span style="color:#ff0000;"&gt;&lt;strong&gt;-d [database]&lt;/strong&gt;&lt;/span&gt; &lt;/td&gt;&lt;td valign="top"&gt;&lt;span style="color:#ff0000;"&gt;&lt;strong&gt;The database to target&lt;/strong&gt;&lt;/span&gt; &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;&lt;strong&gt;&lt;span style="color:#ff0000;"&gt;-id [databaseid]&lt;/span&gt;&lt;/strong&gt; &lt;/td&gt;&lt;td valign="top"&gt;&lt;strong&gt;&lt;span style="color:#ff0000;"&gt;The id of the database in the DatabaseVersions tracking table.&lt;/span&gt;&lt;/strong&gt; &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;-c &lt;/td&gt;&lt;td valign="top"&gt;If present, instructs the engine to create the database if it doesn't exist. &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;-cd &lt;/td&gt;&lt;td valign="top"&gt;If present, instructs the engine to create the database. If it exists already, it will first be dropped. &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;-u [username] &lt;/td&gt;&lt;td valign="top"&gt;The SQL username to login to the server as - if not present the system will use windows authentication as the current windows identity. &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;-p [password] &lt;/td&gt;&lt;td valign="top"&gt;The password to connect to SQL server, when -u is being specified &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;When running in script generation mode (-m script), use these arguments;&lt;/p&gt;&lt;table cellspacing="0" cellpadding="2" width="100%" border="0"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style="WIDTH: 150px" valign="top"&gt;&lt;strong&gt;&lt;span style="color:#ff0000;"&gt;-o [location]&lt;/span&gt;&lt;/strong&gt; &lt;/td&gt;&lt;td valign="top"&gt;&lt;strong&gt;&lt;span style="color:#ff0000;"&gt;The location to store the generated SQL scripts.&lt;/span&gt;&lt;/strong&gt; &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;p&gt;To use this as part of your development process, place a copy of the exe into your trunk/library directory (or whatever strategy you use for SCC of dependencies), and create two batch files - one to update the database and one to generate the scripts. Then, whenever you make a change, just run the update script. When you release a version, run the generation script.&lt;/p&gt;&lt;p&gt;I didn't have time to do it tonight, but it should be trivial to wrap the same functionality as the command line host into a custom MsBuild task and automate everything. If anyone does this, please post a link to your wrapper source.&lt;/p&gt;&lt;p&gt;And finally, again, remember this isn't production quality, I offer no warranty etc...use at your own risk.&lt;/p&gt;&lt;p&gt;&lt;span style="font-size:180%;"&gt;&lt;a href="http://dbnet.codeplex.com"&gt;Click here for the source code&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3226173368592229597/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/07/database-schema-and-source-control.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3226173368592229597'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3226173368592229597'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/07/database-schema-and-source-control.html' title='Database Schema and Source Control - the tools'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-349758848785680086</id><published>2008-06-19T21:52:00.001+01:00</published><updated>2010-05-19T10:25:12.123+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><category scheme='http://www.blogger.com/atom/ns#' term='SQL'/><title type='text'>Database schema in source control</title><content type='html'>&lt;p&gt;Getting your database schema under source control is an important part of any development process as your solution isn't just the finely crafted code you've built, it's also the database schemas it uses.&lt;/p&gt;  &lt;p&gt;There are a variety of ways of bringing your schema into SCC, such as using Visual Studio Database Professional Edition, or one of the fine offerings from red gate, at an absolute minimum you should keep a script that is capable of recreating your schema, but with a little planning and a simple custom tool, it's reasonably straight forward to manage your schema very well without spending a fortune on tools. I present below the mechanism I'm using for the next release of flux. If you've not yet got your database schemas under source control, I'd recommend doing it now!&lt;/p&gt;  &lt;p&gt;The way I approach database schemas in source control is to setup a project with the following directories (if using visual studio, you can setup a simple database project and then create the structure shown below).&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: block; border-left-width: 0px; float: none; border-bottom-width: 0px; margin-left: auto; margin-right: auto; border-right-width: 0px" height="244" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgXtPPh8hAI/AAAAAAAAADs/kViGGueT1NU/image%5B2%5D.png?imgmax=800" width="227" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;The concept is, we define an immutable baseline that represents the initial structure of our database tables that, once committed to source control, will not be changed. We then apply any version updates to the structure to update it to the latest version before finally dropping and re-creating any dynamic elements such as stored procedures, views and functions.&lt;/p&gt;  &lt;p&gt;The baseline directory contains a single script to establish the initial structure of the database. At an absolute minimum this establishes a DatabaseVersions table as below and inserts a record into it that states the current version is 1.0.0.&lt;/p&gt;  &lt;p align="center"&gt;&lt;img title="image" style="border-top-width: 0px; display: block; border-left-width: 0px; float: none; border-bottom-width: 0px; margin-left: auto; margin-right: auto; border-right-width: 0px" height="126" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SgXtPYq2NxI/AAAAAAAAADw/s7t47DNJiOw/image%5B5%5D.png?imgmax=800" width="244" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;Note that the baseline scripts should not include the creation of any stored procedures, views, functions or other dynamic elements - these are re-created each time we run the update process against our database.&lt;/p&gt;  &lt;p&gt;With the baseline in place, the updates directory is then used to apply change scripts to the database as each change is made. Each change script makes all of the adjustments necessary in one atomic unit. Again updates are only to the tables, keys and constraints and not the dynamic elements which are covered shortly. As each update is applied, it sets the version number in the DatabaseVersions table to the new version.&lt;/p&gt;  &lt;p&gt;Each update is made up of one single script, and the file is named according to the version of the database that it updates. eg: If your script will update a version 2.0.4 database to 3.0.0, the script will be named update020004.sql.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;&lt;u&gt;&lt;em&gt;*** EDIT: BE AWARE, YOUR UPDATE SCRIPT SHOULD RUN WITHIN ONE BIG SQL TRANSACTION AND ROLLBACK ALL IF ANYTHING FAILS – THIS WILL ENSURE YOUR UPDATES AREN’T PART COMMITTED ***&lt;/em&gt;&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;  &lt;p&gt;The dynamic directory contains all of the various scripts that will drop and re-create any views, stored procedures, functions etc. Each object is represented by it's own script and each script should start by querying if the object already exists before dropping it and re-creating.&lt;/p&gt;  &lt;p&gt;The dynamic elements allow the database schema to be validated - for example, if a view uses a field that has been dropped in a recent update, the update process will fail as the view cannot be re-created with this erroneous field.&lt;/p&gt;  &lt;p&gt;As a manual process this would all be reasonably tiresome, so I suggest the creation of a custom build task, or command line application that you can run against a database, it's objectives being; &lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Connect to the database (optionally create it) &lt;/li&gt;    &lt;li&gt;Does the DatabaseVersions table exist? If not, run the initial baseline script against the database. &lt;/li&gt;    &lt;li&gt;Read the current version number from DatabaseVersions. &lt;/li&gt;    &lt;li&gt;If a script exists named updateXXYYZZ.sql in the Updates directory, run it and then repeat from step 3. &lt;/li&gt;    &lt;li&gt;Execute every script contained in the dynamic directory. &lt;/li&gt; &lt;/ol&gt;  &lt;p&gt;All of the above would be completed within one transaction, so if any part of an update failed, the entire update phase would fail.&lt;/p&gt;  &lt;p&gt;Having this process in place allows you to keep your schema as safe as you keep your code, but also keeps the overhead of maintaining it reasonably low.&lt;/p&gt;  &lt;p&gt;You can even use the above process during the initial development of your baseline. Your baseline starts out as being nothing more than the creation of the database version table, with each update then adding the tables as you develop them. Once your happy with your database and want to make it the new baseline, simply re-script it's structure, overwrite the current baseline and remove the update scripts.&lt;/p&gt;  &lt;p&gt;Your tool to process the scripts should also be capable of generating standalone update scripts that can be shipped with your application. Your app will need a script to create the initial release 1 database, but will also then need a single "update v1 to v2" script, followed by an "update v2 to v3" script and so on. This should be achieved by running the tool in script generation mode. It would then;&lt;/p&gt;  &lt;p&gt;1. Spit out a script to create the entire database in it's present version. Incorporating baseline, all updates and all dynamic items.&lt;/p&gt;  &lt;p&gt;2. Spit out a script to move from baseline to v2, v2 to v3 and so on - but without the dynamic components. Along with a separate script to update the dynamic components.&lt;/p&gt;  &lt;p&gt;This would mean that the user of your app only needs to run the main script if they are installing a new instance, or run the individual update scripts followed by the single dynamic script to update an existing instance.&lt;/p&gt;  &lt;p&gt;[Edit: The source code to a tool that implements all of the above is now available from &lt;a href="http://www.deepcode.co.uk/2008/07/database-schema-and-source-control.html"&gt;this post&lt;/a&gt; or from &lt;a href="http://dbnet.codeplex.com"&gt;codeplex here&lt;/a&gt;]&lt;/p&gt;</content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/349758848785680086/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/06/database-schema-in-source-control.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/349758848785680086'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/349758848785680086'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/06/database-schema-in-source-control.html' title='Database schema in source control'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh6.ggpht.com/_ywGSbBn2y0E/SgXtPPh8hAI/AAAAAAAAADs/kViGGueT1NU/s72-c/image%5B2%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1399286068471774286</id><published>2008-02-27T20:51:00.000Z</published><updated>2009-05-09T21:51:28.863+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Beware DTC configuration in a cluster</title><content type='html'>&lt;p&gt;Suffered from a severe amount of head scratching today due to using Mutual Authentication in Microsoft DTC.    &lt;br /&gt;    &lt;br /&gt;On a particular project of a clients, we have a bunch of applications and a bunch of services. These services use System.Transactions and nest a bunch of transactions together in a DAO layer - which all use the transaction scope option of required, so if a transaction's already started, it simply enlists in it.     &lt;br /&gt;    &lt;br /&gt;Everything appeared to work fine - the clients were working, the services on the test server were working fine, connecting to our database cluster and everything seemed happy and ready for a dry run test into the live environment. When we moved the services into a cluster however, everything failed - with the ubiquitous &amp;quot;communication with the underlying transaction manager failed&amp;quot; error, so common when DTC isn't configured correctly.     &lt;br /&gt;    &lt;br /&gt;After two days, the operations guys discovered (with a little help from Microsoft support) that the issue was actually because we were using mutual authentication configuration in MSDTC. &lt;/p&gt;  &lt;p&gt;Mutual authentication works fine server to server and in all non-clustered environments, but where you have a cluster that needs to talk out to another server, or two clusters talking to each other, mutual authentication is a very bad thing, and armed with the knowledge of why, it's easy to understand in hindsight.    &lt;br /&gt;    &lt;br /&gt;It boils down to how mutual authentication works. Normally, the mutual authentication conversation between two machines might go like this;     &lt;br /&gt;    &lt;br /&gt;Machine A: &amp;quot;Hi, I'm Machine A, with IP address 192.168.01&amp;quot;     &lt;br /&gt;Machine B: &amp;quot;Are you really Machine A, with IP address 192.168.0.1&amp;quot;     &lt;br /&gt;Machine A: &amp;quot;Yeah!&amp;quot;     &lt;br /&gt;Machine B: &amp;quot;Cool&amp;quot;     &lt;br /&gt;    &lt;br /&gt;And everything is happy, however, assuming we have two clusters as follows;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Cluster A (Database cluster - virtual IP 192.168.0.1)      &lt;br /&gt;      &lt;ul&gt;       &lt;li&gt;Server A.1 (IP 192.168.0.100) &lt;/li&gt;     &lt;/ul&gt;      &lt;ul&gt;       &lt;li&gt;Server A.2 (IP 192.168.0.101)          &lt;br /&gt;&lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Cluster B (Services cluster - virtual IP 192.168.0.2)      &lt;br /&gt;      &lt;ul&gt;       &lt;li&gt;Server B.1 (IP 192.168.0.102) &lt;/li&gt;        &lt;li&gt;Server B.2 (IP 192.168.0.103) &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;The conversation goes like this:    &lt;br /&gt;    &lt;br /&gt;Cluster A: &amp;quot;Hi, I'm Cluster A, with IP address 192.168.0.1&amp;quot;     &lt;br /&gt;Cluster B: &amp;quot;Are you really Cluster A, with IP address 192.168.0.1&amp;quot;     &lt;br /&gt;Server A.1: &amp;quot;No, I'm actually Server A.1 with IP address 192.168.0.100&amp;quot;     &lt;br /&gt;Cluster B: &amp;quot;Then I suggest you leave before I call the boys in!&amp;quot;     &lt;br /&gt;    &lt;br /&gt;Clustered servers don't confirm their identity as the cluster virtual name/ip, and instead validate as the current active node in the cluster. This makes mutual authentication fail.     &lt;br /&gt;    &lt;br /&gt;So the moral of the story - if you're using clusters, you simply cannot use mutual authentication. It does actually say this in the recommended cluster configuration, but it's not very clear - is says &amp;quot;You cannot select mutual authentication&amp;quot; - with no explaination, which makes it sound like it's disabled, so when you realise it's not and it's available, you can easily and naturally turn it on thinking that would be the most secure configuration.     &lt;br /&gt;    &lt;br /&gt;As a final note - we were told that in internal networks, the use of &amp;quot;No authentication&amp;quot; is actually recommended practice and that you don't need to use the higher authentication levels.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1399286068471774286/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/02/beware-dtc-configuration-in-cluster_9235.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1399286068471774286'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1399286068471774286'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/02/beware-dtc-configuration-in-cluster_9235.html' title='Beware DTC configuration in a cluster'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5097775360365023145</id><published>2008-01-06T20:49:00.000Z</published><updated>2009-05-09T21:50:29.973+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='WPF'/><title type='text'>Playing with WPF</title><content type='html'>&lt;p&gt;I wanted to explore some of the features of WPF today, so decided to knock up a simple example that would provide a contemporary (AKA: crap looking as it's designed by a developer!) user interface to a fictitious application&lt;/p&gt;  &lt;p&gt;I wanted the layout to be skinnable and be able to change various aspects and colours of the application by adding extra XAML. Here's a screenshot of how the basic UI functions;&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; margin-left: 0px; border-left: 0px; margin-right: 0px; border-bottom: 0px" height="159" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgXsjmnzB4I/AAAAAAAAADc/M3rTAqgh4kk/image%5B8%5D.png?imgmax=800" width="244" border="0" /&gt; &lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; margin-left: 0px; border-left: 0px; margin-right: 0px; border-bottom: 0px" height="156" alt="image" src="http://lh6.ggpht.com/_ywGSbBn2y0E/SgXskBSoS1I/AAAAAAAAADg/CjjIMenmfSI/image%5B7%5D.png?imgmax=800" width="244" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;The left image shows how the UI should look by default (albeit with a distinct lack of controls), whilst the image on the right shows the &amp;quot;reports&amp;quot; panel overlaid on top of the default UI. The overlays fade in and out as they are brought up and closed.&lt;/p&gt;  &lt;p&gt;Pretty basic right? Well yeah, but it was a good exercise in learning some of the cool features of WPF. Lets start with the basic layout for the application. The following XAML is for the main window and it's panels.&lt;/p&gt;  &lt;div style="border-right: gray 1px solid; padding-right: 4px; border-top: gray 1px solid; padding-left: 4px; font-size: 8pt; padding-bottom: 4px; margin: 20px 0px 10px; overflow: auto; border-left: gray 1px solid; width: 95.28%; cursor: text; max-height: 400px; line-height: 12pt; padding-top: 4px; border-bottom: gray 1px solid; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; height: 448px; background-color: #f4f4f4"&gt;   &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;     &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;DockPanel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt;     &lt;span style="color: #008000"&gt;&amp;lt;!-- Header Area - branding --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Border&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Height&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;50&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;DockPanel&lt;/span&gt;.&lt;span style="color: #ff0000"&gt;Dock&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Top&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;             &lt;span style="color: #ff0000"&gt;BorderBrush&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource BrandingLow}&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;             &lt;span style="color: #ff0000"&gt;BorderThickness&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;0,0,0,1&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Padding&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;10,0,10,0&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;TextBlock&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Opacity&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;FontFamily&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Segoe&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;FontSize&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;24&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;                        &lt;span style="color: #ff0000"&gt;FontStretch&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Normal&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;FontWeight&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Light&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;TextWrapping&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Wrap&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;                        &lt;span style="color: #ff0000"&gt;Foreground&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource BrandingHi}&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;                        &lt;span style="color: #ff0000"&gt;VerticalAlignment&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Bottom&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Margin&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;0,0,0,5&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Run&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Foreground&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource BrandingLow}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;DC&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Run&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Run&lt;/span&gt; &lt;span style="color: #ff0000"&gt;FontWeight&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Normal&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;.Finances&lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Run&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;TextBlock&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Border&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;     &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;     &lt;span style="color: #008000"&gt;&amp;lt;!-- Menu Area --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Menu&lt;/span&gt; &lt;span style="color: #ff0000"&gt;DockPanel&lt;/span&gt;.&lt;span style="color: #ff0000"&gt;Dock&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Top&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Margin&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;5,0,0,0&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource MenuStyle}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;MenuItem&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Header&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;_Reports&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ReportsMenu&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource MenuItemStyle}&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Click&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ReportsMenu_Click&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;MenuItem&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Header&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;_Admin&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;AdminMenu&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource MenuItemStyle}&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Click&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;AdminMenu_Click&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Menu&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;     &lt;span style="color: #008000"&gt;&amp;lt;!-- Content Area --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Grid&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;         &lt;span style="color: #008000"&gt;&amp;lt;!-- Main content - the account register --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;local:RegisterPanel&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;pnlContent&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  25:&lt;/span&gt;         &lt;span style="color: #008000"&gt;&amp;lt;!-- Reports Pane - hides and shows as necessary --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  26:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;local:ReportsPanel&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;pnlReports&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Visibility&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Hidden&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;PanelClosed&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;PanelClosed&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  27:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  28:&lt;/span&gt;         &lt;span style="color: #008000"&gt;&amp;lt;!-- Administration Pane - hides and shows as necessary --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  29:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;local:AdminPanel&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;pnlAdministration&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Visibility&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Hidden&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;PanelClosed&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;PanelClosed&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  30:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Grid&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  31:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;DockPanel&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;As you can see, we basically split the form into 3 sections. The branding area at the top, the menu area and finally the content area which hosts 3 separate user controls, 2 of which are set to be hidden (the admin and reports panels).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;u&gt;Skinning using resources and styles&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Notice that in order to allow the application to be &amp;quot;skinned&amp;quot; and have it's colours changed etc, we have made use of {DynamicResource} in a number of places for brushes and for styles. These are then encapsulated into a separate XAML file. For example, the XAML for the BrandingLow resource is as follows;&lt;/p&gt;

&lt;pre class="code"&gt;&lt;span style="color: blue"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #a31515"&gt;SolidColorBrush &lt;/span&gt;&lt;span style="color: red"&gt;x&lt;/span&gt;&lt;span style="color: blue"&gt;:&lt;/span&gt;&lt;span style="color: red"&gt;Key&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;BrandingLow&amp;quot; &lt;/span&gt;&lt;span style="color: red"&gt;Color&lt;/span&gt;&lt;span style="color: blue"&gt;=&amp;quot;#FFCFD3DA&amp;quot;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;This defines the branding low light brush, and can then be referenced as {DynamicResource BrandlingLow} anywhere in XAML that requires a brush. But to get the resource linked to the application, we must add it to the applications resource dictionary. This is done in app.xaml as follows;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Application&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Class&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;DC.Finances.App&amp;quot;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt;     &lt;span style="color: #ff0000"&gt;xmlns&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&amp;quot;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;     &lt;span style="color: #ff0000"&gt;xmlns:x&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;http://schemas.microsoft.com/winfx/2006/xaml&amp;quot;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;     &lt;span style="color: #ff0000"&gt;StartupUri&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;MainWindow.xaml&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Application.Resources&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;         &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;         &lt;span style="color: #008000"&gt;&amp;lt;!-- Pull in the merged resources - use default skin --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ResourceDictionary&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ResourceDictionary.MergedDictionaries&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ResourceDictionary&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Source&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Skins\Default\Skin.xaml&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;ResourceDictionary.MergedDictionaries&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;ResourceDictionary&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Application.Resources&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Application&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;This embeds the skin.xaml file as a resource. Within this XAML we can either go ahead and define the elements we need or we can split it down into separate files. In this case I chose to split it into additional files to separate the brushes and styles etc.&lt;/p&gt;

&lt;p&gt;Styles are interesting in WPF. They allow you to define a common look and feel for different element types and also add behaviour. Take for example, the style used for a menu item as seen in the example above;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;MenuItem&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Header&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;_Reports&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ReportsMenu&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt;     &lt;span style="color: #ff0000"&gt;Style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource MenuItemStyle}&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Click&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ReportsMenu_Click&amp;quot;&lt;/span&gt; &lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;MenuItem&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Header&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;_Admin&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Name&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;AdminMenu&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;     &lt;span style="color: #ff0000"&gt;Style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource MenuItemStyle}&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Click&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;AdminMenu_Click&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;The MenuItemStyle is then defined as;&lt;/p&gt;

&lt;div&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Style&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;MenuItemStyle&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;TargetType&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{x:Type MenuItem}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Setter&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Property&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Background&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Transparent&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Setter&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Property&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Foreground&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource FontColor}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Setter&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Property&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;FontSize&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;10&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Setter&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Property&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Padding&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;8,5,20,5&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Style.Triggers&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Trigger&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Property&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;IsHighlighted&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Setter&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Property&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Background&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;                 &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource MenuActiveBackgroundBrush}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Setter&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Property&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;Foreground&amp;quot;&lt;/span&gt; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;                 &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{DynamicResource MenuActiveFontColor}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Setter&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Property&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;BorderBrush&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;#FF000000&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Trigger&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Style.Triggers&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Style&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;This defines a style named MenuItemStyle that applies to elements of type MenuItem. It sets the background colour to transparent, the foreground colour to the standard font colour from the resources, the font to use 10 pixels and to use a specific padding. In addition it then defines some rudimentary behaviour in the form of triggers.&lt;/p&gt;

&lt;p&gt;When the IsHighlighted property of the host item (a MenuItem element) is set to true, the three setters that are specified within the trigger are invoked. In this case it changes the background colour, foreground colour and outline brush to be of specific colours. This provides us with a nice rollover effect on the menus that use this style;&lt;/p&gt;

&lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; margin-left: 0px; border-left: 0px; margin-right: 0px; border-bottom: 0px" height="61" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgXskSog73I/AAAAAAAAADk/1UTjEy5hjo0/image%5B16%5D.png?imgmax=800" width="162" border="0" /&gt; &lt;img title="image" style="border-right: 0px; border-top: 0px; display: inline; margin-left: 0px; border-left: 0px; margin-right: 0px; border-bottom: 0px" height="68" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SgXsklSV_jI/AAAAAAAAADo/3GIM-5-lVso/image%5B15%5D.png?imgmax=800" width="185" border="0" /&gt; &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;u&gt;Applying animations&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;As mentioned above, when we click reports or admin on the menu, we want to bring up the appropriate panel, and play a little animation to fade it in, then fade it out when we close it. This is incredibly easy in WPF. &lt;/p&gt;

&lt;p&gt;Here's the Window.Resources section from the main form, which defines two storyboard based animations for fading up and down elements;&lt;/p&gt;

&lt;div style="border-right: gray 1px solid; padding-right: 4px; border-top: gray 1px solid; padding-left: 4px; font-size: 8pt; padding-bottom: 4px; margin: 20px 0px 10px; overflow: auto; border-left: gray 1px solid; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; padding-top: 4px; border-bottom: gray 1px solid; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; background-color: #f4f4f4"&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Window.Resources&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt;         &lt;span style="color: #008000"&gt;&amp;lt;!-- Animation for showing panels --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Storyboard&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;ShowPanel&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;DoubleAnimationUsingKeyFrames&lt;/span&gt; &lt;span style="color: #ff0000"&gt;BeginTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Storyboard&lt;/span&gt;.&lt;span style="color: #ff0000"&gt;TargetProperty&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;(UIElement.Opacity)&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;SplineDoubleKeyFrame&lt;/span&gt; &lt;span style="color: #ff0000"&gt;KeyTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;SplineDoubleKeyFrame&lt;/span&gt; &lt;span style="color: #ff0000"&gt;KeyTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00.3000000&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;DoubleAnimationUsingKeyFrames&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ObjectAnimationUsingKeyFrames&lt;/span&gt; &lt;span style="color: #ff0000"&gt;BeginTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Storyboard&lt;/span&gt;.&lt;span style="color: #ff0000"&gt;TargetProperty&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;(UIElement.Visibility)&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;DiscreteObjectKeyFrame&lt;/span&gt; &lt;span style="color: #ff0000"&gt;KeyTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{x:Static Visibility.Visible}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;DiscreteObjectKeyFrame&lt;/span&gt; &lt;span style="color: #ff0000"&gt;KeyTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00.3000000&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{x:Static Visibility.Visible}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;ObjectAnimationUsingKeyFrames&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Storyboard&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;         &lt;span style="color: #008000"&gt;&amp;lt;!-- Animation for hiding panels --&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;Storyboard&lt;/span&gt; &lt;span style="color: #ff0000"&gt;x:Key&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;HidePanel&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;DoubleAnimationUsingKeyFrames&lt;/span&gt; &lt;span style="color: #ff0000"&gt;BeginTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Storyboard&lt;/span&gt;.&lt;span style="color: #ff0000"&gt;TargetProperty&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;(UIElement.Opacity)&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;SplineDoubleKeyFrame&lt;/span&gt; &lt;span style="color: #ff0000"&gt;KeyTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;1&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;SplineDoubleKeyFrame&lt;/span&gt; &lt;span style="color: #ff0000"&gt;KeyTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00.3000000&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;0&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;DoubleAnimationUsingKeyFrames&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;ObjectAnimationUsingKeyFrames&lt;/span&gt; &lt;span style="color: #ff0000"&gt;BeginTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Storyboard&lt;/span&gt;.&lt;span style="color: #ff0000"&gt;TargetProperty&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;(UIElement.Visibility)&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;DiscreteObjectKeyFrame&lt;/span&gt; &lt;span style="color: #ff0000"&gt;KeyTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{x:Static Visibility.Visible}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;                 &lt;span style="color: #0000ff"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color: #800000"&gt;DiscreteObjectKeyFrame&lt;/span&gt; &lt;span style="color: #ff0000"&gt;KeyTime&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;00:00:00.3000000&amp;quot;&lt;/span&gt; &lt;span style="color: #ff0000"&gt;Value&lt;/span&gt;&lt;span style="color: #0000ff"&gt;=&amp;quot;{x:Static Visibility.Hidden}&amp;quot;&lt;/span&gt;&lt;span style="color: #0000ff"&gt;/&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt;             &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;ObjectAnimationUsingKeyFrames&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Storyboard&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  25:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="color: #800000"&gt;Window.Resources&lt;/span&gt;&lt;span style="color: #0000ff"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Lines 3 - 12 show the animation declaration for fading up an object. The storyboard follows two animation paths, one on the opacity of the target object and one on the visibility property of the target object. For fading up, we see a spline keyframe animation moving the value of opacity from 0 to 1 over the course of 1/3 of a second. This then fades smoothly between the values over the time period specified. Also, we use a discrete keyframe animation to set the visibility property to true when the animation starts.&lt;/p&gt;

&lt;p&gt;Lines 15-23 do the exact same thing but in reverse, and the discrete keyframe animation on the visibility property sets the object to hidden at the end.&lt;/p&gt;

&lt;p&gt;Simple huh? So the only thing left to do is to trigger the animation when the menu item is clicked and bring the appropriate panel up. &lt;/p&gt;

&lt;p&gt;The possible options here are;&lt;/p&gt;

&lt;p&gt;a) User clicks the reports or admin menu&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;a1) No current panel - just fade up the selected panel&lt;/p&gt;

  &lt;p&gt;a2) Current panel visible - fade it down, then fade up the selected panel&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;b) User clicks the close button on a panel&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;b1) Fade down the active panel&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;To implement this logic, I chose to use the code behind to track an active FrameworkElement, then when I click on a menu option, I invoke the fade animation on the active element, fade up the new element and make it the active one. &lt;/p&gt;

&lt;p&gt;Triggering animations is as straight forward as;&lt;/p&gt;

&lt;pre class="code"&gt;((&lt;span style="color: #2b91af"&gt;Storyboard&lt;/span&gt;)&lt;span style="color: blue"&gt;this&lt;/span&gt;.Resources[&lt;span style="color: #a31515"&gt;&amp;quot;HidePanel&amp;quot;&lt;/span&gt;]).Begin(_activeChildComponent);&lt;/pre&gt;
&lt;a href="http://11011.net/software/vspaste"&gt;&lt;/a&gt;

&lt;p&gt;As such, the entire logic for showing/hiding panels etc is shown below;&lt;/p&gt;

&lt;div style="border-right: gray 1px solid; padding-right: 4px; border-top: gray 1px solid; padding-left: 4px; font-size: 8pt; padding-bottom: 4px; margin: 20px 0px 10px; overflow: auto; border-left: gray 1px solid; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; padding-top: 4px; border-bottom: gray 1px solid; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; background-color: #f4f4f4"&gt;
  &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;
    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; &lt;span style="color: #0000ff"&gt;public&lt;/span&gt; &lt;span style="color: #0000ff"&gt;partial&lt;/span&gt; &lt;span style="color: #0000ff"&gt;class&lt;/span&gt; Window1 : Window&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt; {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;     &lt;span style="color: #008000"&gt;// This will be used to track any active open panels&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt;     FrameworkElement _activeChildComponent = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt;     &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   6:&lt;/span&gt;      &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   7:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// User clicked reports menu, hide the current panel if there is one and show the reports pane&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   8:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   9:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;sender&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  10:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;e&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  11:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; ReportsMenu_Click(&lt;span style="color: #0000ff"&gt;object&lt;/span&gt; sender, RoutedEventArgs e)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  12:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  13:&lt;/span&gt;         HideActivePanel();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  14:&lt;/span&gt;         ShowPanel(pnlReports);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  15:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  16:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  17:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  18:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// User clicked admin menu, hide the current panel if there is one and show the reports pane&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  19:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  20:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;sender&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  21:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;e&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  22:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; AdminMenu_Click(&lt;span style="color: #0000ff"&gt;object&lt;/span&gt; sender, RoutedEventArgs e)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  23:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  24:&lt;/span&gt;         HideActivePanel();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  25:&lt;/span&gt;         ShowPanel(pnlAdministration);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  26:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  27:&lt;/span&gt;     &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  28:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  29:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// User clicked to close the panel&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  30:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  31:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;sender&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  32:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;e&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  33:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; PanelClosed(&lt;span style="color: #0000ff"&gt;object&lt;/span&gt; sender, EventArgs e)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  34:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  35:&lt;/span&gt;         HideActivePanel();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  36:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  37:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  38:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  39:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// If an active panel is open, this will fade it down&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  40:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  41:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; HideActivePanel()&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  42:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  43:&lt;/span&gt;         &lt;span style="color: #0000ff"&gt;if&lt;/span&gt; (_activeChildComponent == &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;) &lt;span style="color: #0000ff"&gt;return&lt;/span&gt;;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  44:&lt;/span&gt;         ((Storyboard)&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.Resources[&lt;span style="color: #006080"&gt;&amp;quot;HidePanel&amp;quot;&lt;/span&gt;]).Begin(_activeChildComponent);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  45:&lt;/span&gt;         &lt;span style="color: #008000"&gt;// TODO: Need to find a mechanism to wait until the fade has completed&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  46:&lt;/span&gt;         _activeChildComponent = &lt;span style="color: #0000ff"&gt;null&lt;/span&gt;;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  47:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  48:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  49:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  50:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// Sets the panel specified to be the active panel&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  51:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  52:&lt;/span&gt;     &lt;span style="color: #008000"&gt;/// &amp;lt;param name=&amp;quot;target&amp;quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;/span&gt;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  53:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;private&lt;/span&gt; &lt;span style="color: #0000ff"&gt;void&lt;/span&gt; ShowPanel(FrameworkElement target)&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  54:&lt;/span&gt;     {&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  55:&lt;/span&gt;         ((Storyboard)&lt;span style="color: #0000ff"&gt;this&lt;/span&gt;.Resources[&lt;span style="color: #006080"&gt;&amp;quot;ShowPanel&amp;quot;&lt;/span&gt;]).Begin(target);&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  56:&lt;/span&gt;         _activeChildComponent = target;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  57:&lt;/span&gt;     }&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;  58:&lt;/span&gt; }&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Have you spotted the deliberate mistake? I've not yet worked out how to wait for the animation to complete, so when you go from panel to panel, the current panel doesn't get chance to fade down properly before the new panel fades up... I'll save that for another day though.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5097775360365023145/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/01/playing-with-wpf_06.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5097775360365023145'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5097775360365023145'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/01/playing-with-wpf_06.html' title='Playing with WPF'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/SgXsjmnzB4I/AAAAAAAAADc/M3rTAqgh4kk/s72-c/image%5B8%5D.png?imgmax=800' height='72' width='72'/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2655950741672863789</id><published>2008-01-06T20:44:00.000Z</published><updated>2009-05-09T21:47:08.037+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='SQL'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><title type='text'>LINQ to SQL - 5 minute introduction.</title><content type='html'>&lt;p&gt;Whilst perhaps not a fully fledged OR/M solution like NHibernate, LINQ to SQL has a place in this world as it's an excellent tool if your domain entities map 1:1 to your database schema as it provides a visual tool (not always useful, depends on scale) to design your model along and it uses the excellent LINQ query syntax to get data out of the database.&lt;/p&gt;  &lt;p&gt;I started this example by creating a separate project for the data access layer. This project is a standard class library, from which I've exposed the entities in our database along with repository objects that will be responsible for managing these entities.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: block; float: none; margin-left: auto; border-left: 0px; margin-right: auto; border-bottom: 0px" height="227" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgXrxmyv-vI/AAAAAAAAADQ/hip31xmhzFM/image%5B5%5D.png?imgmax=800" width="235" border="0" /&gt; After creating a new class library for our DAL project, I've then added a couple of enum files that correspond to the different types of static data that I'll be needing and then added a LINQ to SQL Classes item.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: block; float: none; margin-left: auto; border-left: 0px; margin-right: auto; border-bottom: 0px" height="144" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SgXryWligVI/AAAAAAAAADU/DqweSszmRNs/image%5B16%5D.png?imgmax=800" width="483" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;This creates a DBML file and presents us with a designer surface to start dropping our tables and views from our database onto. A connection to the database needs to be defined in server explorer first, but once that is in place, and with the designer surface and server explorer open, you can now start to drag and drop the database elements onto the LINQ to SQL surface, thereby building up your entity model.&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-right: 0px; border-top: 0px; display: block; float: none; margin-left: auto; border-left: 0px; margin-right: auto; border-bottom: 0px" height="211" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SgXry2boRaI/AAAAAAAAADY/m28YteL7GLw/image%5B19%5D.png?imgmax=800" width="481" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;Notice how the designer automatically walks foreign keys and constraints and this in turn then automatically creates properties in your elements. For example, the Category entity in this example has a property named CategoryBudgets automatically created that will load the budgets associated with a category on demand (lazy load).&lt;/p&gt;  &lt;p&gt;With your DBML file in place, and after following the post on how to use enums with LINQ from my earlier post, you should have a full object model of entities that can be queried using LINQ in your code;&lt;/p&gt;  &lt;p&gt;For example, in your application you would be able to get a list of all categories by querying thus;&lt;/p&gt;  &lt;div&gt;   &lt;div style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;     &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   1:&lt;/span&gt; DC.Finances.Database.FinanceDataContext dc = &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   2:&lt;/span&gt;     &lt;span style="color: #0000ff"&gt;new&lt;/span&gt; DC.Finances.Database.FinanceDataContext();&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   3:&lt;/span&gt;&amp;#160; &lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   4:&lt;/span&gt; var cats = from c &lt;span style="color: #0000ff"&gt;in&lt;/span&gt; dc.Categories select c;&lt;/pre&gt;

    &lt;pre style="padding-right: 0px; padding-left: 0px; font-size: 8pt; padding-bottom: 0px; margin: 0em; overflow: visible; width: 100%; color: black; border-top-style: none; line-height: 12pt; padding-top: 0px; font-family: consolas, &amp;#39;Courier New&amp;#39;, courier, monospace; border-right-style: none; border-left-style: none; background-color: #f4f4f4; border-bottom-style: none"&gt;&lt;span style="color: #606060"&gt;   5:&lt;/span&gt; MessageBox.Show(cats.Count().ToString());&lt;/pre&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;However, we wouldn't want to put this LINQ code directly into our UI code as, sticking to the tenets of good design, specifically separation of concerns, we're going to keep that sort of thing in the DAL, so we would wrap this up with a repository class to go ahead and give us data we require, whilst implementing any rules and logic for us. eg: CategoryManager.GetAllCategories()&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2655950741672863789/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/01/linq-to-sql-5-minute-introduction_06.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2655950741672863789'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2655950741672863789'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/01/linq-to-sql-5-minute-introduction_06.html' title='LINQ to SQL - 5 minute introduction.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/SgXrxmyv-vI/AAAAAAAAADQ/hip31xmhzFM/s72-c/image%5B5%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3352608074852397900</id><published>2008-01-05T20:43:00.000Z</published><updated>2009-05-09T21:44:12.849+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Subversion'/><title type='text'>Configuring SubVersion under Windows.</title><content type='html'>&lt;p&gt;Whilst I'm an advocate of TFS as a dev process management and version control system, I also like subversion - it's a great, free, source control system with a vibrant community of users and a host of supporting tools. The following post is a quick and handy reference to getting SVN to run over the network.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;First steps      &lt;br /&gt;&lt;/strong&gt;First of all get hold of the latest subversion and tortoiseSVN and install them. Once that's complete, create a repository using the tortoiseSVN tools.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Setting up the network      &lt;br /&gt;&lt;/strong&gt;To get it working, you can initially run the SVN server from the command line. Use something like this;&lt;/p&gt;  &lt;p&gt;&lt;font face="Courier New"&gt;svnserve -d --listen-port 44818 -r e:\myRepository&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;-d puts the server into daemon (listening) mode    &lt;br /&gt;--listen-port parameter and argument is optional and specifies what port to listen on     &lt;br /&gt;-r then specifies the repository you've just created above.&lt;/p&gt;  &lt;p&gt;With that working, you'll now want to run this as a windows service. In comes the ubiquitous sc.exe (part of your windows O/S)&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Installing as a service&lt;/strong&gt;     &lt;br /&gt;Run the SC tool to add scnserve as a service;&lt;/p&gt;  &lt;p&gt;&lt;font face="Courier New"&gt;sc create &amp;quot;SVNServe&amp;quot; binpath=&amp;quot;c:\SubVersion\bin\svnserve.exe --service -r e:\myRepository&amp;quot; displayname=&amp;quot;Subversion Repository&amp;quot; depend=Tcpip&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;From there you can then set your service to start automatically and start the service.&lt;/p&gt;  &lt;p&gt;&lt;strong&gt;Adding security      &lt;br /&gt;&lt;/strong&gt;Its all well and good having SVN running, but a little security wouldn't go amiss! The files you need to edit are all contained in the conf sub-directory within your &lt;strong&gt;&lt;u&gt;repository &lt;/u&gt;&lt;/strong&gt;directory. 3 files - svnserve.conf, authz and passwd. Quick overview below;&lt;/p&gt;  &lt;p&gt;&lt;em&gt;svnserve.conf      &lt;br /&gt;&lt;/em&gt;&lt;font face="Courier New"&gt;[general]      &lt;br /&gt;anon-access = none       &lt;br /&gt;# auth-access = write       &lt;br /&gt;password-db = passwd       &lt;br /&gt;authz-db = authz       &lt;br /&gt;realm = My SVN server&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;This disables anonymous access to the svn server and forces the passwd and authz files to be used to configure the users and path based security permissions. The realm parameter will be presented to users when the SVN client asks them to login.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;authz&lt;/em&gt;     &lt;br /&gt;&lt;font face="Courier New"&gt;#Define some groups of users      &lt;br /&gt;[groups]       &lt;br /&gt;groupX=user1,user2       &lt;br /&gt;groupY=user2&lt;/font&gt;&lt;font face="Courier New"&gt;      &lt;br /&gt;&lt;/font&gt;&lt;font face="Courier New"&gt;     &lt;br /&gt;#Set the root of the repository to read       &lt;br /&gt;#only by any authenticated user       &lt;br /&gt;[/]       &lt;br /&gt;* = r&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font face="Courier New"&gt;#Set a location in the tree to not available      &lt;br /&gt;#&lt;/font&gt;&lt;font face="Courier New"&gt;to users initially, read/write for groupY users,      &lt;br /&gt;#read only for groupX users and specifically grant       &lt;br /&gt;#user1 read/write access.       &lt;br /&gt;[/someproject/path]       &lt;br /&gt;* =&amp;#160; &lt;br /&gt;@groupY = rw       &lt;br /&gt;@groupX = r       &lt;br /&gt;user1 = rw&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;&lt;font face="Courier New"&gt;# Give all authenticated user read/write access      &lt;br /&gt;[/someotherproject]       &lt;br /&gt;* = rw&lt;/font&gt;&lt;/p&gt;  &lt;p&gt;And last, but not least, the passwd file in this instance is where all the usernames and passwords are held.&lt;/p&gt;  &lt;p&gt;&lt;em&gt;passwd&lt;/em&gt;     &lt;br /&gt;&lt;font face="Courier New"&gt;[users]      &lt;br /&gt;user1=mypassword       &lt;br /&gt;user2=anotherpassword&lt;/font&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3352608074852397900/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2008/01/configuring-subversion-under-windows.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3352608074852397900'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3352608074852397900'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/01/configuring-subversion-under-windows.html' title='Configuring SubVersion under Windows.'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7952641164279171345</id><published>2007-12-31T20:41:00.000Z</published><updated>2009-05-09T21:42:00.352+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><title type='text'>Using enums in LINQ to SQL</title><content type='html'>&lt;p&gt;A common practice when working with databases is to use enumerations for any static lookup (ID/description) data. These enums are represented both in code and also in the database for referential integrity. The idea being this static data rarely changes so we don't need to pull it back continually from the database.&lt;/p&gt;  &lt;p&gt;Taking the following data model as an example;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://lh5.ggpht.com/_ywGSbBn2y0E/SgXqiv4hfSI/AAAAAAAAAC8/EO40B-LExsg/s1600-h/image%5B9%5D.png" target="_blank"&gt;&lt;img title="Click for more details" style="border-top-width: 0px; display: block; border-left-width: 0px; float: none; border-bottom-width: 0px; margin-left: auto; margin-right: auto; border-right-width: 0px" height="323" alt="Click for more details" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgXqjVP0FbI/AAAAAAAAADA/iYJRSrJAgPM/image_thumb%5B7%5D.png?imgmax=800" width="435" border="0" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;All of the tables that end with Enum are static tables that consist of reference data only and we don't want this to be pulled back from the database. Instead these enum tables are represented in code as enums and as such we need to tell LINQ to map the fields that refer them to enum values rather than the database tables.&lt;/p&gt;  &lt;p&gt;First things first, I mapped out my basic entities as follows (notice the lack of enum tables as objects in this model).&lt;/p&gt;  &lt;p&gt;&lt;a href="http://lh4.ggpht.com/_ywGSbBn2y0E/SgXqkTE92aI/AAAAAAAAADE/GhodKKrumm8/s1600-h/image%5B24%5D.png" target="_blank"&gt;&lt;img title="image" style="border-top-width: 0px; display: block; border-left-width: 0px; float: none; border-bottom-width: 0px; margin-left: auto; margin-right: auto; border-right-width: 0px" height="270" alt="image" src="http://lh5.ggpht.com/_ywGSbBn2y0E/SgXqlHuTPYI/AAAAAAAAADI/1hEyXYgnFIY/image_thumb%5B15%5D.png?imgmax=800" width="493" border="0" /&gt;&lt;/a&gt; In order to force the entities to use an enum value instead of loading a child entity object, I simply set the Type property for the field to a type in my project, as per the image below; (Also I renamed the fields from FieldXYZ&lt;strong&gt;ID&lt;/strong&gt; to just FieldXYZ).&lt;/p&gt;  &lt;p&gt;&lt;img title="image" style="border-top-width: 0px; display: block; border-left-width: 0px; float: none; border-bottom-width: 0px; margin-left: auto; margin-right: auto; border-right-width: 0px" height="329" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgXql5HS6jI/AAAAAAAAADM/2DOu-7H-Xjo/image%5B26%5D.png?imgmax=800" width="311" border="0" /&gt; &lt;/p&gt;  &lt;p&gt;Finally, notice that because my enum definition is within the same assembly as my DBML, the type namespace is relative to the DBML. If it was in a different assembly, then you'd specify a full type name here instead.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7952641164279171345/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/12/using-enums-in-linq-to-sql_31.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7952641164279171345'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7952641164279171345'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/12/using-enums-in-linq-to-sql_31.html' title='Using enums in LINQ to SQL'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/SgXqjVP0FbI/AAAAAAAAADA/iYJRSrJAgPM/s72-c/image_thumb%5B7%5D.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5332801060589157829</id><published>2007-09-19T21:35:00.000+01:00</published><updated>2009-05-09T21:35:58.261+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Fixing the ClickOnce Error - "can't download files"</title><content type='html'>&lt;p&gt;If after creating a click once deployment, you put it on your web server but find that when you run the .application URL, you get a &amp;quot;can't download files&amp;quot; error instead of your application running, check the details. If you're getting 404 errors for the .manifest or .deploy files, chances are IIS isn't configured correctly to support these file types.&lt;/p&gt;  &lt;p&gt;By default IIS doesn't know what .manifest or .deploy files are, so it doesn't serve them out. You need to add them as MIME types by going into IIS manager, right clicking on the server name and selecting properties. Click MIME types and add the following;&lt;/p&gt;  &lt;p&gt;.deploy&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; application/octet-stream&lt;/p&gt;  &lt;p&gt;.manifest&amp;#160;&amp;#160; application/manifest&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5332801060589157829/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/09/fixing-clickonce-error-download-files_19.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5332801060589157829'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5332801060589157829'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/09/fixing-clickonce-error-download-files_19.html' title='Fixing the ClickOnce Error - &amp;quot;can&amp;#39;t download files&amp;quot;'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6132982551822666729</id><published>2007-07-31T21:34:00.000+01:00</published><updated>2009-05-09T21:35:02.034+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='SQL'/><title type='text'>Database diagram support objects cannot be installed...</title><content type='html'>&lt;p&gt;Twice is two weeks SQL 2005 has reported the following error when I've clicked on the database diagrams node on certain databases;&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;&lt;font color="#804040"&gt;&amp;quot;Database diagram support objects cannot be installed because this database does not have a valid owner&amp;quot;.&lt;/font&gt;&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;The databases in question were restored onto my local SQL from backups on other machines and servers. I'd restore the database, set the owner using ALTER AUTHORIZATION, and then try to create a database diagram, only to be presented with the above error.&lt;/p&gt;  &lt;p&gt;The symptoms actually mask the underlying problem - the database's compatibility mode. On both occasions the compatibility level was set to SQL 2000 (80) for the restored databases and it should be set to SQL 2005 (90). To resolve;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Open the properties for the affected database &lt;/li&gt;    &lt;li&gt;Go to the options section &lt;/li&gt;    &lt;li&gt;Change the compatibility level to SQL 2005 (90) &lt;/li&gt; &lt;/ul&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/6132982551822666729/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/07/database-diagram-support-objects-cannot.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6132982551822666729'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/6132982551822666729'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/07/database-diagram-support-objects-cannot.html' title='Database diagram support objects cannot be installed...'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7714523927629007216</id><published>2007-07-13T21:33:00.000+01:00</published><updated>2009-05-09T21:34:15.280+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='LINQ'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>Introducing LINQ (to objects) in 10 seconds</title><content type='html'>&lt;p&gt;The database uses of LINQ (to SQL/to Entities) get all of the glory, but LINQ can be used against your run of the mill objects in .NET. Take for example sorting strings;&lt;/p&gt;  &lt;p&gt;   &lt;table style="border-right: #e5e5e5 1px solid; border-top: #e5e5e5 1px solid; border-left: #e5e5e5 1px solid; border-bottom: #e5e5e5 1px solid; background-color: #f2f2f2" cellspacing="0" cellpadding="0" width="100%" border="0"&gt;&lt;tbody&gt;       &lt;tr style="vertical-align: top; line-height: normal"&gt;         &lt;td style="width: 40px; text-align: right"&gt;           &lt;pre style="border-right: #e7e7e7 1px solid; padding-right: 2px; padding-left: 2px; font-size: 11px; padding-bottom: 2px; margin: 0px; color: gray; padding-top: 2px; font-family: courier new"&gt;1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;15&lt;br /&gt;16&lt;br /&gt;17&lt;br /&gt; &lt;/pre&gt;
        &lt;/td&gt;

        &lt;td&gt;
          &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;static&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;void&lt;/span&gt; Main(&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt;[] args)&lt;br /&gt;{&lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt;[] friends &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;new&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt;[]{&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Tony Johnson&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Joe Mangel&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Helen Daniels&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Sky Mangel&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Stingray&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Dylan Timmins&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Gerard Rebbeci&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Pippa Styger&amp;quot;&lt;/span&gt;};&lt;br /&gt;&lt;/span&gt;&lt;/pre&gt;

          &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;br /&gt;&amp;#160; IEnumerable&amp;lt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt;&amp;gt; sorted &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; from friend &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;in&lt;/span&gt; friends &lt;/span&gt;&lt;/pre&gt;

          &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;          orderby friend select friend;&lt;br /&gt;&lt;/span&gt;&lt;/pre&gt;

          &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;foreach&lt;/span&gt; (&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt; person &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;in&lt;/span&gt; sorted)&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; Console.WriteLine(person);&lt;br /&gt;}&lt;/span&gt;&lt;/pre&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/p&gt;

&lt;p&gt;The interesting part is on lines 13/14 - we get a list of sorted strings by executing SQL like syntax on our string array. Lets try something else, lets sort the list based on who's got the longest name, sorting from longest to shortest: Notice I'm also using anonymous types in the following example( var ).&lt;/p&gt;

&lt;p&gt;
  &lt;table style="border-right: #e5e5e5 1px solid; border-top: #e5e5e5 1px solid; border-left: #e5e5e5 1px solid; border-bottom: #e5e5e5 1px solid; background-color: #f2f2f2" cellspacing="0" cellpadding="0" width="100%" border="0"&gt;&lt;tbody&gt;
      &lt;tr style="vertical-align: top; line-height: normal"&gt;
        &lt;td style="width: 40px; text-align: right"&gt;
          &lt;pre style="border-right: #e7e7e7 1px solid; padding-right: 2px; padding-left: 2px; font-size: 11px; padding-bottom: 2px; margin: 0px; color: gray; padding-top: 2px; font-family: courier new"&gt;1&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt;4&lt;br /&gt;5&lt;br /&gt;6&lt;br /&gt;7&lt;br /&gt;8&lt;br /&gt;9&lt;br /&gt;10&lt;br /&gt;11&lt;br /&gt;12&lt;br /&gt;13&lt;br /&gt;14&lt;br /&gt;15&lt;br /&gt;16&lt;br /&gt;17&lt;br /&gt;18&lt;br /&gt;19&lt;br /&gt; &lt;/pre&gt;
        &lt;/td&gt;

        &lt;td&gt;
          &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;static&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;void&lt;/span&gt; Main(&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt;[] args)&lt;br /&gt;{&lt;br /&gt;&amp;#160; var friends &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;new&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;string&lt;/span&gt;[]{&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Tony Johnson&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Joe Mangel&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Helen Daniels&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Sky Mangel&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Stingray&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Dylan Timmins&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Gerard Rebbeci&amp;quot;&lt;/span&gt;,&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Pippa Styger&amp;quot;&lt;/span&gt;};&lt;/span&gt;&lt;/pre&gt;
          &lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;
            &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;br /&gt;&lt;br /&gt;&amp;#160; var sorted &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; from friend &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;in&lt;/span&gt; friends &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; orderby friend.Length descending&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; select friend;&lt;br /&gt;&lt;/pre&gt;

            &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;foreach&lt;/span&gt; (var person &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;in&lt;/span&gt; sorted)&lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; System.Console.WriteLine(person);&lt;br /&gt;}&lt;/span&gt;&lt;/pre&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;

  &lt;p&gt;Easy, but very useful. You can use LINQ to sort collections of objects and do all sorts of powerful and useful things. &lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/7714523927629007216/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/07/introducing-linq-to-objects-in-10_13.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7714523927629007216'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/7714523927629007216'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/07/introducing-linq-to-objects-in-10_13.html' title='Introducing LINQ (to objects) in 10 seconds'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4570069316391975844</id><published>2007-06-07T21:32:00.000+01:00</published><updated>2009-05-09T21:33:05.671+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Links'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>App Domains and Dynamic Loading</title><content type='html'>&lt;p&gt;Eric Gunnerson has posted an interesting and useful article on dynamic assembly loading and unloading using appdomains.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://blogs.msdn.com/ericgu/archive/2007/06/05/app-domains-and-dynamic-loading-the-lost-columns.aspx"&gt;http://blogs.msdn.com/ericgu/archive/2007/06/05/app-domains-and-dynamic-loading-the-lost-columns.aspx&lt;/a&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4570069316391975844/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/06/app-domains-and-dynamic-loading_2921.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4570069316391975844'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4570069316391975844'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/06/app-domains-and-dynamic-loading_2921.html' title='App Domains and Dynamic Loading'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2836206877058069260</id><published>2007-06-04T21:31:00.000+01:00</published><updated>2009-05-09T21:32:10.860+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='SQL'/><title type='text'>SQL Server - Changing collation order for an entire cluster</title><content type='html'>&lt;p&gt;An annoying situation arose today with a project - development machines were using legacy SQL collation orders whilst the production cluster was using a windows collation. As all servers and databases should really use the same collation order, cross database joins and tempdb actions will cause you problems if not , it was decided that we'd change the production cluster to use the SQL_ collation orders!&lt;/p&gt;  &lt;p&gt;What should have been a straight forward process actually turned out to be more difficult than expected and I found the following information useful, and largely undocumented;&lt;/p&gt;  &lt;p&gt;The process for changing the collation order on a SQL server cluster is as follows;&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Backup all of your databases and then detach them all &lt;/li&gt;    &lt;li&gt;Take the SQL services offline in cluster management &lt;/li&gt;    &lt;li&gt;Slap your SQL install disk into a drive and run the following command from it:      &lt;pre&gt;&lt;p&gt;&lt;font color="#000080"&gt;start /wait setup.exe &lt;br /&gt;   /qn VS=&amp;lt;cluster name&amp;gt; &lt;br /&gt;   INSTANCENAME=&amp;lt;sql instance name or MSSQLSERVER for default&amp;gt; &lt;br /&gt;   REINSTALL=SQL_Engine &lt;br /&gt;   REBUILDDATABASE=1 &lt;br /&gt;   SAPWD=&amp;lt;new strong SA password&amp;gt; &lt;br /&gt;   SQLCollation=&amp;lt;new collation order&amp;gt; &lt;br /&gt;   AdminPassword=&amp;lt;strong password&amp;gt; &lt;br /&gt;   SQLAccount=&amp;lt;domain\account&amp;gt; &lt;br /&gt;   SQLPassword=&amp;lt;strong password&amp;gt; &lt;br /&gt;   AGTAccount=&amp;lt;domain\account&amp;gt; &lt;br /&gt;   AGTPassword=&amp;lt;domain\account&amp;gt;&lt;/font&gt;&lt;/p&gt;&lt;/pre&gt;
  &lt;/li&gt;

  &lt;li&gt;Bring SQL online in cluster management &lt;/li&gt;

  &lt;li&gt;Restore / re-attach your databases &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Your master database etc will have been rebuilt and everything should be fine.&lt;/p&gt;

&lt;p&gt;The problem I ran into however was when I used a different location to run setup from than was used in the original installation. Setup kept failing saying that it couldn't find valid setup package for &amp;quot;SQL Standard Edition (64 bit)&amp;quot;. After trying lots of different combinations of the above, I discovered that despite running setup.exe from a new location, it actually looks at the registry to discover where it was installed from originally and wants to get the MSI files from there!!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The solution? You could change the registry to point to your new location, but easier is this extra parameter on your command line:&lt;/p&gt;

&lt;blockquote dir="ltr" style="margin-right: 0px"&gt;
  &lt;p&gt;&lt;font color="#000080"&gt;REINSTALLMODE=vomus&lt;/font&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This tells the setup not to bother looking at the old location, and use the location where the setup is residing. This 60 minute job ended up taking almost 3 hours in the end - but at least I'll know for next time!&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2836206877058069260/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/06/sql-server-changing-collation-order-for_04.html#comment-form' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2836206877058069260'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2836206877058069260'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/06/sql-server-changing-collation-order-for_04.html' title='SQL Server - Changing collation order for an entire cluster'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4335297525038765501</id><published>2007-05-16T21:30:00.000+01:00</published><updated>2009-05-09T21:31:13.511+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='.NET General'/><title type='text'>How fast is reflection?</title><content type='html'>&lt;p&gt;Most .NET developers have an affinity to using reflection for things like configuration, inversion of control, dependency injection etc, but I was wondering today just how fast IS reflection - what overhead does it bring? So I wrote a (far from exhaustive) test;&lt;/p&gt;  &lt;p&gt;The test consisted of code that would simulate 500,000 cycles of loading 9 different objects from an external assembly, create an instance of each of those objects and then invoke a method on it. &lt;/p&gt;  &lt;p&gt;The method itself then resolves and creates 5 instances of 5 different objects before returning. In total this activity equates to 3 million reflection resolutions by type and 3 million object constructions followed by 500,000 method calls.&lt;/p&gt;  &lt;p&gt;The results? The total time from start to finish on my laptop was 19.7 seconds. That seems pretty quick to me.&lt;/p&gt;  &lt;p&gt;For refernce my laptop is an Intel Centrino duo core, 2Ghz with 2Gb of memory.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4335297525038765501/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/05/how-fast-is-reflection.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4335297525038765501'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4335297525038765501'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/05/how-fast-is-reflection.html' title='How fast is reflection?'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4021282485803036674</id><published>2007-04-28T21:29:00.000+01:00</published><updated>2009-05-09T21:30:23.095+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='ASP.NET'/><category scheme='http://www.blogger.com/atom/ns#' term='Visual Studio'/><title type='text'>Losing intellisense in your content pages?</title><content type='html'>&lt;p&gt;When using master pages in ASP.NET, visual studio 2005 often gets confused and loses its ability to display intellisense in your content pages. IE: Within your &lt;font color="#a52a2a"&gt;asp:Content&lt;/font&gt; tags, if you type asp: you won't get any intellisense for the standard asp controls. &lt;/p&gt;  &lt;p&gt;There's a simple work around for this and that's to ensure you have your master page file open in a tab in the editor. If it's open, you'll get the intellisense back in your content page.&lt;/p&gt;  &lt;p&gt;I'm sure this will be fixed in a later release, but until then, the above should suffice.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4021282485803036674/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/04/losing-intellisense-in-your-content.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4021282485803036674'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4021282485803036674'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/04/losing-intellisense-in-your-content.html' title='Losing intellisense in your content pages?'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2011665075425224123</id><published>2007-03-14T20:27:00.000Z</published><updated>2009-05-09T21:28:17.341+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='ASP.NET'/><title type='text'>System.Net.WebRequest problems</title><content type='html'>&lt;p&gt;This problem has been killing me. The overall problem is within a complex app, site and service installation, but i've scaled it right back to a simple web application that invokes a web request on another unsecured resource. My web app is very simple with just the following in Page_Load:&lt;/p&gt;  &lt;p&gt;   &lt;table style="border-right: #e5e5e5 1px solid; border-top: #e5e5e5 1px solid; border-left: #e5e5e5 1px solid; border-bottom: #e5e5e5 1px solid; background-color: #f2f2f2" cellspacing="0" cellpadding="0" width="100%" border="0"&gt;&lt;tbody&gt;       &lt;tr style="vertical-align: top; line-height: normal"&gt;         &lt;td style="width: 40px; text-align: right"&gt;           &lt;pre style="border-right: #e7e7e7 1px solid; padding-right: 2px; padding-left: 2px; font-size: 11px; padding-bottom: 2px; margin: 0px; color: gray; padding-top: 2px; font-family: courier new"&gt;1&lt;/pre&gt;

          &lt;pre style="border-right: #e7e7e7 1px solid; padding-right: 2px; padding-left: 2px; font-size: 11px; padding-bottom: 2px; margin: 0px; color: gray; padding-top: 2px; font-family: courier new"&gt;&amp;#160;&lt;/pre&gt;

          &lt;pre style="border-right: #e7e7e7 1px solid; padding-right: 2px; padding-left: 2px; font-size: 11px; padding-bottom: 2px; margin: 0px; color: gray; padding-top: 2px; font-family: courier new"&gt;&lt;br /&gt;2&lt;br /&gt;3&lt;br /&gt; &lt;/pre&gt;
        &lt;/td&gt;

        &lt;td&gt;
          &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;        System.Net.WebRequest tx &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;/span&gt;&lt;/pre&gt;

          &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;           &lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;System.Net.WebRequest.Create&lt;/span&gt;&lt;/pre&gt;

          &lt;pre style="padding-right: 2px; padding-left: 8px; padding-bottom: 2px; margin: 0px; padding-top: 2px"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;              (&lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;http://othermachine/listener.aspx&amp;quot;&lt;/span&gt;);&lt;br /&gt;        System.Net.WebResponse rx &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; tx.GetResponse();&lt;br /&gt;        rx.Close();&lt;/span&gt;&lt;/pre&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;&lt;/table&gt;
&lt;/p&gt;

&lt;p&gt;This script is hosted on localhost and othermachine is within the intranet zone and no proxies etc are involved. On my machine things work fine, but on the other machines in the office (who also have the above installed on localhost) we the error message below during execution of the web request to the other machine (line 2 of the source);&lt;/p&gt;

&lt;p&gt;&lt;font color="#a52a2a"&gt;A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;Now, here's the kicker. the above code works when it's run through the VS.NET ASP.NET Development web server! It only fails when it's served through IIS!!! I've been trying to work this out for 2 days now to no avail. If anyone has any ideas, please get in touch....there's a beer in it for the solver!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;UPDATE - HERE'S THE SOLUTION 
    &lt;br /&gt;&lt;/strong&gt;Despite it working when hosted outside of IIS, and despite checking in several places to see if proxy / firewalls were to blame it turned out that when the above code was hosted within IIS it WAS using a proxy server on the failing machines. The solution was to simply disable the proxy for the app through web.config:&lt;/p&gt;

&lt;p&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&amp;lt;system.net&amp;gt; 
    &lt;br /&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;defaultProxy&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;enabled&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;false&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;/&amp;gt;&lt;/span&gt; 

    &lt;br /&gt;&amp;lt;/system.net&amp;gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;font face="Tahoma" size="2"&gt;For some unknown reason, when hosted under IIS, the WebRequest would initialise and then ask the proxy server (configured in IE) for access to othermachine, but it would obviously ask the proxy server for this access as LOCALMACHINE\ASPNET or NETWORK SERVICE - which of course would probably be refused access to the proxy.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;font face="Tahoma" size="2"&gt;Really don't know why this was a problem under IIS only, but the above setting should work regardless of hosting environment.&lt;/font&gt;&lt;/span&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/2011665075425224123/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/03/systemnetwebrequest-problems.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2011665075425224123'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/2011665075425224123'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/03/systemnetwebrequest-problems.html' title='System.Net.WebRequest problems'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5909558235916338798</id><published>2007-03-13T20:26:00.000Z</published><updated>2009-05-09T21:27:08.498+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='WCF'/><title type='text'>The old double hop issue</title><content type='html'>&lt;p&gt;Recently I had a WCF service calling into a simple ASMX service, but I got a 401 error each time it did so, even though my WCF service was setup to impersonate correctly.&lt;/p&gt;  &lt;p&gt;The problem boils down to something called &amp;quot;double-hopping&amp;quot;, which is where by default you're not allowed to pass network credentials beyond a single network hop. &lt;/p&gt;  &lt;p&gt;Assuming the client application, the WCF and the ASMX are on separate servers, the client connects to the WCF, impersonating the client caller identity. When the WCF then connects on to the ASMX however it isn't allowed to pass up the impersonated credentials and instead uses the process identity for the worker thread (commonly ASPNET or NETWORK SERVICE).&lt;/p&gt;  &lt;p&gt;Establishing trust for delegation is the answer - setting up the various servers to allow them to pass on impersonated credentials. The following support article at Microsoft covers how to configure everything: &lt;a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;810572" target="_blank"&gt;http://support.microsoft.com/default.aspx?scid=kb;en-us;810572&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;For reference &lt;a href="http://blogs.msdn.com/nunos/archive/2004/03/12/88468.aspx" target="_blank"&gt;here's a good posting &lt;/a&gt;about it.&lt;/p&gt;  &lt;p&gt;Once you understand &lt;a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;329986"&gt;double hop issues&lt;/a&gt;, the problem is undeniably straight forward, however, if you're not &amp;quot;in-the-know&amp;quot; as I wasn't at the time I was struggling, double hopping in service oriented environments can be a royal pain in the ass.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/5909558235916338798/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/03/old-double-hop-issue.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5909558235916338798'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/5909558235916338798'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/03/old-double-hop-issue.html' title='The old double hop issue'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3310435494791806071</id><published>2007-03-12T20:25:00.000Z</published><updated>2009-05-09T21:26:08.109+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='WCF'/><title type='text'>WCF Impersonation</title><content type='html'>&lt;p&gt;Impersonation (running code as the invoking user) under WCF is configured slightly differently to ASMX services. You need to first of all tell your binding to use windows authentication to identify the caller as follows;&lt;/p&gt;  &lt;p&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;bindings&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;wsHttpBinding&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;binding&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;name&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;AuthBinding&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;security&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;transport&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;clientCredentialType&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;Windows&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;/&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;security&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;binding&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;wsHttpBinding&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;bindings&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;  &lt;p&gt;However, impersonation wise this won't do a thing - when your service code attempts to do something like write to the file system, it will do this as the user your worker processes are configured to use (normally ASPNET or NETWORK SERVICE).&lt;/p&gt;  &lt;p&gt;Normally in ASMX you'd configure impersonation using web.config's &amp;lt;identity impersonate=&amp;quot;true&amp;quot;/&amp;gt;, but WCF appears to ignore this. Instead you're individual methods in WCF need to be marked up by adding the following attribute onto the method;&lt;/p&gt;  &lt;p&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;[OperationBehavior(Impersonation:=ImpersonationOption.Required)]&lt;/span&gt;&lt;/p&gt;  &lt;p&gt;When you consume the service on the client just add this code;&lt;/p&gt;  &lt;p&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;ClientCredentials.Windows.AllowedImpersonationLevel &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt;       &lt;br /&gt;&amp;#160; System.Security.Principal.TokenImpersonationLevel.Impersonation;&lt;/span&gt;&lt;/p&gt;  &lt;p&gt;The service will now impersonate the calling client user.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/3310435494791806071/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/03/wcf-impersonation.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3310435494791806071'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/3310435494791806071'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/03/wcf-impersonation.html' title='WCF Impersonation'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4648607097154828434</id><published>2007-03-08T19:41:00.001Z</published><updated>2009-05-09T21:24:30.599+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Sharepoint'/><title type='text'>Identifying Styles in Sharepoint Services 3.0</title><content type='html'>&lt;p&gt;&lt;a href="http://lh5.ggpht.com/_ywGSbBn2y0E/SgXmfG0L3TI/AAAAAAAAAC0/sPWvt5Qc9Rw/s1600-h/image9.png"&gt;&lt;img title="image" style="border-top-width: 0px; display: inline; border-left-width: 0px; border-bottom-width: 0px; margin-left: 0px; margin-right: 0px; border-right-width: 0px" height="167" alt="image" src="http://lh3.ggpht.com/_ywGSbBn2y0E/SgXmfZpYW5I/AAAAAAAAAC4/AjoLLIKopLM/image_thumb2.png?imgmax=800" width="154" align="right" border="0" /&gt;&lt;/a&gt;Sharepoint has moved on leaps and bounds with the release of SPS 3.0, but it's still a pig when it comes to customisation. If you're changing the look and feel of a theme in SPS, you've got a tough time ahead! If it's available to you, using SPS designer aids with this greatly, but regardless, one of the hardest jobs in customising a theme is knowing which of the hundreds of styles apply to an element you want to change.&lt;/p&gt;  &lt;p&gt;And so, in rolls the following code that you can re-use. By adding a content editor web part and using the source editor you can paste the following code in and have a web part that shows you the full CSS hierarchy of any element you move your mouse over:&lt;/p&gt;  &lt;p&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;table&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;border&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;1&amp;quot;&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;width&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;100%&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;td&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;valign&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;top&amp;quot;&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;width&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;100%&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;div&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;id&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;spsClassTitle&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;TITLE&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;div&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;div&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;id&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;spsClassTree&amp;quot;&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;style&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;height:300px;&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;CSS&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;div&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;td&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;tr&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;table&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;      &lt;br /&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;lt;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;script&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;language&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;=&amp;quot;JavaScript&amp;quot;&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;       &lt;br /&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: black; font-family: courier new; background-color: transparent"&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;function&lt;/span&gt; GetSPSClasses()           &lt;br /&gt;{           &lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;var&lt;/span&gt; currElement &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; window.event.srcElement;           &lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;var&lt;/span&gt; classTree &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;&amp;quot;&lt;/span&gt;;           &lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;var&lt;/span&gt; Style1 &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;color:green;&amp;quot;&lt;/span&gt;;           &lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;var&lt;/span&gt; Style2 &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;color:red;&amp;quot;&lt;/span&gt;;           &lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;var&lt;/span&gt; CurrentStyle &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; Style1;           &lt;br /&gt;&amp;#160;&amp;#160; &lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;if&lt;/span&gt;( currElement !&lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; null )           &lt;br /&gt;&amp;#160; {           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; spsClassTitle.innerText &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;Styles under the cursor&amp;quot;&lt;/span&gt;;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;if&lt;/span&gt;( currElement.id !&lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; null &amp;amp;&amp;amp; currElement.id !&lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;&amp;quot;&lt;/span&gt; )           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; spsClassTitle.innerText += &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;(&amp;quot;&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt; currElement.id &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;)&amp;quot;&lt;/span&gt;;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;br /&gt;          &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;while&lt;/span&gt;( currElement !&lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; null )           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; {           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;if&lt;/span&gt;(currElement.className !&lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; null &amp;amp;&amp;amp; currElement.className !&lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;&amp;quot;&lt;/span&gt;)           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; {           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;var&lt;/span&gt; newEntry &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;&amp;lt;div style=\&amp;quot;&amp;quot;&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt; CurrentStyle &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;\&amp;quot;&amp;gt;&amp;lt;B&amp;gt;&amp;quot;&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; currElement.tagName &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;:&amp;lt;/B&amp;gt;&amp;lt;BR/&amp;gt;&amp;quot;&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; currElement.className &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;&amp;lt;/div&amp;gt;&amp;quot;&lt;/span&gt;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;if&lt;/span&gt;( classTree !&lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;&amp;quot;&lt;/span&gt; )           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; classTree &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; newEntry &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;+&lt;/span&gt; classTree;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;else&lt;/span&gt;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; classTree &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; newEntry;           &lt;br /&gt;          &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;if&lt;/span&gt;( CurrentStyle == Style1 ) CurrentStyle &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; Style2;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;else&lt;/span&gt; CurrentStyle &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; Style1;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; }           &lt;br /&gt;          &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; currElement &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; currElement.parentElement;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; }           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; spsClassTree.innerHTML &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; classTree;           &lt;br /&gt;&amp;#160; }           &lt;br /&gt;&amp;#160; &lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;else&lt;/span&gt;           &lt;br /&gt;&amp;#160; {           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; spsClassTitle.innerText &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;No styles under cursor&amp;quot;&lt;/span&gt;;           &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; spsClassTree.innerText &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; &lt;span style="font-weight: normal; font-size: 11px; color: #666666; font-family: courier new; background-color: #e4e4e4"&gt;&amp;quot;&amp;quot;&lt;/span&gt;;           &lt;br /&gt;&amp;#160; }           &lt;br /&gt;}           &lt;br /&gt;          &lt;br /&gt;window.document.body.onmouseover &lt;span style="font-weight: normal; font-size: 11px; color: red; font-family: courier new; background-color: transparent"&gt;=&lt;/span&gt; GetSPSClasses;           &lt;br /&gt;&lt;/span&gt;&amp;lt;/&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: maroon; font-family: courier new; background-color: transparent"&gt;script&lt;/span&gt;&lt;span style="font-weight: normal; font-size: 11px; color: blue; font-family: courier new; background-color: transparent"&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4648607097154828434/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/03/identifying-styles-in-sharepoint.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4648607097154828434'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4648607097154828434'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/03/identifying-styles-in-sharepoint.html' title='Identifying Styles in Sharepoint Services 3.0'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><media:thumbnail xmlns:media='http://search.yahoo.com/mrss/' url='http://lh3.ggpht.com/_ywGSbBn2y0E/SgXmfZpYW5I/AAAAAAAAAC4/AjoLLIKopLM/s72-c/image_thumb2.png?imgmax=800' height='72' width='72'/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4481700173652400310</id><published>2007-03-08T19:40:00.000Z</published><updated>2009-05-09T20:40:42.909+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='SQL'/><title type='text'>SQL and Remote Connections</title><content type='html'>&lt;p&gt;Excuse the simplicity of this post but we've all been tripped up by SQL Server / SQL Express not accepting remote connections or not allowing SQL Logins and have had to hunt through our scratty notes to remember what we did last time we installed it. Well here's the definitive guide to getting SQL to accept remote connections and getting it to accept the sa (or other SQL user) login.&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Ensure TCP/IP is enabled in surface area configuration &lt;/li&gt;    &lt;li&gt;Ensure &amp;quot;enabled&amp;quot; for TCP/IP in Network Configuration -&amp;gt; protocols in SQL Server Configuration manager. &lt;/li&gt;    &lt;li&gt;Ensure sqlservr.exe exempt in firewall (if necessary) &lt;/li&gt; &lt;/ol&gt;  &lt;p&gt;That'll get it accepting remote connections. If you've installed with windows auth mode only though and you want to login with SQL users, you'll need to turn mixed mode on too:&lt;/p&gt;  &lt;ol&gt;   &lt;li&gt;Open Enterprise Manager and open the server properties &lt;/li&gt;    &lt;li&gt;Set security to SQL Server and Windows auth mode &lt;/li&gt;    &lt;li&gt;If necessary enable the sa user:      &lt;ul&gt;       &lt;li&gt;Open security -&amp;gt; logins and open properties for the sa user &lt;/li&gt;        &lt;li&gt;Select the status tab from the left hand side &lt;/li&gt;        &lt;li&gt;Set Login: Enabled &lt;/li&gt;     &lt;/ul&gt;   &lt;/li&gt;    &lt;li&gt;Restart SQL Server if you changed security at step 2 &lt;/li&gt; &lt;/ol&gt;  &lt;p mce_keep="true"&gt;I know this was all very simple, but if nothing else I'll find it useful to refer back to when I try to connect and get a &amp;quot;connection refused&amp;quot; error and scratch my head for a bit.... [8-|]&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4481700173652400310/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/03/sql-and-remote-connections_08.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4481700173652400310'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4481700173652400310'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/03/sql-and-remote-connections_08.html' title='SQL and Remote Connections'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1058964882965831642</id><published>2007-03-07T19:39:00.000Z</published><updated>2009-05-09T20:39:43.464+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='WCF'/><title type='text'>WCF - Handling large data sizes</title><content type='html'>&lt;p&gt;WCF is a bit fussy when it comes to protecting you against denial of service attacks by sending large data packets. This is great when you don't need to send large amounts of data, but when you do, it can cause you a few problems.&lt;/p&gt;  &lt;p&gt;I've come across a situation recently sending multi megabyte attachments through a WCF service. In its default state WCF won't accept large data transmissions, you have to specifically configure it to accept large data by changing the binding as follows:&lt;/p&gt; &lt;font color="#0000ff" size="2"&gt;&lt;/font&gt;  &lt;p&gt;&lt;font color="#0000ff" size="2"&gt;&lt;/font&gt;&amp;lt;&lt;font color="#800000" size="2"&gt;binding&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt; &lt;/font&gt;&lt;font color="#ff0000" size="2"&gt;name&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt;=&lt;/font&gt;&lt;font size="2"&gt;&amp;quot;&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt;AuthBinding&lt;/font&gt;&lt;font size="2"&gt;&amp;quot;&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt; &lt;/font&gt;&lt;font color="#ff0000" size="2"&gt;maxReceivedMessageSize&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt;=&lt;/font&gt;&lt;font size="2"&gt;&amp;quot;&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt;100000&lt;/font&gt;&lt;font size="2"&gt;&amp;quot;&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt;&amp;gt;&lt;/font&gt; &lt;/p&gt;  &lt;p&gt;&lt;font color="#0000ff" size="2"&gt;&lt;font color="#000000"&gt;As the name implies maxReceivedMessageSize tells WCF how big a message it will be allowed to receive. If you're sending a large byte array across the wire - maybe an attachment file or something - you need to also configure the XmlReader that WCF uses to tell it how big an array to accept. You do this through the use of the readerquotas declaration within your binding:&lt;/font&gt;&lt;/font&gt;&lt;/p&gt; &lt;font color="#0000ff" size="2"&gt;&lt;font color="#000000"&gt;&lt;font color="#0000ff" size="2"&gt;       &lt;p&gt;&amp;lt;&lt;font color="#800000" size="2"&gt;readerquotas&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt; &lt;/font&gt;&lt;font color="#ff0000" size="2"&gt;maxArrayLength&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt;=&lt;/font&gt;&lt;font size="2"&gt;&amp;quot;&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt;10485760&lt;/font&gt;&lt;font size="2"&gt;&amp;quot;&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt; /&amp;gt;&lt;/font&gt; &lt;/p&gt;        &lt;p mce_keep="true"&gt;&lt;/p&gt;     &lt;/font&gt;&lt;/font&gt;&lt;font color="#0000ff" size="2"&gt;&lt;font color="#000000"&gt;This would allow the XmlReader to accept a byte array equivalent to a 10mb file.&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/1058964882965831642/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/03/wcf-handling-large-data-sizes_07.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1058964882965831642'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/1058964882965831642'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/03/wcf-handling-large-data-sizes_07.html' title='WCF - Handling large data sizes'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4626924211366610641</id><published>2007-03-05T19:37:00.000Z</published><updated>2009-05-09T20:38:48.916+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#post'/><category scheme='http://www.blogger.com/atom/ns#' term='Flux'/><title type='text'>FLUX.NET CMS v2.0 Released!</title><content type='html'>&lt;p&gt;I released version 2.0 of the flux.net content management system and application framework yesterday. Go get it from &lt;a class="" href="http://www.fluxcms.co.uk/" target="_blank" mce_href="http://www.fluxcms.co.uk"&gt;http://www.fluxcms.co.uk/&lt;/a&gt; if you haven't got it already!&lt;/p&gt;  &lt;p&gt;FLUX.net is an open source content management platform and web application framework. It offers very advanced content and asset management facilities out of the box, coupled with an exceptional developers API and framework for building even the most complex web applications quickly and efficiently. Flux is presently in stable release 2.0 and 3.0 is in development.&lt;/p&gt;  </content><link rel='replies' type='application/atom+xml' href='http://www.deepcode.co.uk/feeds/4626924211366610641/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.deepcode.co.uk/2007/03/fluxnet-cms-v20-released_05.html#comment-form' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4626924211366610641'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/posts/default/4626924211366610641'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/03/fluxnet-cms-v20-released_05.html' title='FLUX.NET CMS v2.0 Released!'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-9176185782805980805</id><published>2009-05-21T13:19:23.851+01:00</published><updated>2009-05-21T13:19:23.851+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Alternate link:
http://kb.dutchalps.com/microsoftv...</title><content type='html'>Alternate link:&lt;br /&gt;http://kb.dutchalps.com/microsoftvirtualpc.htm</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2727866924041910420/comments/default/9176185782805980805'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2727866924041910420/comments/default/9176185782805980805'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/11/expand-virtual-pc-vhd-file-and-extend_18.html?showComment=1242908363851#c9176185782805980805' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2008/11/expand-virtual-pc-vhd-file-and-extend_18.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2727866924041910420' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2727866924041910420' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='21 May 2009 13:19'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-895058191636964206</id><published>2009-07-02T16:48:15.974+01:00</published><updated>2009-07-30T11:40:40.723+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Link to source code is not working.</title><content type='html'>Link to source code is not working.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/7017208528958399127/comments/default/895058191636964206'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/7017208528958399127/comments/default/895058191636964206'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/12/building-silverlight-rss-reader-part-1_16.html?showComment=1246549695974#c895058191636964206' title=''/><author><name>John</name><uri>http://www.windows4all.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2008/12/building-silverlight-rss-reader-part-1_16.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-7017208528958399127' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/7017208528958399127' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1767554499'/><gd:extendedProperty name='blogger.displayTime' value='2 July 2009 16:48'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1063069216175092615</id><published>2009-11-02T21:31:22.430Z</published><updated>2009-11-16T16:25:48.025Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for the post!  Did you ever discover how to...</title><content type='html'>Thanks for the post!  Did you ever discover how to get the fade out animation to complete before the fade in animation begins, and if so, can you share?  I&amp;#39;m currently stuck trying to figure this out.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5097775360365023145/comments/default/1063069216175092615'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5097775360365023145/comments/default/1063069216175092615'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/01/playing-with-wpf_06.html?showComment=1257197482430#c1063069216175092615' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2008/01/playing-with-wpf_06.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5097775360365023145' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5097775360365023145' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1754837351'/><gd:extendedProperty name='blogger.displayTime' value='2 November 2009 21:31'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2632380413251456143</id><published>2009-11-16T16:27:43.233Z</published><updated>2009-11-16T16:27:43.233Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I didn&amp;#39;t and I haven&amp;#39;t tried it out yet as...</title><content type='html'>I didn&amp;#39;t and I haven&amp;#39;t tried it out yet as I&amp;#39;ve not had much chance to work with WPF recently.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5097775360365023145/comments/default/2632380413251456143'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5097775360365023145/comments/default/2632380413251456143'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/01/playing-with-wpf_06.html?showComment=1258388863233#c2632380413251456143' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2008/01/playing-with-wpf_06.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5097775360365023145' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5097775360365023145' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='16 November 2009 16:27'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7780204239938873795</id><published>2009-11-17T06:32:23.064Z</published><updated>2010-05-06T12:06:49.804+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>thanks so much about your post</title><content type='html'>thanks so much about your post</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6146562733844048409/comments/default/7780204239938873795'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6146562733844048409/comments/default/7780204239938873795'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/10/10-step-guide-to-getting-basic-fluxnet.html?showComment=1258439543064#c7780204239938873795' title=''/><author><name>dyel</name><uri>http://www.blogger.com/profile/14971578792449491545</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='26' src='http://4.bp.blogspot.com/_klK-HpmQ2Gg/SwAM6xeyxEI/AAAAAAAAAAM/aEp_mNCoWro/S220/quyennlkungfud8.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/10/10-step-guide-to-getting-basic-fluxnet.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6146562733844048409' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6146562733844048409' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1176151115'/><gd:extendedProperty name='blogger.displayTime' value='17 November 2009 06:32'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4095779051427940133</id><published>2010-01-13T19:01:15.891Z</published><updated>2011-08-05T15:32:08.500+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great post! I was struggling with this.</title><content type='html'>Great post! I was struggling with this.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/1612961301664478375/comments/default/4095779051427940133'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/1612961301664478375/comments/default/4095779051427940133'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/07/nhibernate-nn-relationships.html?showComment=1263409275891#c4095779051427940133' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/07/nhibernate-nn-relationships.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-1612961301664478375' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/1612961301664478375' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-618984126'/><gd:extendedProperty name='blogger.displayTime' value='13 January 2010 19:01'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-926781972735314692</id><published>2010-02-25T22:45:05.616Z</published><updated>2010-05-06T12:06:46.887+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Fo shnizzle</title><content type='html'>Fo shnizzle</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8040124795543960267/comments/default/926781972735314692'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8040124795543960267/comments/default/926781972735314692'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/12/xbox-experience-trashes-my-360_3739.html?showComment=1267137905616#c926781972735314692' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2008/12/xbox-experience-trashes-my-360_3739.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8040124795543960267' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8040124795543960267' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-794786764'/><gd:extendedProperty name='blogger.displayTime' value='25 February 2010 22:45'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4662039922838931667</id><published>2010-04-15T14:13:19.945+01:00</published><updated>2010-05-06T12:06:43.499+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Please update the broken source code link.</title><content type='html'>Please update the broken source code link.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8902218262306497165/comments/default/4662039922838931667'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8902218262306497165/comments/default/4662039922838931667'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/12/building-silverlight-rss-reader-part-2_129.html?showComment=1271337199945#c4662039922838931667' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2008/12/building-silverlight-rss-reader-part-2_129.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8902218262306497165' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8902218262306497165' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-664619652'/><gd:extendedProperty name='blogger.displayTime' value='15 April 2010 14:13'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4063468084971072183</id><published>2010-06-28T15:47:51.701+01:00</published><updated>2010-06-28T15:47:51.701+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

I am having an issue integrating SAP wit...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;I am having an issue integrating SAP with MOSS. We have a SAP page that pulls in MOSS content via and iView (which is basically an iFrame)&lt;br /&gt;&lt;br /&gt;The issue in question is in regards to the Editing Tool Bar that pops up when you click on a rich html field whist in Edit Mode. The edit window will not pop up and we get a javascript &amp;quot;Access Denied&amp;quot; error.&lt;br /&gt;&lt;br /&gt;When I got to the MOSS Portal and check document.domain, i get &amp;quot;machine-name.labs.co.uk&amp;quot; and when I go to the SAP portal and check domain I get &amp;quot;labs.co.uk&amp;quot;, so i can see from here that i have a different domain.&lt;br /&gt;&lt;br /&gt;The error can be easily replicated if you create a basic html page with an iframe and set the SRC to be a MOSS publishing page. The when you switch to Edit Mode and click on a control the error will be shown.&lt;br /&gt;&lt;br /&gt;I think that this is something to do with domain getting mixed up, but i am not sure how to fix it. I tried putting a test iframe page in the layouts folder and then browsed to it via http://mymosssite/_layouts/iframe.html and it works ok.&lt;br /&gt;&lt;br /&gt;Any ideas on where to set the domain?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/4063468084971072183'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/4063468084971072183'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html?showComment=1277736471701#c4063468084971072183' title=''/><author><name>Sa</name><uri>http://www.blogger.com/profile/05867644092041440334</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3874855558729193344' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3874855558729193344' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-694956721'/><gd:extendedProperty name='blogger.displayTime' value='28 June 2010 15:47'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4060068605205843270</id><published>2010-06-28T21:28:03.849+01:00</published><updated>2010-06-28T21:28:03.849+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Sa,

From what I can tell (and I&amp;#39;m not fami...</title><content type='html'>Hi Sa,&lt;br /&gt;&lt;br /&gt;From what I can tell (and I&amp;#39;m not familiar with sap) you need to set document.domain = &amp;quot;labs.co.uk&amp;quot; in your master page in MOSS so that all the items of content fulfil the same origin policy. &lt;br /&gt;&lt;br /&gt;You could probably try this out by adding a content editor web part and manually adding the javascript.&lt;br /&gt;&lt;br /&gt;Hope this helps,&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/4060068605205843270'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/4060068605205843270'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html?showComment=1277756883849#c4060068605205843270' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3874855558729193344' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3874855558729193344' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='28 June 2010 21:28'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-345540563540139591</id><published>2010-06-29T11:35:30.342+01:00</published><updated>2010-06-29T11:35:30.342+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Turns out others are having the same issue, but MS...</title><content type='html'>Turns out others are having the same issue, but MS deem to close this issue as unable to reproduce!;&lt;br /&gt;http://connect.microsoft.com/VisualStudio/feedback/details/564095/gui-corruption#details</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2323997373983613121/comments/default/345540563540139591'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2323997373983613121/comments/default/345540563540139591'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/06/display-issues-with-new-editor-in.html?showComment=1277807730342#c345540563540139591' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/06/display-issues-with-new-editor-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2323997373983613121' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2323997373983613121' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-212610648'/><gd:extendedProperty name='blogger.displayTime' value='29 June 2010 11:35'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5222127812446841410</id><published>2010-09-01T00:51:25.860+01:00</published><updated>2010-09-01T00:51:25.860+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Tony,

Very interesting solution. I am working thr...</title><content type='html'>Tony,&lt;br /&gt;&lt;br /&gt;Very interesting solution. I am working through the same problem, and haven&amp;#39;t yet solved it. It seems to me that in your solution using Html.BeginForm would cause an actual form postback. Granted, the client-side validation would prevent that in the case of errors, but for the sake of argument suppose the client-side javascript validation didn&amp;#39;t fire. If the user posted the form, and the server caught an error, the page would reload into the main content area rather than the modal. Is this the case? If so, do you think Ajax.BeginForm might solve this?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/5222127812446841410'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/5222127812446841410'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1283298685860#c5222127812446841410' title=''/><author><name>Nat.Net</name><uri>http://www.blogger.com/profile/01883029636753805628</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-818851314'/><gd:extendedProperty name='blogger.displayTime' value='1 September 2010 00:51'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1912726035539586736</id><published>2010-09-01T09:38:29.316+01:00</published><updated>2010-09-01T09:38:29.316+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Nat.Net,

I use Html.BeginForm, but it doesn&amp;#3...</title><content type='html'>Hi Nat.Net,&lt;br /&gt;&lt;br /&gt;I use Html.BeginForm, but it doesn&amp;#39;t post back as I have a jQuery handler that intercepts the form and posts it using a jQuery ajax request. &lt;br /&gt;&lt;br /&gt;If it was the case that the client validation wasn&amp;#39;t firing then you&amp;#39;ve got to ask why. There are only 3 reasons I can think of.&lt;br /&gt;&lt;br /&gt;1. Your scripts contain errors and therefore aren&amp;#39;t registering correctly. This is something that just needs to be well tested and fixed before shipping your product.&lt;br /&gt;&lt;br /&gt;2. User intentionally turns off scripts for a malicious reason. In this case, server side validation is still going to fire and prevent the malicious attack and to be honest, if someone want&amp;#39;s to intentionally mess with my system, I don&amp;#39;t care what their user experience is like :)&lt;br /&gt;&lt;br /&gt;3. User accidentally turns off scripts or has scripts turned off in their browser completely. In this case, the application as a whole isn&amp;#39;t going to work and they can&amp;#39;t get to the modal screen anyway as it itself is script based.&lt;br /&gt;&lt;br /&gt;So, in the unlikely event that scripts didn&amp;#39;t fire, I wouldn&amp;#39;t be too worried, but there are some other things you could do if you are worried about this.&lt;br /&gt;&lt;br /&gt;You could use an empty action in your BeginForm and wire the URL up in your submit code, or you could skip the use of the html helper completely and just write a manual form tag. To do the latter you would need a manual call to ViewContext.OutputClientValidation() after you close your form. It&amp;#39;s possible that the Ajax.BeginForm might also help, but I&amp;#39;ve not tried it myself.&lt;br /&gt;&lt;br /&gt;Hope this helps.&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/1912726035539586736'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/1912726035539586736'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1283330309316#c1912726035539586736' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='1 September 2010 09:38'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4681173549612679971</id><published>2010-09-01T17:17:46.957+01:00</published><updated>2010-09-01T17:17:46.957+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Tony,

Thanks for the response. Just to be clear t...</title><content type='html'>Tony,&lt;br /&gt;&lt;br /&gt;Thanks for the response. Just to be clear the call to __MVC_EnableClientValidation is what binds the form post interception code? I didn&amp;#39;t make that connection earlier. Well done. I will use this solution. Thanks for the help.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/4681173549612679971'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/4681173549612679971'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1283357866957#c4681173549612679971' title=''/><author><name>Nat.Net</name><uri>http://www.blogger.com/profile/01883029636753805628</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-818851314'/><gd:extendedProperty name='blogger.displayTime' value='1 September 2010 17:17'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7835919993833744484</id><published>2010-09-01T17:46:58.223+01:00</published><updated>2010-09-01T17:46:58.223+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Tony,

I am still missing a vital piece here. How ...</title><content type='html'>Tony,&lt;br /&gt;&lt;br /&gt;I am still missing a vital piece here. How do you get the form contained within Html.BeginForm to post via an Ajax call rather than a form POST? I see your jquery code to load the initial modal, but how do you force that to be used when posting the form? In my case, I have some validations that cannot be run on the client (i.e., looking for existing account in the system). So, I have to rely on Server validation. All of the client-side validation works great using your solution, but if the server validation fails, then I get the form reloading in the main content area rather than being targeted in the Modal popup.&lt;br /&gt;&lt;br /&gt;Thanks again.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/7835919993833744484'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/7835919993833744484'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1283359618223#c7835919993833744484' title=''/><author><name>Nat.Net</name><uri>http://www.blogger.com/profile/01883029636753805628</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-818851314'/><gd:extendedProperty name='blogger.displayTime' value='1 September 2010 17:46'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8301745583910467493</id><published>2010-09-01T19:15:05.517+01:00</published><updated>2010-09-01T19:15:05.517+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>That&amp;#39;s right, the __MVC_EnableClientValidation...</title><content type='html'>That&amp;#39;s right, the __MVC_EnableClientValidation is the thing that does the binding. Normally this is invoked on document.ready by the MicrosoftMvcJQueryValidation.js, but as that&amp;#39;s included in the host page, not your html fragment, you need to call it yourself when your fragment has loaded and after the rules structure has been processed on the page (hence the timer).&lt;br /&gt;&lt;br /&gt;For the posting mechanism, that&amp;#39;s a whole separate issue - this post really was just about getting the validation to run.&lt;br /&gt;&lt;br /&gt;To post via an ajax post, I hook a standard jQuery $.ajax call into my form submit event, the controller then returns a json structure as to whether it succeeded or not and any error information I might need on the client and as part of the success handler of the .ajax call I close the dialog and refresh the display etc as necessary.&lt;br /&gt;&lt;br /&gt;You could also do it using a .ajax call which returns the view, then simply replace the dialog content with your view, thus rendering your form again from your model, but with any server side validation errors shown. (I&amp;#39;ve just gone quite a bit further with my framework to use json messages and process all kinds of things coming back out of my controller in a standard way, but none of that is really relevant) &lt;br /&gt;&lt;br /&gt;:)&lt;br /&gt;&lt;br /&gt;Let me know if you need more info - feel free to send me a cut down sample project and I&amp;#39;ll get it working for you and send it back :)&lt;br /&gt;&lt;br /&gt;Cheers</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/8301745583910467493'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/8301745583910467493'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1283364905517#c8301745583910467493' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='1 September 2010 19:15'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2246621059015461843</id><published>2010-09-01T19:30:22.815+01:00</published><updated>2010-09-01T19:30:22.815+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Tony,

Final note: I got this working using the jq...</title><content type='html'>Tony,&lt;br /&gt;&lt;br /&gt;Final note: I got this working using the jquery.form plugin which allows me to hijack all of the requests and make them Ajax and specify an object target on the page. I believe this is more lightweight than using ASP.NET Ajax which is why I chose it. Thanks again.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/2246621059015461843'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/2246621059015461843'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1283365822815#c2246621059015461843' title=''/><author><name>Nat.Net</name><uri>http://www.blogger.com/profile/01883029636753805628</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-818851314'/><gd:extendedProperty name='blogger.displayTime' value='1 September 2010 19:30'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1209489257511458792</id><published>2010-09-01T21:41:14.036+01:00</published><updated>2010-09-01T21:41:14.036+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Yep, I don&amp;#39;t use any asp.net ajax stuff or the...</title><content type='html'>Yep, I don&amp;#39;t use any asp.net ajax stuff or the microsoft ajax framework. jQuery all the way for me.&lt;br /&gt;&lt;br /&gt;I think the jquery.form plugin will be doing pretty much the same, using the $.ajax call. Glad it&amp;#39;s all working for you - enjoy.&lt;br /&gt;&lt;br /&gt;Cheers&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/1209489257511458792'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/1209489257511458792'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1283373674036#c1209489257511458792' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='1 September 2010 21:41'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5737637779062860227</id><published>2010-09-02T05:00:37.420+01:00</published><updated>2010-09-02T05:00:37.420+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Source code to demonstrate this here;

http://www....</title><content type='html'>Source code to demonstrate this here;&lt;br /&gt;&lt;br /&gt;http://www.deepcode.co.uk/2010/09/mvc2-validation-samples.html</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3459801044881233723/comments/default/5737637779062860227'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3459801044881233723/comments/default/5737637779062860227'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/custom-mvc-2-validation-using-jquery.html?showComment=1283400037420#c5737637779062860227' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/custom-mvc-2-validation-using-jquery.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3459801044881233723' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3459801044881233723' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='2 September 2010 05:00'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6085278707201682104</id><published>2010-09-02T05:01:47.888+01:00</published><updated>2010-09-02T05:01:47.888+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>The following might also be useful - it&amp;#39;s an e...</title><content type='html'>The following might also be useful - it&amp;#39;s an end to end sample demonstrating all the validation principles along with jQuery code to load the form dynamically with ajax and post it back too.&lt;br /&gt;&lt;br /&gt;http://www.deepcode.co.uk/2010/09/mvc2-validation-samples.html</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/6085278707201682104'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/6085278707201682104'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1283400107888#c6085278707201682104' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='2 September 2010 05:01'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6100950362387302896</id><published>2010-09-17T12:31:08.014+01:00</published><updated>2010-09-17T12:31:08.014+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi, nice article! But still I am having trouble ge...</title><content type='html'>Hi, nice article! But still I am having trouble getting it to work.&lt;br /&gt;We are having the form loaded via jQueryUI dialog. When the form model is in error, the page simply redirects instead of returning via the .ajax call. What could be the issue? I am using Html.BeginForm and latest jQuery along with jQuery.validate.js and microsoftmvcjqueryvalidation.js from futures project.&lt;br /&gt;Thanks!&lt;br /&gt;GM</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/6100950362387302896'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/6100950362387302896'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1284723068014#c6100950362387302896' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1040400013'/><gd:extendedProperty name='blogger.displayTime' value='17 September 2010 12:31'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5093570941533683512</id><published>2010-09-17T12:52:02.235+01:00</published><updated>2010-09-17T12:52:02.235+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi GM,

It sounds to me like the you&amp;#39;ve not ho...</title><content type='html'>Hi GM,&lt;br /&gt;&lt;br /&gt;It sounds to me like the you&amp;#39;ve not hooked your form up to post it&amp;#39;s data using $.ajax() and instead it&amp;#39;s just posting straight back with a normal request.&lt;br /&gt;&lt;br /&gt;The standard HTML form doesn&amp;#39;t know to post it&amp;#39;s data using jquery by default remember, and it will instead send the form and refresh the entire page with the result.&lt;br /&gt;&lt;br /&gt;Take a look at this post: http://www.deepcode.co.uk/2010/09/mvc2-validation-samples.html&lt;br /&gt;&lt;br /&gt;Which links to some other guidance on the subject and a sample project I&amp;#39;ve put on codeplex that does what you are describing.&lt;br /&gt;&lt;br /&gt;Hope this helps,&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/5093570941533683512'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/5093570941533683512'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1284724322235#c5093570941533683512' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='17 September 2010 12:52'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3742194692088296681</id><published>2010-09-17T14:46:57.995+01:00</published><updated>2010-09-17T14:46:57.995+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony, got to work!! 

We have submit button cli...</title><content type='html'>Hi Tony, got to work!! &lt;br /&gt;&lt;br /&gt;We have submit button click events wired up to js function via jQuery .live mechanism. This was not working when the two js files named in my earlier post were included. I got to work by including our common.js file within the view itself rather than in the master. This is actually strange since the view is based on the master, still is not able to find some functions defined in the common.js file.&lt;br /&gt;&lt;br /&gt;And your sample helped me a lot!&lt;br /&gt;&lt;br /&gt;Thanks for your quick response and the complete sample!&lt;br /&gt;&lt;br /&gt;I would also love to see the sample include forms loaded via jQuery-UI.&lt;br /&gt;&lt;br /&gt;Cheers!&lt;br /&gt;GM</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/3742194692088296681'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/3742194692088296681'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1284731217995#c3742194692088296681' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1040400013'/><gd:extendedProperty name='blogger.displayTime' value='17 September 2010 14:46'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8667649768757056587</id><published>2010-09-18T19:01:53.880+01:00</published><updated>2010-09-18T19:01:53.880+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Looks like my joy was still shortlived. This query...</title><content type='html'>Looks like my joy was still shortlived. This query logged by someone is exactly what I want to achieve. http://osdir.com/ml/jquery-ui/2009-02/msg01006.html&lt;br /&gt;&lt;br /&gt;However, I cannot find a complete sample showing using jQuery UI instead of just ajax within page. &lt;br /&gt;&lt;br /&gt;Issues I know in jQuery UI case are that javascript in the form loaded is not executed. And content loaded via .html() above in your example does not hold onto the events hooked up dynamically. Are these right?&lt;br /&gt;&lt;br /&gt;Can you show me an example using jquery ui if possible? I would really appreciate! &lt;br /&gt;&lt;br /&gt;Thanks,&lt;br /&gt;GM</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/8667649768757056587'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/8667649768757056587'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1284832913880#c8667649768757056587' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2025375368'/><gd:extendedProperty name='blogger.displayTime' value='18 September 2010 19:01'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-9144511520444074039</id><published>2010-09-21T21:26:33.524+01:00</published><updated>2010-09-21T21:26:33.524+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi GM,
I&amp;#39;ve extended the sample to do exactly ...</title><content type='html'>Hi GM,&lt;br /&gt;I&amp;#39;ve extended the sample to do exactly this, but I&amp;#39;m in North Wales at the moment with little connectivity and tethering through my phone isn&amp;#39;t working.&lt;br /&gt;&lt;br /&gt;I&amp;#39;ll upload in a couple of days when I get home. I&amp;#39;m not aware of any of the problems you describe, in fact I&amp;#39;m doing exactly this for several projects without any issues.&lt;br /&gt;&lt;br /&gt;Cheers&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/9144511520444074039'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/9144511520444074039'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1285100793524#c9144511520444074039' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='21 September 2010 21:26'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3984452008738631821</id><published>2010-09-22T09:17:51.649+01:00</published><updated>2010-09-22T09:17:51.649+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

Thanks for the sample, I am waiting to c...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;Thanks for the sample, I am waiting to check it out!&lt;br /&gt;&lt;br /&gt;(The Issues I referred to, I had read about them on some other forum, while researching on this issue.)&lt;br /&gt;&lt;br /&gt;Meanwhile, I was able to get the serverside validations working but still client side is not working. &lt;br /&gt;&lt;br /&gt;I am executing these statements in master like below:&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;        $(document).ready(function () {&lt;br /&gt;            _mvcValidationHookCounter = 0; //declared in another js file loaded before this&lt;br /&gt;            setupMvcValidation();&lt;br /&gt;        });&lt;br /&gt;&lt;br /&gt;AND after I get the response from the ajax call like below:&lt;br /&gt;&lt;br /&gt;    //in submit click event&lt;br /&gt;    if (!$(form).valid()) {&lt;br /&gt;        return false;&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;    $.ajax({&lt;br /&gt;        type: &amp;quot;POST&amp;quot;,&lt;br /&gt;        url: form.action,&lt;br /&gt;        data: $(form).serialize(),&lt;br /&gt;        dataType: &amp;quot;html&amp;quot;,&lt;br /&gt;        async: true,&lt;br /&gt;        cache: false,&lt;br /&gt;        success: function (data, text) {&lt;br /&gt;            if (data != undefined &amp;amp;&amp;amp; data != null) {&lt;br /&gt;                try {&lt;br /&gt;   //.....&lt;br /&gt;                    }&lt;br /&gt;                }&lt;br /&gt;                catch (err) { //try for json data to be returned&lt;br /&gt;   //.....&lt;br /&gt;                }&lt;br /&gt;            }&lt;br /&gt;            //I do the below when there are server side validation errors and the dialog cannot be closed&lt;br /&gt;            _mvcValidationHookCounter = 0; //declared in another js file loaded before this&lt;br /&gt;            setupMvcValidation();&lt;br /&gt;        }&lt;br /&gt; //....&lt;br /&gt;    }&lt;br /&gt;&lt;br /&gt;In Firebug I can see that it enters setupMVCValidation and calls it 30 times (I increased in a hope to get it valid) but still is unable to the mvcClientValidationMetadata value to be valid.)&lt;br /&gt;&lt;br /&gt;I have included both the js files and the EnableClientValidation as well. I have a custom validator for which I do not yet have a adaptor written.  Can this be causing the validations to be not setup? (Server side valiation of this custom validator also fires up properly.)&lt;br /&gt;&lt;br /&gt;Thanks for taking the time out for modifying the sample!&lt;br /&gt;&lt;br /&gt;Cheers,&lt;br /&gt;GM</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/3984452008738631821'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/3984452008738631821'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1285143471649#c3984452008738631821' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1040400013'/><gd:extendedProperty name='blogger.displayTime' value='22 September 2010 09:17'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7429889934976512453</id><published>2010-09-22T11:02:04.880+01:00</published><updated>2010-09-22T11:02:04.880+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi GM,

I think the hookup to the validator is in ...</title><content type='html'>Hi GM,&lt;br /&gt;&lt;br /&gt;I think the hookup to the validator is in the wrong place in your sample.&lt;br /&gt;&lt;br /&gt;You are hooking up the client validators on a successful ajax response, but at that point, the response data (the HTML with the form etc) will not yet have been added to the DOM and so no metadata about the validation will have been output, hence why your call executes 30 times.&lt;br /&gt;&lt;br /&gt;If you move that code to the actual HTML fragment being returned you should find it works as it will be executed when the content is added to the DOM correctly.&lt;br /&gt;&lt;br /&gt;I&amp;#39;ve checked in the latest source to the project on code plex with a sample that demonstrates all this as requested. &lt;br /&gt;&lt;br /&gt;Let me know how you get on.&lt;br /&gt;&lt;br /&gt;Cheers,&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/7429889934976512453'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/7429889934976512453'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1285149724880#c7429889934976512453' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='22 September 2010 11:02'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1325017053340535528</id><published>2010-09-23T08:46:27.229+01:00</published><updated>2010-09-23T08:46:27.229+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

Sorry, I did not paste complete code ear...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;Sorry, I did not paste complete code earlier but I was doing this in the response checking&lt;br /&gt;&lt;br /&gt;$(dialog).html(divHtml);&lt;br /&gt;&lt;br /&gt;where divHTML was a Div tag picked out of the response html. So the validator hook up location seemed right. Also, I tried adding the calls to document.ready function in the head section of page being loaded in modal. But that too did not help.&lt;br /&gt;&lt;br /&gt;Thanks for the updated sample! I checked it out and found only two differences. &lt;br /&gt;&lt;br /&gt;1. The dialog load in your case does load the entire page whereas in our case we are picking out a specific div out of the page and loading only that.&lt;br /&gt;2. The dialog in your case is a user control whereas in our case it is a page.&lt;br /&gt;&lt;br /&gt;So I went ahead and changed your sample by adding a div around the form and changed the control to a page and boom, the client side validation started failing in that too!&lt;br /&gt;&lt;br /&gt;I then did change my dialog &amp;quot;pages&amp;quot; to &amp;quot;user controls&amp;quot; and loaded them in entirety rather than picking out a div! And all client validation started working!!&lt;br /&gt;&lt;br /&gt;So lessons learnt, have dialogs implemented as user controls and do not load a section out of the page for modal dialogs (atleast) or you loose out on client validation!!&lt;br /&gt;&lt;br /&gt;Thanks a lot for your samples, I really appreciate your pulling out time for helping me out!! With the sample, I could really figure out the difference and sort out the issue!!&lt;br /&gt;&lt;br /&gt;Cheer!&lt;br /&gt;GM</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/1325017053340535528'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/1325017053340535528'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1285227987229#c1325017053340535528' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1040400013'/><gd:extendedProperty name='blogger.displayTime' value='23 September 2010 08:46'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5445192580292122617</id><published>2010-09-23T22:16:53.686+01:00</published><updated>2010-09-23T22:16:53.686+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Any time :)

Cheers
Tony</title><content type='html'>Any time :)&lt;br /&gt;&lt;br /&gt;Cheers&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/5445192580292122617'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5429604619224028445/comments/default/5445192580292122617'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html?showComment=1285276613686#c5445192580292122617' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/08/mvc-ootb-validation-when-pulling-in.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5429604619224028445' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5429604619224028445' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='23 September 2010 22:16'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4923559706380602169</id><published>2011-01-14T13:15:49.191Z</published><updated>2011-01-14T13:15:49.191Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I&amp;#39;ve lost count of how sites offer an email my...</title><content type='html'>I&amp;#39;ve lost count of how sites offer an email my password function. I just tend to avoid them in favour of something more secure.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5959221317319412678/comments/default/4923559706380602169'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5959221317319412678/comments/default/4923559706380602169'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/01/modicum-of-security-would-be.html?showComment=1295010949191#c4923559706380602169' title=''/><author><name>Alan</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/01/modicum-of-security-would-be.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5959221317319412678' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5959221317319412678' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1966538371'/><gd:extendedProperty name='blogger.displayTime' value='14 January 2011 13:15'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1439805892468301005</id><published>2011-01-19T18:19:19.199Z</published><updated>2011-01-19T18:19:19.199Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

I&amp;#39;m Atul, need solution for one majo...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;I&amp;#39;m Atul, need solution for one major problem. As I am ruining out of the ideas for the problem we are facing so added question here. &lt;br /&gt;&lt;br /&gt;We use DOJO Framework&lt;br /&gt;&lt;br /&gt;About Problem&lt;br /&gt;&lt;br /&gt;We have created different kind of Widgets (Overlay, Full page mode these are dojo dialogues) for my project.  And I need to expose Overlay widget. It is JSP page which is having a 3-4 dialogs, Global Variables, a lot of Images, Google map for which data is populated from 4-5 AJAX calls. This widget should be open in Client domain and client container (i.e in Another JVM/Sites) and we have to fetch the data from our Database.  So it&amp;#39;s a cross domain communication.&lt;br /&gt;&lt;br /&gt;We need to provide sort of JavaScript code/HTML/JSP which can include in&lt;br /&gt;Client application and he/she will able to access our overlay widget (dojo dialogue which is is getting loaded from our database data.)&lt;br /&gt;&lt;br /&gt;Technical Challenge&lt;br /&gt;For Cross domain communication, In DOJO we use dojo.io.Iframe , so it goes&lt;br /&gt;directly to the other domain and populate on client end.  We are able to&lt;br /&gt;fetch the data from the domain but couldn&amp;#39;t able to populate the data in&lt;br /&gt;our iframe, In iframe we are fetching data in terms of HTMLDocument object&lt;br /&gt;but getting some &amp;quot;Permission denied&amp;quot; exception. For the error please refer&lt;br /&gt;the attached screenshot.   &lt;br /&gt;&lt;br /&gt;Please help me  to find out the best way to proceed. &lt;br /&gt;&lt;br /&gt;Tested Scenario: -&lt;br /&gt;&lt;br /&gt;1) Created a Web Project on local, created a JSP which include the CSS and&lt;br /&gt;DOJO required libraries from my E1 server path.&lt;br /&gt;&lt;br /&gt;Firing a Ajax call which is having my app server path (right now it is&lt;br /&gt;hardcoded):  &lt;br /&gt;&lt;br /&gt;We are able to hit the application server and in firebug all the JavaScript logs are&lt;br /&gt;displaying, but getting permission denied exception in HTMLDcoument object.&lt;br /&gt;&lt;br /&gt;2) Referred jsp is CustomOverlayWidget_new.jsp&lt;br /&gt;&lt;br /&gt;in this, I am calling my website path, and able to populate the result, but on the fly couldn&amp;#39;t able fire a JavaScript method.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/1439805892468301005'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/1439805892468301005'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html?showComment=1295461159199#c1439805892468301005' title=''/><author><name>Atul</name><uri>http://www.blogger.com/profile/08896513009464511177</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3874855558729193344' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3874855558729193344' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1117577190'/><gd:extendedProperty name='blogger.displayTime' value='19 January 2011 18:19'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4859689343194257271</id><published>2011-01-20T00:33:23.427Z</published><updated>2011-01-20T00:33:23.427Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Atul,

Not sure I&amp;#39;m following along and I&amp;#...</title><content type='html'>Hi Atul,&lt;br /&gt;&lt;br /&gt;Not sure I&amp;#39;m following along and I&amp;#39;m nit familiar with dojo or jsp. That aside, if you&amp;#39;re having cross domain issues in the browser its unlikely relevant.&lt;br /&gt;&lt;br /&gt;From what I can read here it sounds like your getting permission denied issues when you try to manipulate a HTML document loaded from a source that isn&amp;#39;t in the same origin as the host? If this is the case there is no way to solve this on the client if you don&amp;#39;t have control of both sides.&lt;br /&gt;&lt;br /&gt;If you have control of the target system as well, you can use the technique above to go down the frames and achieve what you need to do, but otherwise you will need to consider a proxy or URL rewrites to make the browser think its data is coming from the same source etc.&lt;br /&gt;&lt;br /&gt;This is all very vague, but I hope it helps in some way. If not and you can distill your issue down to as little HTML and JavaScript as possible, i would be happy to take a look at it for you.&lt;br /&gt;&lt;br /&gt;Regards,&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/4859689343194257271'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/4859689343194257271'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html?showComment=1295483603427#c4859689343194257271' title=''/><author><name>Tony</name><uri>http://www.deepcode.co.uk</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3874855558729193344' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3874855558729193344' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1944526455'/><gd:extendedProperty name='blogger.displayTime' value='20 January 2011 00:33'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2259837752595574291</id><published>2011-02-22T08:41:06.733Z</published><updated>2011-02-22T08:41:06.733Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice job Tony. I alter your replaced so it loads 1...</title><content type='html'>Nice job Tony. I alter your replaced so it loads 1000 random notes on startup and it does it in a couple of seconds.&lt;br /&gt;&lt;br /&gt;Did you considered using standard ItemControl with Canvas specified as ItemPanel template?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5383803334406703789/comments/default/2259837752595574291'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5383803334406703789/comments/default/2259837752595574291'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/prism-mvvm-and-silverlight-finished.html?showComment=1298364066733#c2259837752595574291' title=''/><author><name>Ben</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/02/prism-mvvm-and-silverlight-finished.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5383803334406703789' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5383803334406703789' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-877666725'/><gd:extendedProperty name='blogger.displayTime' value='22 February 2011 08:41'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5406495424209907496</id><published>2011-02-22T09:19:51.042Z</published><updated>2011-02-22T09:19:51.042Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Ben,

Thanks, and originally I did go down that...</title><content type='html'>Hi Ben,&lt;br /&gt;&lt;br /&gt;Thanks, and originally I did go down that route, but binding to canvas.X and canvas.Y was a little problematic as the note itself gets wrapped in another control and it is this that needs to bind the offset. I did find two ways of doing this however in the end - using transforms and another that escapes my memory right now.&lt;br /&gt;&lt;br /&gt;However, I&amp;#39;ve started to take this down a different path now in a separate branch in the source. This alternate approach uses controls and will use an ItemControl.......&lt;br /&gt;&lt;br /&gt;Cheers&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5383803334406703789/comments/default/5406495424209907496'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5383803334406703789/comments/default/5406495424209907496'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/prism-mvvm-and-silverlight-finished.html?showComment=1298366391042#c5406495424209907496' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/02/prism-mvvm-and-silverlight-finished.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5383803334406703789' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5383803334406703789' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='22 February 2011 09:19'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6899018490536766327</id><published>2011-02-23T10:20:02.319Z</published><updated>2011-02-23T10:20:02.319Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I have adhere it using ItemContainerStyle http://s...</title><content type='html'>I have adhere it using ItemContainerStyle http://stackoverflow.com/questions/2383858/how-to-use-canvas-as-the-itemspanel-for-an-itemscontrol-in-silverlight-3/5007653#5007653&lt;br /&gt;&lt;br /&gt;But I suspect performance penalty using ItemControl - It calls a lot of layout requests that eat significant time having multiple controls involved. I am considering to follow your way now.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5383803334406703789/comments/default/6899018490536766327'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5383803334406703789/comments/default/6899018490536766327'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/prism-mvvm-and-silverlight-finished.html?showComment=1298456402319#c6899018490536766327' title=''/><author><name>Ben</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/02/prism-mvvm-and-silverlight-finished.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5383803334406703789' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5383803334406703789' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-877666725'/><gd:extendedProperty name='blogger.displayTime' value='23 February 2011 10:20'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3650545807492892435</id><published>2011-04-21T15:40:41.042+01:00</published><updated>2011-04-21T15:40:41.042+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony, 

I&amp;#39;ve used this mapping in a slightl...</title><content type='html'>Hi Tony, &lt;br /&gt;&lt;br /&gt;I&amp;#39;ve used this mapping in a slightly different context and it gave me an UnknownPropertyException - maybe something to do with UserMap&amp;#39;s &amp;#39;HasManyToMany&amp;#39; mapping using both Reveal.Property and AsReadOnlyPropertyThroughCamelCaseField for the _roles collection?  (i.e. expecting it to be a field AND and property)&lt;br /&gt;&lt;br /&gt;Nice blog though and the cascade settings helped me out :-)&lt;br /&gt;&lt;br /&gt;Cheers</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/1612961301664478375/comments/default/3650545807492892435'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/1612961301664478375/comments/default/3650545807492892435'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/07/nhibernate-nn-relationships.html?showComment=1303396841042#c3650545807492892435' title=''/><author><name>Dunc</name><uri>http://www.blogger.com/profile/05292068784700232747</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/07/nhibernate-nn-relationships.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-1612961301664478375' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/1612961301664478375' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1718476668'/><gd:extendedProperty name='blogger.displayTime' value='21 April 2011 15:40'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4313378964014600521</id><published>2011-05-03T16:21:55.335+01:00</published><updated>2011-05-03T16:21:55.335+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>gr8 this has really helpd me</title><content type='html'>gr8 this has really helpd me</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6190875327942204590/comments/default/4313378964014600521'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6190875327942204590/comments/default/4313378964014600521'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-agile-in-real-world-consulting-and.html?showComment=1304436115335#c4313378964014600521' title=''/><author><name>kokila</name><uri>http://www.blogger.com/profile/16998123652226871908</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/02/sdlc-agile-in-real-world-consulting-and.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6190875327942204590' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6190875327942204590' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1329145052'/><gd:extendedProperty name='blogger.displayTime' value='3 May 2011 16:21'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-921313673176442969</id><published>2011-05-03T17:45:02.795+01:00</published><updated>2011-05-03T17:45:02.795+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Glad it was useful.</title><content type='html'>Glad it was useful.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6190875327942204590/comments/default/921313673176442969'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6190875327942204590/comments/default/921313673176442969'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-agile-in-real-world-consulting-and.html?showComment=1304441102795#c921313673176442969' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/02/sdlc-agile-in-real-world-consulting-and.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6190875327942204590' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6190875327942204590' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='3 May 2011 17:45'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7011999325849492235</id><published>2011-05-05T09:03:43.827+01:00</published><updated>2011-05-05T09:03:43.827+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Ah, life on the road.  You&amp;#39;re not turning into...</title><content type='html'>Ah, life on the road.  You&amp;#39;re not turning into Alan Partridge just like me are you?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6689784066969208064/comments/default/7011999325849492235'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6689784066969208064/comments/default/7011999325849492235'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/03/how-to-annoy-paying-wi-fi-access-users.html?showComment=1304582623827#c7011999325849492235' title=''/><author><name>Tim</name><uri>http://www.leighmail.co.uk</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/03/how-to-annoy-paying-wi-fi-access-users.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6689784066969208064' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6689784066969208064' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1576266721'/><gd:extendedProperty name='blogger.displayTime' value='5 May 2011 09:03'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7232762298204854702</id><published>2011-05-05T09:22:42.267+01:00</published><updated>2011-05-05T09:22:42.267+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Ahhhhaaaa. Just a little bit ;) certainly feel lik...</title><content type='html'>Ahhhhaaaa. Just a little bit ;) certainly feel like I live in these hotels.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6689784066969208064/comments/default/7232762298204854702'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6689784066969208064/comments/default/7232762298204854702'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/03/how-to-annoy-paying-wi-fi-access-users.html?showComment=1304583762267#c7232762298204854702' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/03/how-to-annoy-paying-wi-fi-access-users.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6689784066969208064' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6689784066969208064' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='5 May 2011 09:22'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8531133463742510417</id><published>2011-05-17T04:47:06.743+01:00</published><updated>2011-05-17T04:47:06.743+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I think you&amp;#39;ll want to check out DateTimeShape...</title><content type='html'>I think you&amp;#39;ll want to check out DateTimeShapes in Orchard.Core.Shapes. You should be able to Display(New.DateTimeRelative(dateTimeUtc: someDate))</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/8531133463742510417'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/8531133463742510417'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1305604026743#c8531133463742510417' title=''/><author><name>Bertrand Le Roy</name><uri>http://bertrand.le.roy.name/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1747056789'/><gd:extendedProperty name='blogger.displayTime' value='17 May 2011 04:47'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2305907374959920507</id><published>2011-05-17T05:16:52.422+01:00</published><updated>2011-05-17T05:16:52.422+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for posting this series. I&amp;#39;m about to b...</title><content type='html'>Thanks for posting this series. I&amp;#39;m about to build a site for a friend (and also chose Orchard as it looks like it has the makings of a great CMS and I&amp;#39;m familiar with MVC3/Razor) however I&amp;#39;ve found the Orchard Doc&amp;#39;s don&amp;#39;t really go into detail about how a developer should build sites. What projects to create, etc. I&amp;#39;m sure I would have worked it out but this series is perfectly timed.&lt;br /&gt;&lt;br /&gt;Thank You</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/2305907374959920507'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/2305907374959920507'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1305605812422#c2305907374959920507' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1110835272'/><gd:extendedProperty name='blogger.displayTime' value='17 May 2011 05:16'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6066510195267547120</id><published>2011-05-17T10:47:47.351+01:00</published><updated>2011-05-17T10:47:47.351+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@Bertrand, thanks will check it out.

@Anonymous, ...</title><content type='html'>@Bertrand, thanks will check it out.&lt;br /&gt;&lt;br /&gt;@Anonymous, thanks for the kind words, hoping to have more in the series soon - maybe another post today on shape alternates and tweaking layout....</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/6066510195267547120'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/6066510195267547120'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1305625667351#c6066510195267547120' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='17 May 2011 10:47'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1624950902426243270</id><published>2011-05-17T23:47:26.859+01:00</published><updated>2011-05-17T23:47:26.859+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Please send the beer to Sébastien Ros, 1 Microsoft...</title><content type='html'>Please send the beer to Sébastien Ros, 1 Microsoft Way, Redmond WA 98052 :)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/1624950902426243270'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/1624950902426243270'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1305672446859#c1624950902426243270' title=''/><author><name>Bertrand Le Roy</name><uri>http://bertrand.le.roy.name/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1747056789'/><gd:extendedProperty name='blogger.displayTime' value='17 May 2011 23:47'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6226989260103815173</id><published>2011-05-17T23:49:17.353+01:00</published><updated>2011-05-17T23:49:17.353+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>your a bloody legend. thanks</title><content type='html'>your a bloody legend. thanks</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/6226989260103815173'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/6226989260103815173'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1305672557353#c6226989260103815173' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1152827649'/><gd:extendedProperty name='blogger.displayTime' value='17 May 2011 23:49'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1690182928366834063</id><published>2011-05-18T17:05:14.441+01:00</published><updated>2011-05-18T17:05:14.441+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>very nice!
i&amp;#39;ve got a question: i&amp;#39;m lookin...</title><content type='html'>very nice!&lt;br /&gt;i&amp;#39;ve got a question: i&amp;#39;m looking for a calenar module, where i can add appointments in the backend to a site, and there it is displayed as a list. similar to this wordpress plugin: http://wordpress.org/extend/plugins/the-events-calendar/screenshots/&lt;br /&gt;&lt;br /&gt;do you know something i could use?&lt;br /&gt;i wanted to try code it myself, but i just don&amp;#39;t have the time and the knowledge about programming orchard plugins&lt;br /&gt;thanks</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/1690182928366834063'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/1690182928366834063'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1305734714441#c1690182928366834063' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-546149951'/><gd:extendedProperty name='blogger.displayTime' value='18 May 2011 17:05'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5247146220763044450</id><published>2011-05-18T21:37:08.834+01:00</published><updated>2011-05-18T21:37:08.834+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@Anonymous number 1 - thanks ;)

@Anonymous number...</title><content type='html'>@Anonymous number 1 - thanks ;)&lt;br /&gt;&lt;br /&gt;@Anonymous number 2 - I&amp;#39;ve not had cause to look for one like this myself yet, but having looked at the wordpress one you&amp;#39;re trying to create it shouldn&amp;#39;t be too difficult to create. &lt;br /&gt;&lt;br /&gt;Have you had a look on the orchard gallery? http://orchardproject.net/gallery/ a quick search yielded a couple of options, but not used either so not sure they will meet your requirements.&lt;br /&gt;&lt;br /&gt;HTH&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/5247146220763044450'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/5247146220763044450'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1305751028834#c5247146220763044450' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='18 May 2011 21:37'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5365513349406804838</id><published>2011-05-19T00:35:53.707+01:00</published><updated>2011-05-19T00:35:53.707+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hello,

Im trying to follow along with your tutori...</title><content type='html'>Hello,&lt;br /&gt;&lt;br /&gt;Im trying to follow along with your tutorial and run into a problem when trying to add a layout page. For whatever reason Razor pages are not an option when trying to add a new file to the create theme project. any idea why?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/5365513349406804838'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/5365513349406804838'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1305761753707#c5365513349406804838' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-813361057'/><gd:extendedProperty name='blogger.displayTime' value='19 May 2011 00:35'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4203853557173399573</id><published>2011-05-19T05:11:12.798+01:00</published><updated>2011-05-19T05:11:12.798+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This is a great series - well written and easy to ...</title><content type='html'>This is a great series - well written and easy to follow along. I&amp;#39;m just starting to take a look at Orchard and this was a good intro for me to get familiar with building some of the components.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/4203853557173399573'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/4203853557173399573'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1305778272798#c4203853557173399573' title=''/><author><name>Ryan Tofteland</name><uri>http://www.blogger.com/profile/11611333431089011261</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://1.bp.blogspot.com/-qmKAFdAdnMs/TdSYSZWBG9I/AAAAAAAAAOU/5dEfcalPFx0/s220/profile.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1114518519'/><gd:extendedProperty name='blogger.displayTime' value='19 May 2011 05:11'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1125494623300553791</id><published>2011-05-19T20:15:21.381+01:00</published><updated>2011-05-19T20:15:21.381+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You should be able to just add new item -&amp;gt; and ...</title><content type='html'>You should be able to just add new item -&amp;gt; and select text file/html/aspx etc and just give it an extension of .cshtml, then empty any contents and write your razor code.&lt;br /&gt;&lt;br /&gt;Alternatively use the tooling?, try right click, add view and tell it to create a razor page. &lt;br /&gt;&lt;br /&gt;But importantly, you don&amp;#39;t need to use the tooling to create a razor file, just create a file with a .cshtml extension.....&lt;br /&gt;&lt;br /&gt;HTH</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/1125494623300553791'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/1125494623300553791'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1305832521381#c1125494623300553791' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='19 May 2011 20:15'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8960643954258474448</id><published>2011-05-21T18:40:57.206+01:00</published><updated>2011-05-21T18:40:57.206+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Gracias amigo!
The entire series has been very hel...</title><content type='html'>Gracias amigo!&lt;br /&gt;The entire series has been very helpful.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/8960643954258474448'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/8960643954258474448'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1305999657206#c8960643954258474448' title=''/><author><name>santiagoit</name><uri>http://santiagoit.myopenid.com/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1299237136'/><gd:extendedProperty name='blogger.displayTime' value='21 May 2011 18:40'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3731834056115794556</id><published>2011-05-21T23:01:58.086+01:00</published><updated>2011-05-21T23:01:58.086+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

Can you extend this example to show how ...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;Can you extend this example to show how asynchronous controller support can be added to the twitter widget?.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/3731834056115794556'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/3731834056115794556'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1306015318086#c3731834056115794556' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1920192888'/><gd:extendedProperty name='blogger.displayTime' value='21 May 2011 23:01'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7011031415630272960</id><published>2011-05-21T23:28:32.130+01:00</published><updated>2011-05-21T23:28:32.130+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I meant to say asynchronous support to the twitter...</title><content type='html'>I meant to say asynchronous support to the twitter calling service.&lt;br /&gt;&lt;br /&gt;Our particular use case is to build many widgets like the twitter webservice for different backends. (Consider News, Edgar Filings etc). We would like to put all these widgets in a single page. If orchard were to function synchronously (where each widget calls its respective backend), it would be quite inefficient. Would be very interested to see if the calls can be made asynchronous, so all backend calls can be kicked off as simultaneously as possible.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/7011031415630272960'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/7011031415630272960'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1306016912130#c7011031415630272960' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1920192888'/><gd:extendedProperty name='blogger.displayTime' value='21 May 2011 23:28'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8156695477391611312</id><published>2011-05-22T09:35:17.146+01:00</published><updated>2011-05-22T09:35:17.146+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi,

Yes, I will be covering that topic in a later...</title><content type='html'>Hi,&lt;br /&gt;&lt;br /&gt;Yes, I will be covering that topic in a later post, specifically using Ajax to render widgets, which will likely cover what you need...&lt;br /&gt;&lt;br /&gt;Cheers,&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/8156695477391611312'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/8156695477391611312'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1306053317146#c8156695477391611312' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='22 May 2011 09:35'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6511275124302375416</id><published>2011-05-22T13:32:52.893+01:00</published><updated>2011-05-22T13:32:52.893+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks Tony. It would be very interesting if you c...</title><content type='html'>Thanks Tony. It would be very interesting if you could cover 2 technical solutions. &lt;br /&gt;&lt;br /&gt;1). How to do this asynchronously on the webserver? (For example, http://www.aaronstannard.com/post/2011/01/06/asynchonrous-controllers-ASPNET-mvc.aspx)&lt;br /&gt;&lt;br /&gt;2). How to do this using AJAX?&lt;br /&gt;&lt;br /&gt;-venkat.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/6511275124302375416'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/6511275124302375416'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1306067572893#c6511275124302375416' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-295197286'/><gd:extendedProperty name='blogger.displayTime' value='22 May 2011 13:32'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6270557931814698446</id><published>2011-06-01T08:57:19.902+01:00</published><updated>2011-06-01T08:57:19.902+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you so much for the effort in this series. T...</title><content type='html'>Thank you so much for the effort in this series. There are so many concept details I&amp;#39;ve been waiting for to read about and you cover a lot of those.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/6270557931814698446'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/6270557931814698446'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1306915039902#c6270557931814698446' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1142511797'/><gd:extendedProperty name='blogger.displayTime' value='1 June 2011 08:57'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8390457860597735663</id><published>2011-06-01T12:01:51.667+01:00</published><updated>2011-06-01T12:01:51.667+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for the feedback, glad it&amp;#39;s of use.</title><content type='html'>Thanks for the feedback, glad it&amp;#39;s of use.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8390457860597735663'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8390457860597735663'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1306926111667#c8390457860597735663' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='1 June 2011 12:01'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5353781067313224347</id><published>2011-06-04T18:45:11.514+01:00</published><updated>2011-06-04T18:45:11.514+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>It&amp;#39;s an amazing serie! I&amp;#39;m stepping up wit...</title><content type='html'>It&amp;#39;s an amazing serie! I&amp;#39;m stepping up with you and read any external links. Thanks for this amazing article :)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/5353781067313224347'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/5353781067313224347'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1307209511514#c5353781067313224347' title=''/><author><name>طراحی سایت</name><uri>http://www.mahni.ir</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-392102094'/><gd:extendedProperty name='blogger.displayTime' value='4 June 2011 18:45'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4864990669101437818</id><published>2011-06-08T22:10:42.390+01:00</published><updated>2011-06-08T22:10:42.390+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You might want to use an overload of split that ta...</title><content type='html'>You might want to use an overload of split that takes options, and tell it to remove empty entries. Some use of extension methods such as Select and Distinct should let you eliminate a good deal of that tags code.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/4864990669101437818'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/4864990669101437818'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1307567442390#c4864990669101437818' title=''/><author><name>Bertrand Le Roy</name><uri>http://bertrand.le.roy.name/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1747056789'/><gd:extendedProperty name='blogger.displayTime' value='8 June 2011 22:10'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4587369243304686272</id><published>2011-06-09T19:32:33.694+01:00</published><updated>2011-06-09T19:32:33.694+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>For info, as Bertrand suggested, you can replace l...</title><content type='html'>For info, as Bertrand suggested, you can replace lines 3-16 in the driver code as follows, which is a bit more succinct;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;   List tags = part.TagList&lt;br /&gt;    .Split(new[] { &amp;#39;,&amp;#39; }, StringSplitOptions.RemoveEmptyEntries)&lt;br /&gt;    .Select(s =&amp;gt; s.Trim())&lt;br /&gt;    .Where(s =&amp;gt; !String.IsNullOrEmpty(s))&lt;br /&gt;    .Distinct()&lt;br /&gt;    .ToList();</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/4587369243304686272'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/4587369243304686272'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1307644353694#c4587369243304686272' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='9 June 2011 19:32'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7301133307327254137</id><published>2011-06-10T04:21:38.766+01:00</published><updated>2011-06-10T04:21:38.766+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>change Model.TriPanelLeft
to Model.TripelFirst

ch...</title><content type='html'>change Model.TriPanelLeft&lt;br /&gt;to Model.TripelFirst&lt;br /&gt;&lt;br /&gt;change Model.TriPanelCenter&lt;br /&gt;to Model.TripelSecond&lt;br /&gt;&lt;br /&gt;change Model.TriPanelRight&lt;br /&gt;to Model.TripelThird</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/7301133307327254137'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/7301133307327254137'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1307676098766#c7301133307327254137' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-303227760'/><gd:extendedProperty name='blogger.displayTime' value='10 June 2011 04:21'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-9028003801218548778</id><published>2011-06-10T09:36:38.802+01:00</published><updated>2011-06-10T09:36:38.802+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Why would I want to do that? Feel free to name you...</title><content type='html'>Why would I want to do that? Feel free to name your zones whatever you like. :)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/9028003801218548778'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/9028003801218548778'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1307694998802#c9028003801218548778' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='10 June 2011 09:36'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5927066750047267056</id><published>2011-06-10T19:48:03.478+01:00</published><updated>2011-06-10T19:48:03.478+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This is fantastic. Very nice work. Does almost exa...</title><content type='html'>This is fantastic. Very nice work. Does almost exactly what I was looking to do.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/5927066750047267056'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/5927066750047267056'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1307731683478#c5927066750047267056' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-56478235'/><gd:extendedProperty name='blogger.displayTime' value='10 June 2011 19:48'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6463499990137129833</id><published>2011-06-14T11:32:45.290+01:00</published><updated>2011-06-14T11:32:45.290+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,
I am reading and watching videos on orcha...</title><content type='html'>Hi Tony,&lt;br /&gt;I am reading and watching videos on orchard for last couple of days. The work you are doing is really great. Building a real site makes big difference than showing few basic steps. Its really great help. &lt;br /&gt;&lt;br /&gt;I am planing to build one site using orchard. It would be more like a social networking site  where people would be able to share their creative work in the form of poems, jokes, stories, cartoon etc. I just want to  know if it would be easy to build it using orchard. Site will have some social networking type features also, like friends, messages, photos, videos. &lt;br /&gt;&lt;br /&gt;Your help will be appreciated. &lt;br /&gt;&lt;br /&gt;Regards&lt;br /&gt;Parminder</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/6463499990137129833'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/6463499990137129833'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1308047565290#c6463499990137129833' title=''/><author><name>parminder</name><uri>http://www.blogger.com/profile/02371183656305148109</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1844772969'/><gd:extendedProperty name='blogger.displayTime' value='14 June 2011 11:32'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6113071461442384788</id><published>2011-06-17T13:12:39.367+01:00</published><updated>2011-06-17T13:12:39.367+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hey thanks so much, Really helpful stuff here.Foll...</title><content type='html'>Hey thanks so much, Really helpful stuff here.Following your series.&lt;br /&gt;&lt;br /&gt;Quick question, in your placement_info when you say Content:10 it means put the content at position 10. But what IS position 10? &lt;br /&gt;&lt;br /&gt;If there were 10 different content items there ours would show last?&lt;br /&gt;&lt;br /&gt;Thanks so much.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/6113071461442384788'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/6113071461442384788'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1308312759367#c6113071461442384788' title=''/><author><name>giddy</name><uri>http://www.blogger.com/profile/15207829304660543761</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-827808308'/><gd:extendedProperty name='blogger.displayTime' value='17 June 2011 13:12'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-350593447974883558</id><published>2011-06-21T07:07:29.193+01:00</published><updated>2011-06-21T07:07:29.193+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You would do that because later you might change y...</title><content type='html'>You would do that because later you might change your mind about the CSS and it may no longer make sense for them to be &amp;quot;left&amp;quot;, &amp;quot;center&amp;quot; and &amp;quot;right&amp;quot;; for example you might stack them vertically in a different layout.&lt;br /&gt;See CSS Zen Garden for more...&lt;br /&gt;Nice start though. I look forward to reading the rest :)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/350593447974883558'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/350593447974883558'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1308636449193#c350593447974883558' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-360177911'/><gd:extendedProperty name='blogger.displayTime' value='21 June 2011 07:07'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6158593845457549639</id><published>2011-06-24T14:39:31.856+01:00</published><updated>2011-06-24T14:39:31.856+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice! I followed your Orchard series, but i did no...</title><content type='html'>Nice! I followed your Orchard series, but i did not found info about doing a simple insert into the database in the way that the comment module works! i mean, a simple textbox and an input, you press it, and then save it&amp;#39;s value into the database! Any help here?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/6158593845457549639'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/6158593845457549639'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1308922771856#c6158593845457549639' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-652756828'/><gd:extendedProperty name='blogger.displayTime' value='24 June 2011 14:39'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8219390014132553977</id><published>2011-06-24T21:31:34.294+01:00</published><updated>2011-06-24T21:31:34.294+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>The positions are for the local zone, so if you ha...</title><content type='html'>The positions are for the local zone, so if you have content part 1 and content part 2 and you give them position content:1 and content:2, then part 2 will appear after part 1.&lt;br /&gt;&lt;br /&gt;Hope that helps.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8219390014132553977'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8219390014132553977'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1308947494294#c8219390014132553977' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='24 June 2011 21:31'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8018065440959465558</id><published>2011-06-24T21:32:48.619+01:00</published><updated>2011-06-24T21:32:48.619+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@anonymous - I&amp;#39;ll take a look if I can build s...</title><content type='html'>@anonymous - I&amp;#39;ll take a look if I can build something like that into a post later. In the interim, you could always look at the source to the comments module :)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8018065440959465558'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8018065440959465558'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1308947568619#c8018065440959465558' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='24 June 2011 21:32'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1971116098100710530</id><published>2011-06-27T14:30:59.042+01:00</published><updated>2011-06-27T14:30:59.042+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Great work tony. 

thanks
Parminder</title><content type='html'>Great work tony. &lt;br /&gt;&lt;br /&gt;thanks&lt;br /&gt;Parminder</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/1971116098100710530'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/1971116098100710530'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1309181459042#c1971116098100710530' title=''/><author><name>parminder</name><uri>http://www.blogger.com/profile/02371183656305148109</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1844772969'/><gd:extendedProperty name='blogger.displayTime' value='27 June 2011 14:30'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1916165504169894929</id><published>2011-06-28T00:50:30.376+01:00</published><updated>2011-06-28T00:50:30.376+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Very nice article. Good to see my Image Gallery mo...</title><content type='html'>Very nice article. Good to see my Image Gallery module in good use :D</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/1916165504169894929'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/1916165504169894929'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1309218630376#c1916165504169894929' title=''/><author><name>Gabriel Mello</name><uri>http://www.blogger.com/profile/00737215437638176649</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1164953139'/><gd:extendedProperty name='blogger.displayTime' value='28 June 2011 00:50'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-937839556868354266</id><published>2011-06-29T07:02:27.729+01:00</published><updated>2011-06-29T07:02:27.729+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>If you wrap the widget titles in h1 elements and t...</title><content type='html'>If you wrap the widget titles in h1 elements and the page title is also in a h1, aren&amp;#39;t you going to end up with a bunch of h1 tags on the same page? Shouldn&amp;#39;t there be a set of widget wrappers to determine which gets h2, h3, etc..? &lt;br /&gt;I assumed the widget titles would be set as h2 since it&amp;#39;s &amp;quot;acceptable&amp;quot; to have multiple sub headings not h1s.&lt;br /&gt;Sweet tutorial though! Thanks!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/937839556868354266'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/937839556868354266'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1309327347729#c937839556868354266' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1222549420'/><gd:extendedProperty name='blogger.displayTime' value='29 June 2011 07:02'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7611886413075507929</id><published>2011-06-29T08:12:18.553+01:00</published><updated>2011-06-29T08:12:18.553+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Super Sweet Tuts! I&amp;#39;m a total newb to C#, MVC ...</title><content type='html'>Super Sweet Tuts! I&amp;#39;m a total newb to C#, MVC and orchard and I dig how easy you make it to get into a truly real world scenario!&lt;br /&gt; &lt;br /&gt;How would we grab the urls and display them as links for hash tags and shortened url links within tweets?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/7611886413075507929'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/7611886413075507929'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1309331538553#c7611886413075507929' title=''/><author><name>nxtjv</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1222549420'/><gd:extendedProperty name='blogger.displayTime' value='29 June 2011 08:12'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3017069974584878886</id><published>2011-06-30T03:41:09.493+01:00</published><updated>2011-06-30T03:41:09.493+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>So far, this series is a lifesaver for me. I rarel...</title><content type='html'>So far, this series is a lifesaver for me. I rarely comment, but want you to know how helpful this is.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/3017069974584878886'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/3017069974584878886'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1309401669493#c3017069974584878886' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1076395690'/><gd:extendedProperty name='blogger.displayTime' value='30 June 2011 03:41'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4811357899389482759</id><published>2011-06-30T04:52:54.415+01:00</published><updated>2011-06-30T04:52:54.415+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>These articles and the accompanying code are filli...</title><content type='html'>These articles and the accompanying code are filling the gaps I&amp;#39;ve had after reading the documentation (which is quite good, I&amp;#39;m a little slow :P ). Thanks again!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/4811357899389482759'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/4811357899389482759'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1309405974415#c4811357899389482759' title=''/><author><name>Shag</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1076395690'/><gd:extendedProperty name='blogger.displayTime' value='30 June 2011 04:52'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2922854956838379950</id><published>2011-06-30T11:32:54.838+01:00</published><updated>2011-06-30T11:32:54.838+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank You man!</title><content type='html'>Thank You man!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5780158139546201946/comments/default/2922854956838379950'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5780158139546201946/comments/default/2922854956838379950'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/06/overriding-style-of-jquery-ui.html?showComment=1309429974838#c2922854956838379950' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/06/overriding-style-of-jquery-ui.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5780158139546201946' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5780158139546201946' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1057823361'/><gd:extendedProperty name='blogger.displayTime' value='30 June 2011 11:32'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1881465567007142474</id><published>2011-06-30T22:50:16.878+01:00</published><updated>2011-06-30T22:50:16.878+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Just starting with Orchard and working through you...</title><content type='html'>Just starting with Orchard and working through your tutorials...absolutely smashing stuff! Can&amp;#39;t thank you enough for all your effort that has gone into making the series. Keep up the good work!&lt;br /&gt;&lt;br /&gt;Looking forward to future posts...</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/1881465567007142474'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/1881465567007142474'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1309470616878#c1881465567007142474' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-995443853'/><gd:extendedProperty name='blogger.displayTime' value='30 June 2011 22:50'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4142413330627649306</id><published>2011-07-01T02:49:11.698+01:00</published><updated>2011-07-01T02:49:11.698+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you for the idea. Now I am struggling with t...</title><content type='html'>Thank you for the idea. Now I am struggling with the issue how to suppress widget Heder Title if the widget content is empty? Do you have some hints? They are in different shape templates...</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/4142413330627649306'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/4142413330627649306'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1309484951698#c4142413330627649306' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-43011265'/><gd:extendedProperty name='blogger.displayTime' value='1 July 2011 02:49'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6988571987434310913</id><published>2011-07-01T12:27:53.276+01:00</published><updated>2011-07-01T12:27:53.276+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Howdy from Oxford. I&amp;#39;ve been following your se...</title><content type='html'>Howdy from Oxford. I&amp;#39;ve been following your series and it is absolutely fantastic. I&amp;#39;m a mod on http://reddit.com/r/orchardcms and would like to add your tutorials to our sidebar - what would be the best URL to use? I noticed you have an Orchard tag but not one for this specific series of posts.&lt;br /&gt;&lt;br /&gt;Keep up the good work!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/6988571987434310913'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/6988571987434310913'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1309519673276#c6988571987434310913' title=''/><author><name>perspective</name><uri>http://www.blogger.com/profile/06023628156218217447</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1460609608'/><gd:extendedProperty name='blogger.displayTime' value='1 July 2011 12:27'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1874755283548326771</id><published>2011-07-02T06:26:07.295+01:00</published><updated>2011-07-02T06:26:07.295+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I&amp;#39;m just a newb asking dumb questions... i did...</title><content type='html'>I&amp;#39;m just a newb asking dumb questions... i didn&amp;#39;t know you could have multiple header elementss with their own h1 tags..  found my answer here: http://html5doctor.com/the-header-element/&lt;br /&gt;&lt;br /&gt;pretty close to launching my first orchard site thanks to your posts! So thanks again!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/1874755283548326771'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/1874755283548326771'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1309584367295#c1874755283548326771' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1222549420'/><gd:extendedProperty name='blogger.displayTime' value='2 July 2011 06:26'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2127540721984146766</id><published>2011-07-03T19:44:45.988+01:00</published><updated>2011-07-03T19:44:45.988+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@Perspective,

Thanks man, I&amp;#39;ll add a tag to a...</title><content type='html'>@Perspective,&lt;br /&gt;&lt;br /&gt;Thanks man, I&amp;#39;ll add a tag to all the series articles - the tag will be RealWorldOrchard :)&lt;br /&gt;&lt;br /&gt;Cheers&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/2127540721984146766'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/2127540721984146766'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1309718685988#c2127540721984146766' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='3 July 2011 19:44'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5956338646811967846</id><published>2011-07-18T16:01:33.767+01:00</published><updated>2011-07-18T16:01:33.767+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Champing at the bit for more!!! This is my favorit...</title><content type='html'>Champing at the bit for more!!! This is my favorite series on Orchard!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/5956338646811967846'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/5956338646811967846'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1311001293767#c5956338646811967846' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-661768660'/><gd:extendedProperty name='blogger.displayTime' value='18 July 2011 16:01'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6628864214299531785</id><published>2011-07-27T13:58:46.964+01:00</published><updated>2011-07-27T13:58:46.964+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This is great, at last I can grasp where we are go...</title><content type='html'>This is great, at last I can grasp where we are going!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/6628864214299531785'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/6628864214299531785'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1311771526964#c6628864214299531785' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1580776157'/><gd:extendedProperty name='blogger.displayTime' value='27 July 2011 13:58'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6260683311737608785</id><published>2011-07-27T19:54:05.613+01:00</published><updated>2011-07-27T19:54:05.613+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I have read and reread this - it works, I am start...</title><content type='html'>I have read and reread this - it works, I am starting to understand ...&lt;br /&gt;absolutely brilliant !</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/6260683311737608785'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/6260683311737608785'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1311792845613#c6260683311737608785' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1580776157'/><gd:extendedProperty name='blogger.displayTime' value='27 July 2011 19:54'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5122504143800229843</id><published>2011-07-29T13:35:32.304+01:00</published><updated>2011-07-29T13:35:32.304+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I am echoing everyones thanks here - brilliant</title><content type='html'>I am echoing everyones thanks here - brilliant</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/5122504143800229843'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/5122504143800229843'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1311942932304#c5122504143800229843' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1580776157'/><gd:extendedProperty name='blogger.displayTime' value='29 July 2011 13:35'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4671312174620130462</id><published>2011-08-11T21:30:35.997+01:00</published><updated>2011-08-11T23:13:49.730+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>That worked for me. Great article.</title><content type='html'>That worked for me. Great article.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2303266896442767986/comments/default/4671312174620130462'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2303266896442767986/comments/default/4671312174620130462'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2008/08/exposing-new-properties-for-control_15.html?showComment=1313094635997#c4671312174620130462' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2008/08/exposing-new-properties-for-control_15.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2303266896442767986' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2303266896442767986' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1584586555'/><gd:extendedProperty name='blogger.displayTime' value='11 August 2011 21:30'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2078974941385189953</id><published>2011-08-12T06:53:25.406+01:00</published><updated>2011-08-12T07:38:53.545+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I&amp;#39;m not finding the code where you said it is:...</title><content type='html'>I&amp;#39;m not finding the code where you said it is: http://orchardsamplesite.codeplex.com/ ... just circular URL references back to this page. Might it be somewhere else? Thanks</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/2078974941385189953'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5035218310814463958/comments/default/2078974941385189953'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html?showComment=1313128405406#c2078974941385189953' title=''/><author><name>Frank</name><uri>https://me.yahoo.com/a/n7WjYwMSteTBArgxrI5m3ssP9FQyFzZJNg--</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-5-caching.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5035218310814463958' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5035218310814463958' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-870803008'/><gd:extendedProperty name='blogger.displayTime' value='12 August 2011 06:53'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3833107808755933194</id><published>2011-08-26T12:43:40.115+01:00</published><updated>2011-08-26T12:44:36.430+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Lovely post, very helpful! I&amp;#39;m running in to o...</title><content type='html'>Lovely post, very helpful! I&amp;#39;m running in to one problem:&lt;br /&gt;in TwitterWidgetRecordHandler, line 16&lt;br /&gt;&lt;br /&gt;Filters.Add(StorageFilter.For(repository));&lt;br /&gt;&lt;br /&gt;I get this error: The type &amp;#39;SampleSiteModule.Models.TwitterWidgetRecord&amp;#39; cannot be used as type parameter &amp;#39;TRecord&amp;#39; in the generic type or method &amp;#39;Orchard.ContentManagement.Handlers.StorageFilter.For(Orchard.Data.IRepository)&amp;#39;. There is no implicit reference conversion from &amp;#39;SampleSiteModule.Models.TwitterWidgetRecord&amp;#39; to &amp;#39;Orchard.ContentManagement.Records.ContentPartRecord&amp;#39;.&lt;br /&gt;&lt;br /&gt;I&amp;#39;m running Orchard 1.2.41</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/3833107808755933194'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/3833107808755933194'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1314359020115#c3833107808755933194' title=''/><author><name>jenswaern</name><uri>http://www.blogger.com/profile/07324155221184850531</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1385550144'/><gd:extendedProperty name='blogger.displayTime' value='26 August 2011 12:43'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8059797316493258518</id><published>2011-08-26T12:49:04.401+01:00</published><updated>2011-09-20T21:26:00.878+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Disregard my last comment please, I just found the...</title><content type='html'>Disregard my last comment please, I just found the solution (forgot to inherit ContentPartRecord in the TwitterWidgetRecord class).</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/8059797316493258518'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/8059797316493258518'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1314359344401#c8059797316493258518' title=''/><author><name>jenswaern</name><uri>http://www.blogger.com/profile/07324155221184850531</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1385550144'/><gd:extendedProperty name='blogger.displayTime' value='26 August 2011 12:49'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5363176885838067231</id><published>2011-08-31T04:45:54.189+01:00</published><updated>2011-09-20T21:26:09.860+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Shouldn&amp;#39;t the second line of the script in par...</title><content type='html'>Shouldn&amp;#39;t the second line of the script in part C) read &amp;quot;detach vdisk&amp;quot;?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/7837532563436591307/comments/default/5363176885838067231'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/7837532563436591307/comments/default/5363176885838067231'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/09/attach-and-detach-vhd-files-from.html?showComment=1314762354189#c5363176885838067231' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/09/attach-and-detach-vhd-files-from.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-7837532563436591307' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/7837532563436591307' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-154806780'/><gd:extendedProperty name='blogger.displayTime' value='31 August 2011 04:45'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6272831385590198914</id><published>2011-09-20T15:48:19.127+01:00</published><updated>2011-09-20T21:24:51.907+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I&amp;#39;m about to kick off a personal project and w...</title><content type='html'>I&amp;#39;m about to kick off a personal project and was planning on using the latest version of Umbraco until I stumbled across your posts on Orchard (great work by the way).  Do you have any experience of Umbraco and would your preference still be to use Orchard?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/6272831385590198914'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/6272831385590198914'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1316530099127#c6272831385590198914' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1223089759'/><gd:extendedProperty name='blogger.displayTime' value='20 September 2011 15:48'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5645658480307206976</id><published>2011-09-20T21:27:50.350+01:00</published><updated>2011-09-20T21:27:50.350+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi,

Umbraco seems to be a good, solid cms also, b...</title><content type='html'>Hi,&lt;br /&gt;&lt;br /&gt;Umbraco seems to be a good, solid cms also, but my preference is still with Orchard - I like the composition model and the use of MVC in particular, so for me I&amp;#39;d go Orchard. I guess you need to make your own mind up though :)&lt;br /&gt;&lt;br /&gt;Cheers&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/5645658480307206976'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/5645658480307206976'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1316550470350#c5645658480307206976' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='20 September 2011 21:27'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-834740232500729810</id><published>2011-09-28T14:53:09.272+01:00</published><updated>2011-09-28T15:05:31.130+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thank you SO much.  I&amp;#39;m now 5 days into workin...</title><content type='html'>Thank you SO much.  I&amp;#39;m now 5 days into working with Orchard and you have tipped me the final piece I was missing in implementing zones in my theme!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/834740232500729810'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/834740232500729810'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1317217989272#c834740232500729810' title=''/><author><name>Teri - test site :</name><uri>http://twc.mycloudisawesome.net/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-604586321'/><gd:extendedProperty name='blogger.displayTime' value='28 September 2011 14:53'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7082795265377508813</id><published>2011-10-31T14:25:09.790Z</published><updated>2011-10-31T15:51:29.800Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Thanks for the article on the ITwitter Service/...</title><content type='html'>Hi Thanks for the article on the ITwitter Service/Widget. I am building a similar Module that Queries custom datatables, inside the Orchard Database, thgese tables are already populated with data. I want to follow the same path as you did with twitter, but instead of querying twitter, I just want to query existing custom databases using select statments and such. Any advice you can give me on how to accomplish this? I am new to MVC and nHibernate. I can&amp;#39;t figure out the data access side of things.&lt;br /&gt;Thanks&lt;br /&gt;Oceantrain</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/7082795265377508813'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/7082795265377508813'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1320071109790#c7082795265377508813' title=''/><author><name>Oceantrain</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-307890205'/><gd:extendedProperty name='blogger.displayTime' value='31 October 2011 14:25'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3900967603903655271</id><published>2011-11-03T14:16:45.324Z</published><updated>2012-04-19T08:36:05.353+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Firstly, great post!

Can this be modified to canc...</title><content type='html'>Firstly, great post!&lt;br /&gt;&lt;br /&gt;Can this be modified to cancel out booked dates from an sql database? If so, how would one do this.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5780158139546201946/comments/default/3900967603903655271'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5780158139546201946/comments/default/3900967603903655271'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/06/overriding-style-of-jquery-ui.html?showComment=1320329805324#c3900967603903655271' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/06/overriding-style-of-jquery-ui.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5780158139546201946' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5780158139546201946' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1420081497'/><gd:extendedProperty name='blogger.displayTime' value='3 November 2011 14:16'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6525086572480323001</id><published>2011-11-10T18:10:08.253Z</published><updated>2012-04-19T08:36:05.349+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>How can I sort tags in alphabetical order using or...</title><content type='html'>How can I sort tags in alphabetical order using order by</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/6525086572480323001'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/6525086572480323001'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1320948608253#c6525086572480323001' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1936791681'/><gd:extendedProperty name='blogger.displayTime' value='10 November 2011 18:10'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1892343469790150485</id><published>2011-12-10T13:00:42.615Z</published><updated>2011-12-10T13:52:58.144Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Your article helps me a lot too!
Thank you!
You ma...</title><content type='html'>Your article helps me a lot too!&lt;br /&gt;Thank you!&lt;br /&gt;You make the world better!)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/1892343469790150485'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/1892343469790150485'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1323522042615#c1892343469790150485' title=''/><author><name>giperon</name><uri>http://giperon.myopenid.com/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/openid16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-926138279'/><gd:extendedProperty name='blogger.displayTime' value='10 December 2011 13:00'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5257932282369466546</id><published>2011-12-23T07:35:30.142Z</published><updated>2011-12-23T08:35:29.556Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>wanting to again add my voice to the thank yous an...</title><content type='html'>wanting to again add my voice to the thank yous and perhaps stimulate your interest in continuing this great series??</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/5257932282369466546'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/5257932282369466546'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1324625730142#c5257932282369466546' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-973386610'/><gd:extendedProperty name='blogger.displayTime' value='23 December 2011 07:35'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8188178619937274570</id><published>2011-12-23T09:16:05.893Z</published><updated>2011-12-23T09:16:05.893Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Guys, apologies for not having more in the series ...</title><content type='html'>Guys, apologies for not having more in the series yet - hope to get more time again in 2012....</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8188178619937274570'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8188178619937274570'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1324631765893#c8188178619937274570' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='23 December 2011 09:16'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1036060205387038104</id><published>2012-03-07T17:38:43.073Z</published><updated>2012-03-07T18:32:17.728Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks Tony! helpful posts :)</title><content type='html'>Thanks Tony! helpful posts :)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/1036060205387038104'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/1036060205387038104'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1331141923073#c1036060205387038104' title=''/><author><name>Saeed Bidarang</name><uri>http://www.profile-digital.com</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1767434754'/><gd:extendedProperty name='blogger.displayTime' value='7 March 2012 17:38'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5887601388871742155</id><published>2012-03-15T14:34:49.702Z</published><updated>2012-03-15T15:44:07.036Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi, I enabled the feature but I can&amp;#39;t add it t...</title><content type='html'>Hi, I enabled the feature but I can&amp;#39;t add it to a zone as it doesn&amp;#39;t appear in the list...</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/5887601388871742155'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/5887601388871742155'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1331822089702#c5887601388871742155' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1148982248'/><gd:extendedProperty name='blogger.displayTime' value='15 March 2012 14:34'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-282067992926649205</id><published>2012-03-15T15:45:31.771Z</published><updated>2012-03-15T15:45:31.771Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Looks like you may have missed a step or two out -...</title><content type='html'>Looks like you may have missed a step or two out - if you give more details I might be able to help.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/282067992926649205'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/282067992926649205'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1331826331771#c282067992926649205' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/5887601388871742155'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='15 March 2012 15:45'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7156563035859089036</id><published>2012-03-16T17:23:41.395Z</published><updated>2012-03-16T18:11:22.406Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi, it seems to have fixed itself.  Would there be...</title><content type='html'>Hi, it seems to have fixed itself.  Would there be a caching issue?  Also, another question, how can we cache the configuration of the widgets so that it doesn&amp;#39;t make subsequent call to OrchardCMS database?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/7156563035859089036'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/7156563035859089036'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1331918621395#c7156563035859089036' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/5887601388871742155'/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1802273962'/><gd:extendedProperty name='blogger.displayTime' value='16 March 2012 17:23'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8329157455006328175</id><published>2012-03-20T15:00:06.489Z</published><updated>2012-03-20T15:58:16.173Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,
Do you know if we can add more properties...</title><content type='html'>Hi Tony,&lt;br /&gt;Do you know if we can add more properties to an existing content part. Also update the existing table? There is not update function for the schema builder.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8329157455006328175'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2086190862818823384/comments/default/8329157455006328175'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html?showComment=1332255606489#c8329157455006328175' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cmspart-6custom.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2086190862818823384' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2086190862818823384' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1802273962'/><gd:extendedProperty name='blogger.displayTime' value='20 March 2012 15:00'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3430253292727695924</id><published>2012-03-25T05:40:57.691+01:00</published><updated>2012-03-26T08:24:07.256+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>thanks!</title><content type='html'>thanks!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/771846073269113247/comments/default/3430253292727695924'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/771846073269113247/comments/default/3430253292727695924'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/10/get-executable-full-path.html?showComment=1332650457691#c3430253292727695924' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/10/get-executable-full-path.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-771846073269113247' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/771846073269113247' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-980306657'/><gd:extendedProperty name='blogger.displayTime' value='25 March 2012 05:40'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5549988354366798593</id><published>2012-04-11T11:13:01.459+01:00</published><updated>2012-04-19T08:36:05.345+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi, I have enabled the feature on Orchard 1.3.10 a...</title><content type='html'>Hi, I have enabled the feature on Orchard 1.3.10 and received this error:&lt;br /&gt;Server Error in &amp;#39;/&amp;#39; Application.&lt;br /&gt;&lt;br /&gt;None of the constructors found with policy &amp;#39;Orchard.Environment.AutofacUtil.DynamicProxy2.ConstructorFinderWrapper&amp;#39; on type &amp;#39;SampleSiteModule.Models.TwitterWidgetDriver&amp;#39; can be invoked with the available services and parameters:&lt;br /&gt;Constructor &amp;#39;Void .ctor(SampleSiteModule.Services.ITwitterService)&amp;#39; parameter resolution failed at parameter &amp;#39;SampleSiteModule.Services.ITwitterService twitter&amp;#39;.&lt;br /&gt;&lt;br /&gt;Please give me some advices,&lt;br /&gt;Thanks,</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/5549988354366798593'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/5549988354366798593'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1334139181459#c5549988354366798593' title=''/><author><name>Unknown</name><uri>http://www.blogger.com/profile/07176781797263134041</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1745239933'/><gd:extendedProperty name='blogger.displayTime' value='11 April 2012 11:13'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8570694587537563353</id><published>2012-04-19T07:45:33.740+01:00</published><updated>2012-04-19T08:36:05.343+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>This is really helpful. Thank you so much for the ...</title><content type='html'>This is really helpful. Thank you so much for the code. I really wanted to create a widget like this on my site to track recent tweets. Keep sharing!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/8570694587537563353'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/8570694587537563353'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1334817933740#c8570694587537563353' title=''/><author><name>Wilson Chipper</name><uri>http://www.magentodeveloper.co.uk/</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-666857408'/><gd:extendedProperty name='blogger.displayTime' value='19 April 2012 07:45'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7095331714643956911</id><published>2012-04-29T16:36:31.781+01:00</published><updated>2012-04-29T16:39:26.609+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>yes</title><content type='html'>yes</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/7837532563436591307/comments/default/7095331714643956911'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/7837532563436591307/comments/default/7095331714643956911'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2010/09/attach-and-detach-vhd-files-from.html?showComment=1335713791781#c7095331714643956911' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/7837532563436591307/comments/default/5363176885838067231'/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2010/09/attach-and-detach-vhd-files-from.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-7837532563436591307' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/7837532563436591307' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1864535312'/><gd:extendedProperty name='blogger.displayTime' value='29 April 2012 16:36'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7507179448165870442</id><published>2012-06-14T12:22:28.241+01:00</published><updated>2012-06-14T12:28:56.994+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Good post. Orchard is the next CMS king.</title><content type='html'>Good post. Orchard is the next CMS king.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/7507179448165870442'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/7507179448165870442'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1339672948241#c7507179448165870442' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1879127642'/><gd:extendedProperty name='blogger.displayTime' value='14 June 2012 12:22'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2276455862576419528</id><published>2012-06-14T12:35:20.783+01:00</published><updated>2012-06-14T12:40:36.565+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Tony - Did you use Orchard for this blog?</title><content type='html'>Tony - Did you use Orchard for this blog?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/2276455862576419528'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/2276455862576419528'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1339673720783#c2276455862576419528' title=''/><author><name>LaDIOM</name><uri>http://www.blogger.com/profile/06261402589297632470</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1916350885'/><gd:extendedProperty name='blogger.displayTime' value='14 June 2012 12:35'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-167520933978838858</id><published>2012-06-14T12:41:49.789+01:00</published><updated>2012-06-14T12:41:49.789+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>@LaDIOM - no, it&amp;#39;s just on blogger.com - Orcha...</title><content type='html'>@LaDIOM - no, it&amp;#39;s just on blogger.com - Orchard is more than capable of doing this though.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/167520933978838858'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/167520933978838858'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1339674109789#c167520933978838858' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='14 June 2012 12:41'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4170374911807832280</id><published>2012-06-28T15:46:46.639+01:00</published><updated>2012-09-10T08:35:48.870+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>what is the Admin Password parameter for.  Is that...</title><content type='html'>what is the Admin Password parameter for.  Is that the domain account password of the user doing the installation.?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2836206877058069260/comments/default/4170374911807832280'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2836206877058069260/comments/default/4170374911807832280'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/06/sql-server-changing-collation-order-for_04.html?showComment=1340894806639#c4170374911807832280' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2007/06/sql-server-changing-collation-order-for_04.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2836206877058069260' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2836206877058069260' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1130562242'/><gd:extendedProperty name='blogger.displayTime' value='28 June 2012 15:46'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2281998376614796608</id><published>2012-06-30T13:08:20.576+01:00</published><updated>2012-06-30T19:01:27.274+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Yes, unfortunately the developer story in the Dyna...</title><content type='html'>Yes, unfortunately the developer story in the Dynamics division is pretty sad. I only wish that this group would some how get under Scott Gu&amp;#39;s leadership and seriously make this a true developer platform. I can&amp;#39;t tell you how many times I&amp;#39;ve needed the source code to see what the heck was going on under the covers. Don&amp;#39;t even get me started with their Linq implementation. Seriously, how can you can call yourself a platform if you can&amp;#39;t do basic math queries or other complex queries with your query engine? This product has a lot of potential but I don&amp;#39;t think it will reach it from a developer standpoint under the Business Division at Microsoft.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/181858712702509633/comments/default/2281998376614796608'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/181858712702509633/comments/default/2281998376614796608'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/06/msft-frustrations.html?showComment=1341058100576#c2281998376614796608' title=''/><author><name>John</name><uri>http://www.blogger.com/profile/06776252165290586381</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2012/06/msft-frustrations.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-181858712702509633' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/181858712702509633' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1088785662'/><gd:extendedProperty name='blogger.displayTime' value='30 June 2012 13:08'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6701198393078471127</id><published>2012-07-12T07:32:08.789+01:00</published><updated>2012-07-12T08:59:29.986+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hello there I am so delighted I found your blog pa...</title><content type='html'>Hello there I am so delighted I found your blog page, I really found you by mistake, while I was researching for something else,&lt;br /&gt; Regardless I am here now and would just like to say many thanks for a remarkable post and a all round enjoyable blog  &lt;br /&gt;I don’t have time to go through it all at the moment but I have bookmarked it and also included your RSS feeds, so when I have time I will be back to &lt;br /&gt;read more, Please do keep up the excellent work.&lt;br /&gt;&lt;a href="http://www.xpertsfromindia.com/index.php/training" title="industrial training indore" rel="nofollow"&gt; industrial training indore&lt;/a&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/1168258580048372218/comments/default/6701198393078471127'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/1168258580048372218/comments/default/6701198393078471127'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/02/sdlc-productive-development-teams.html?showComment=1342074728789#c6701198393078471127' title=''/><author><name>industrial training indore</name><uri>http://www.xpertsfromindia.com/index.php/training</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/02/sdlc-productive-development-teams.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-1168258580048372218' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/1168258580048372218' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-328388665'/><gd:extendedProperty name='blogger.displayTime' value='12 July 2012 07:32'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1906328423061446936</id><published>2012-07-18T16:50:37.591+01:00</published><updated>2012-07-18T16:56:11.549+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

What happened to this series? I was look...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;What happened to this series? I was looking for a good example on sub-navigation, found your blog and codeplex page, but it seems to stop at that particular step unfortunately.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/1906328423061446936'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/1906328423061446936'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1342626637591#c1906328423061446936' title=''/><author><name>Jasper</name><uri>http://www.blogger.com/profile/00842379683067594806</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1973189859'/><gd:extendedProperty name='blogger.displayTime' value='18 July 2012 16:50'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6344969631615274646</id><published>2012-07-18T16:56:43.621+01:00</published><updated>2012-07-18T16:56:43.621+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Busy paying the bills unfortunately - I&amp;#39;m hopi...</title><content type='html'>Busy paying the bills unfortunately - I&amp;#39;m hoping to pick it up again soon though.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/6344969631615274646'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/6344969631615274646'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html?showComment=1342627003621#c6344969631615274646' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/6182461211126360249/comments/default/1906328423061446936'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/06/real-world-orchard-cmspart-7finding.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6182461211126360249' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6182461211126360249' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='18 July 2012 16:56'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3033981560254637091</id><published>2012-09-10T01:12:28.860+01:00</published><updated>2012-09-10T08:28:07.877+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I really can&amp;#39;t understand anyone opting to use...</title><content type='html'>I really can&amp;#39;t understand anyone opting to use Dynamics or even SharePoint for any serious web development. Microsoft didn&amp;#39;t get the message that the Rails developers shown to the world: Less IS MORE, MUCH MORE. If you make a &amp;quot;platform&amp;quot; as simple as possible, and make it open, embracing standards everywhere, it will be USED and USEFUL. &lt;br /&gt;&lt;br /&gt;Currently I really prefer to spend some money on a Telerik&amp;#39;s component suite (they&amp;#39;ve got it right and are switching almost everything from ASP.NET to ASP.NET MVC and a huge and powerful JavaScript library that will really help creating a rich web client interface... and that comes from a fan of DevExpress controls since the Delphi&amp;#39;s golden time!!!) and roll out everything on my own with ASP.NET MVC and perhaps some open source, minimal framework based on the &amp;quot;web stack of love...&amp;quot;&lt;br /&gt;&lt;br /&gt;Microsoft was never, ever good at creating application frameworks. And MSFT is far, far from a reliable &amp;quot;partner&amp;quot;.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/181858712702509633/comments/default/3033981560254637091'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/181858712702509633/comments/default/3033981560254637091'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/06/msft-frustrations.html?showComment=1347235948860#c3033981560254637091' title=''/><author><name>Loudenvier</name><uri>http://www.blogger.com/profile/03325575885219637103</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2012/06/msft-frustrations.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-181858712702509633' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/181858712702509633' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-211207237'/><gd:extendedProperty name='blogger.displayTime' value='10 September 2012 01:12'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4570734608857538047</id><published>2012-09-10T08:34:01.308+01:00</published><updated>2012-09-10T08:34:01.308+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks for the comments - and I&amp;#39;m firmly with ...</title><content type='html'>Thanks for the comments - and I&amp;#39;m firmly with you - I&amp;#39;d prefer to build the required functionality with MVC as a central application, but in this particular case, I do understand the usefulness of CRM.&lt;br /&gt;&lt;br /&gt;I mean, trying to recreate some of the features within represents many man months of development effort, which can just be used out of the box (workflow, queues, assignments, calendering, service schedule), but extending the platform is a royal pain in the backside.&lt;br /&gt;&lt;br /&gt;I&amp;#39;ve settled on an approach now that I think gives us a workable solution - basically I avoid extending CRM directly and instead build all of my custom UI within an MVC application on azure - CRM publishes it&amp;#39;s events to azure service bus and my app then processes as normal. Any custom UI is surfaced through this MVC application, with single sign on between the two platforms using federated identities.&lt;br /&gt;&lt;br /&gt;This means I&amp;#39;m rarely writing code within CRM, so have none of the restrictions and there&amp;#39;s a logical de-coupling between the two areas.&lt;br /&gt;&lt;br /&gt;They really should build up a better development story for CRM though, not as a platform per-say, but as a product with good extension hooks. Sharepoint does it much better, but not their cloud offering - Sharepoint Online - don&amp;#39;t get me started on that one!&lt;br /&gt;&lt;br /&gt; </content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/181858712702509633/comments/default/4570734608857538047'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/181858712702509633/comments/default/4570734608857538047'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/06/msft-frustrations.html?showComment=1347262441308#c4570734608857538047' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2012/06/msft-frustrations.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-181858712702509633' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/181858712702509633' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='10 September 2012 08:34'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6250268611693972036</id><published>2012-09-10T08:36:52.149+01:00</published><updated>2012-09-10T08:36:52.149+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>It&amp;#39;s been that long since I had to do this, I ...</title><content type='html'>It&amp;#39;s been that long since I had to do this, I don&amp;#39;t recall.....</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2836206877058069260/comments/default/6250268611693972036'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/2836206877058069260/comments/default/6250268611693972036'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2007/06/sql-server-changing-collation-order-for_04.html?showComment=1347262612149#c6250268611693972036' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2007/06/sql-server-changing-collation-order-for_04.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-2836206877058069260' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/2836206877058069260' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='10 September 2012 08:36'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6097147400662080256</id><published>2012-09-12T03:05:58.175+01:00</published><updated>2012-09-12T07:56:46.900+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Thanks it&amp;#39;s very helpful for newbie like me......</title><content type='html'>Thanks it&amp;#39;s very helpful for newbie like me....</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/6097147400662080256'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/6097147400662080256'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1347415558175#c6097147400662080256' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-154443744'/><gd:extendedProperty name='blogger.displayTime' value='12 September 2012 03:05'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2519589460571414817</id><published>2012-09-18T08:19:23.671+01:00</published><updated>2012-09-18T08:49:58.918+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

We have a requirement, need to create dy...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;We have a requirement, need to create dynamic websites for different languages. i.e we will create 4 templates for each pages. &lt;br /&gt;&lt;br /&gt;for ex. We have Image, Title, Description and documents in the page, based on the template selection those part position has to change.&lt;br /&gt;&lt;br /&gt;we did not get how to proceed this. Please help us on this scenario.&lt;br /&gt;&lt;br /&gt;Thanks in advance&lt;br /&gt;&lt;br /&gt;Senhil kumar</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/2519589460571414817'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/2519589460571414817'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1347952763671#c2519589460571414817' title=''/><author><name>Pzenthil</name><uri>http://www.blogger.com/profile/10743530432989606103</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1684783672'/><gd:extendedProperty name='blogger.displayTime' value='18 September 2012 08:19'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5132745906957046747</id><published>2012-09-18T09:26:20.000+01:00</published><updated>2012-09-18T09:26:20.000+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Senhil,

Have you taken a look at the documenta...</title><content type='html'>Hi Senhil,&lt;br /&gt;&lt;br /&gt;Have you taken a look at the documentation on globalising sites here : http://docs.orchardproject.net/Documentation/Creating-global-ready-applications ?&lt;br /&gt;&lt;br /&gt;There is a section at the bottom about having translated content and how best to handle it.&lt;br /&gt;&lt;br /&gt;Regards,&lt;br /&gt;Tony</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5132745906957046747'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5132745906957046747'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1347956780000#c5132745906957046747' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='18 September 2012 09:26'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5400537897724107436</id><published>2012-09-18T10:21:36.657+01:00</published><updated>2012-09-18T10:24:28.114+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

Thank for your quick reply.  

I think i...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;Thank for your quick reply.  &lt;br /&gt;&lt;br /&gt;I think i had confused you bit. I will explain my exact scenario:&lt;br /&gt;&lt;br /&gt;We have to provide facility to create dynamic micro-sites to the customer. Here, we just want to render data in the appropriate place in the view. &lt;br /&gt;We want use Orchard CMS to create only page template.  We will fetch data from our database and bind it in the appropriate content part. &lt;br /&gt;&lt;br /&gt;Only to create template customer will use orchard CMS website.&lt;br /&gt;&lt;br /&gt;Also, we have to change content parts(image, title, desc...) through Themes. Not getting how to apply themes for content part.&lt;br /&gt;&lt;br /&gt;Please help us.&lt;br /&gt;&lt;br /&gt;Thank you,&lt;br /&gt;Senthil&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5400537897724107436'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5400537897724107436'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1347960096657#c5400537897724107436' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5132745906957046747'/><author><name>Pzenthil</name><uri>http://www.blogger.com/profile/10743530432989606103</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1684783672'/><gd:extendedProperty name='blogger.displayTime' value='18 September 2012 10:21'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2563901978423060239</id><published>2012-09-20T09:53:54.663+01:00</published><updated>2012-09-20T11:52:35.550+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

Do you have any idea in this requirement...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;Do you have any idea in this requirement? Please update.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/2563901978423060239'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/2563901978423060239'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1348131234663#c2563901978423060239' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5132745906957046747'/><author><name>Pzenthil</name><uri>http://www.blogger.com/profile/10743530432989606103</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='33' height='21' src='http://1.bp.blogspot.com/--UnDJGxZUt4/UFhV_ck9LwI/AAAAAAAAAM4/7P4apys5IRE/s220/My%2Bphoto.JPG'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1684783672'/><gd:extendedProperty name='blogger.displayTime' value='20 September 2012 09:53'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-919912445121857324</id><published>2012-09-20T11:54:28.001+01:00</published><updated>2012-09-20T11:54:28.001+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I still don&amp;#39;t think I&amp;#39;m following you - ap...</title><content type='html'>I still don&amp;#39;t think I&amp;#39;m following you - applying themes for a content part?&lt;br /&gt;&lt;br /&gt;What I think you&amp;#39;re actually wanting is the ability to have a different theme in different areas of your orchard site? Each micro-site within orchard having it&amp;#39;s own theme?&lt;br /&gt;&lt;br /&gt;If that&amp;#39;s the case, I&amp;#39;m sure it&amp;#39;s possible, but I don&amp;#39;t have the answer on how off the top of my head. Have you tried the discussion boards on codeplex?&lt;br /&gt;&lt;br /&gt;Cheers</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/919912445121857324'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/919912445121857324'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1348138468001#c919912445121857324' title=''/><link rel='related' type='application/atom+xml' href='http://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5132745906957046747'/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='20 September 2012 11:54'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5783972565113459900</id><published>2012-09-20T12:08:05.847+01:00</published><updated>2012-09-20T12:25:32.037+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi Tony,

Yes, you are correct. Our requirement is...</title><content type='html'>Hi Tony,&lt;br /&gt;&lt;br /&gt;Yes, you are correct. Our requirement is not only applying themes to each micro-sites (This we can achieve through multi-tenant) we have to change layout of parts in the pages. &lt;br /&gt;&lt;br /&gt;If we are using different content types we can apply themes to change layouts/positions, but we will be having parts(image, title, descriptions..), need to change layouts for each microsites.&lt;br /&gt;&lt;br /&gt;I will post these questions in the codeplex also, If you have any idea please share with us.&lt;br /&gt;&lt;br /&gt;Thank you very much for your post and support.&lt;br /&gt;&lt;br /&gt;Thank you,&lt;br /&gt;Senthil</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5783972565113459900'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/5783972565113459900'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1348139285847#c5783972565113459900' title=''/><author><name>Pzenthil</name><uri>http://www.blogger.com/profile/10743530432989606103</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='33' height='21' src='http://1.bp.blogspot.com/--UnDJGxZUt4/UFhV_ck9LwI/AAAAAAAAAM4/7P4apys5IRE/s220/My%2Bphoto.JPG'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1684783672'/><gd:extendedProperty name='blogger.displayTime' value='20 September 2012 12:08'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5140848341865163078</id><published>2012-12-09T07:03:26.685Z</published><updated>2012-12-09T09:20:40.853Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Nice solution, you saved my days man :). I&amp;#39;ve ...</title><content type='html'>Nice solution, you saved my days man :). I&amp;#39;ve tried turning on Windows Firewall, change from Live Account to Local Account and the other way,... but didn&amp;#39;t work. &lt;br /&gt;Thanks, I&amp;#39;ll remember this tips</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/614708814232704033/comments/default/5140848341865163078'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/614708814232704033/comments/default/5140848341865163078'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/11/windows-8-store-your-purchase-couldnt.html?showComment=1355036606685#c5140848341865163078' title=''/><author><name>Vampire's Blog</name><uri>http://www.blogger.com/profile/00138689381844347373</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2012/11/windows-8-store-your-purchase-couldnt.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-614708814232704033' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/614708814232704033' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1360414358'/><gd:extendedProperty name='blogger.displayTime' value='9 December 2012 07:03'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3724797364205750883</id><published>2012-12-20T17:13:06.116Z</published><updated>2013-10-22T13:41:06.541+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>thnx dr..</title><content type='html'>thnx dr..</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/614708814232704033/comments/default/3724797364205750883'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/614708814232704033/comments/default/3724797364205750883'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/11/windows-8-store-your-purchase-couldnt.html?showComment=1356023586116#c3724797364205750883' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2012/11/windows-8-store-your-purchase-couldnt.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-614708814232704033' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/614708814232704033' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-901475014'/><gd:extendedProperty name='blogger.displayTime' value='20 December 2012 17:13'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8284157851152507225</id><published>2013-01-03T17:18:45.956Z</published><updated>2013-01-04T09:16:17.242Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Dear Tony, 

  I red your post but I find same pro...</title><content type='html'>Dear Tony, &lt;br /&gt;&lt;br /&gt;  I red your post but I find same problems when I try to use &amp;quot;CreateAlias&amp;quot;. I have 3 tables on my db: &amp;quot;R01&amp;quot;, &amp;quot;Parameter&amp;quot; and &amp;quot;TypeModel&amp;quot;. &lt;br /&gt;&lt;br /&gt;If i write the query in HQL form (SELECT r.IdParameter as IdParameter, r.IdModel as IdModel, p as Paramater, tm as TypeModel  FROM R01 r, TParameter p, TTypeModel tm WHERE r.IdParameter =  p.IdParameter and r.IdModel = tm.IdModel) I have no problems, but when I try to translate it with Criteria API I receive this error: could not resolve property: TParameter of: FairmatMarketData.Fairmat.MarketData.Maps.Table.R01. &lt;br /&gt;&lt;br /&gt;The query is: ICriterion parameter = Expression.EqProperty(&amp;quot;r.IdParameter&amp;quot;, &amp;quot;p.IdParameter&amp;quot;);&lt;br /&gt;            ICriterion model = Expression.EqProperty(&amp;quot;r.IdModel&amp;quot;, &amp;quot;tm.IdModel&amp;quot;);&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;            object obj = session.CreateCriteria(typeof(R01), &amp;quot;r&amp;quot;)&lt;br /&gt;                .CreateAlias(&amp;quot;TParameter&amp;quot;, &amp;quot;p&amp;quot;, NHibernate.SqlCommand.JoinType.InnerJoin, parameter)&lt;br /&gt;                .CreateAlias(&amp;quot;TTypeModel&amp;quot;, &amp;quot;tm&amp;quot;, NHibernate.SqlCommand.JoinType.InnerJoin, model) &lt;br /&gt;                .List();&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Why? &lt;br /&gt;&lt;br /&gt;thanks.... Mattia </content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5701992010189537833/comments/default/8284157851152507225'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/5701992010189537833/comments/default/8284157851152507225'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/07/query-nhibernate-simple-query-patterns.html?showComment=1357233525956#c8284157851152507225' title=''/><author><name>Mattia Zuliani</name><uri>http://www.blogger.com/profile/01228711088182078419</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/07/query-nhibernate-simple-query-patterns.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-5701992010189537833' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/5701992010189537833' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1935932257'/><gd:extendedProperty name='blogger.displayTime' value='3 January 2013 17:18'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-5298715172273796556</id><published>2013-01-11T17:51:49.381Z</published><updated>2013-10-22T13:41:01.679+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>the codeplex download isn&amp;#39;t working anymore, c...</title><content type='html'>the codeplex download isn&amp;#39;t working anymore, can someone repost the source?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/5298715172273796556'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3874855558729193344/comments/default/5298715172273796556'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html?showComment=1357926709381#c5298715172273796556' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2009/11/overcoming-cross-domain-issues-between.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3874855558729193344' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3874855558729193344' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-2050597038'/><gd:extendedProperty name='blogger.displayTime' value='11 January 2013 17:51'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-3244346246616402716</id><published>2013-01-19T05:13:55.004Z</published><updated>2013-10-22T13:40:58.605+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>My windows update service is enabled but issue is ...</title><content type='html'>My windows update service is enabled but issue is remain same...</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/614708814232704033/comments/default/3244346246616402716'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/614708814232704033/comments/default/3244346246616402716'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2012/11/windows-8-store-your-purchase-couldnt.html?showComment=1358572435004#c3244346246616402716' title=''/><author><name>Suresh</name><uri>http://www.blogger.com/profile/03057796960733336574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='33' height='26' src='http://3.bp.blogspot.com/_ECyLQBoVHuw/SmAw-PdosyI/AAAAAAAAAJo/eN5eiNIU0kk/S220/IMG0164A.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2012/11/windows-8-store-your-purchase-couldnt.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-614708814232704033' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/614708814232704033' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-534356213'/><gd:extendedProperty name='blogger.displayTime' value='19 January 2013 05:13'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4666160617237361690</id><published>2013-01-29T17:15:25.503Z</published><updated>2013-01-29T17:38:45.753Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I must be missing something really obvious -- Is t...</title><content type='html'>I must be missing something really obvious -- Is there any way I can add a link from one page to another page? Like click one button and pick an already created page and link to that.&lt;br /&gt;&lt;br /&gt;I&amp;#39;ve been Googling this now for more than an hour and I can&amp;#39;t find anything. I don&amp;#39;t want to use the normal link button in the default editor because it&amp;#39;s too error prone to have to look up the URL of a page I previously created.&lt;br /&gt;&lt;br /&gt;I feel crazy that there seems to be no easy way to insert a link to previous content.&lt;br /&gt;&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/4666160617237361690'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/4666160617237361690'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1359479725503#c4666160617237361690' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1880591927'/><gd:extendedProperty name='blogger.displayTime' value='29 January 2013 17:15'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8322327100896450503</id><published>2013-01-31T15:40:39.371Z</published><updated>2013-01-31T16:32:23.256Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>I did this walkthrough, however, my layout looks n...</title><content type='html'>I did this walkthrough, however, my layout looks nothing like the screen shot, and when I try to add a widget to the page, nothing shows up. Is there a way to do this and show the layout of the page when the widget section like the other themes do  (the ones you download from the site)</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/8322327100896450503'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/8322327100896450503'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1359646839371#c8322327100896450503' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1593731240'/><gd:extendedProperty name='blogger.displayTime' value='31 January 2013 15:40'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6237085291641607362</id><published>2013-02-21T18:51:25.495Z</published><updated>2013-10-22T13:40:52.632+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>In my case, I dont understand why the function Cre...</title><content type='html'>In my case, I dont understand why the function Create in Migration.cs is never called so the table cant be created in base !&lt;br /&gt;Is someone got the same problem ? I tried to put the UpdateFrom... function but no success at all :( perhaps i dont put the right number of version...&lt;br /&gt;&lt;br /&gt;Thanks if someone can help me !&lt;br /&gt;&lt;br /&gt;Nico&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/6237085291641607362'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/6237085291641607362'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1361472685495#c6237085291641607362' title=''/><author><name>admin</name><uri>http://www.blogger.com/profile/04618587877715785106</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-434764207'/><gd:extendedProperty name='blogger.displayTime' value='21 February 2013 18:51'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-4399503340382265960</id><published>2013-03-01T20:42:15.668Z</published><updated>2013-03-01T20:43:29.762Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Fantastic. I followed exactly your steps and at th...</title><content type='html'>Fantastic. I followed exactly your steps and at the end I managed to add a widget (JWPlayer widget) to display a YouTube video on one of the zones. Very helpful. Thank you so much!</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/4399503340382265960'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/4399503340382265960'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1362170535668#c4399503340382265960' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-966939047'/><gd:extendedProperty name='blogger.displayTime' value='1 March 2013 20:42'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-8826355631139565257</id><published>2013-03-20T16:09:33.401Z</published><updated>2013-10-22T13:40:38.372+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi. Frankly haven&amp;#39;t completed the entire artic...</title><content type='html'>&lt;br /&gt;Hi. Frankly haven&amp;#39;t completed the entire article yet. But whatever i read till time have cleared a lot of my questions regarding custom development in Orchard. I have some queries if you can reply it will be a great help to me.&lt;br /&gt;&lt;br /&gt;1. Does you have any Orchard database schema information document which give me information like how a page is mapped into which tables and fields in database.&lt;br /&gt;&lt;br /&gt;2. Sometime it is quite hard to create all the pages from UI/ admin page and you look some kind of shortcut way to create pages right from database or some other way may be using some kind of script. Does any such method available for Orchard too.&lt;br /&gt;&lt;br /&gt;Thanks again for such nice article and help.&lt;br /&gt;</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/8826355631139565257'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/6081528534448845065/comments/default/8826355631139565257'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html?showComment=1363795773401#c8826355631139565257' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-introduction.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-6081528534448845065' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/6081528534448845065' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-835056435'/><gd:extendedProperty name='blogger.displayTime' value='20 March 2013 16:09'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-1414848294684737326</id><published>2013-04-30T19:03:18.296+01:00</published><updated>2013-10-22T13:40:15.018+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Olá Tony Johnson,  
Tenho um sitem orchard, gostar...</title><content type='html'>Olá Tony Johnson,  &lt;br /&gt;Tenho um sitem orchard, gostaria de te um tema personalizado, vocÊ pode me ajudar. tenho o modelo do site que quero.&lt;br /&gt;Aguardo seu contato. grato sandro</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/1414848294684737326'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3742028979505992406/comments/default/1414848294684737326'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html?showComment=1367344998296#c1414848294684737326' title=''/><author><name>Ladeira a Abaixo</name><uri>http://www.blogger.com/profile/07650183308655928114</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-2-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3742028979505992406' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3742028979505992406' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-104427152'/><gd:extendedProperty name='blogger.displayTime' value='30 April 2013 19:03'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2343690764593145125</id><published>2013-05-03T21:16:12.526+01:00</published><updated>2013-10-22T13:40:07.564+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hello I would like a theme for my site in Orchard....</title><content type='html'>Hello I would like a theme for my site in Orchard.&lt;br /&gt;I have a site template and css. I downloaded from the internet.&lt;br /&gt;My site has an integrated blog, and contact form.&lt;br /&gt;Can you help me? What is the cost of your service.&lt;br /&gt;&lt;br /&gt;I live in Brazil, and here I have not found anyone that works with that platform.&lt;br /&gt;&lt;br /&gt;grateful</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/2343690764593145125'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/2343690764593145125'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1367612172526#c2343690764593145125' title=''/><author><name>Ladeira a Abaixo</name><uri>http://www.blogger.com/profile/07650183308655928114</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-104427152'/><gd:extendedProperty name='blogger.displayTime' value='3 May 2013 21:16'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-7561316466257138355</id><published>2013-06-05T07:53:07.772+01:00</published><updated>2013-06-05T09:11:51.565+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Very good article. I take several days to learn to...</title><content type='html'>Very good article. I take several days to learn to many places some points about Orchard. And your sample clarify many points. Effectively when you don&amp;#39;t work on Orchard during the entire but sometime for Research&amp;amp;Development you need to have documentation with clear view. So really thank you.</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/7561316466257138355'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/7561316466257138355'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1370415187772#c7561316466257138355' title=''/><author><name>Alexandre BARAULT</name><uri>http://www.blogger.com/profile/01746627901191972061</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img2.blogblog.com/img/b16-rounded.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1008761456'/><gd:extendedProperty name='blogger.displayTime' value='5 June 2013 07:53'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6095350892088420880</id><published>2013-08-01T12:28:54.601+01:00</published><updated>2013-08-01T13:30:49.022+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>how about adding custom class in the body tag?</title><content type='html'>how about adding custom class in the body tag?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/6095350892088420880'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/6095350892088420880'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1375356534601#c6095350892088420880' title=''/><author><name>JD</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1127453106'/><gd:extendedProperty name='blogger.displayTime' value='1 August 2013 12:28'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6532753491507143610</id><published>2013-08-01T13:34:41.689+01:00</published><updated>2013-08-01T13:34:41.689+01:00</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>You&amp;#39;ll need to add Document.cshtml to your the...</title><content type='html'>You&amp;#39;ll need to add Document.cshtml to your theme (copy from Themes/SafeMode/Views) as it controls the base layout (if there&amp;#39;s a Document.cshtml in your theme, it will use that instead of the global one).&lt;br /&gt;&lt;br /&gt;However - why do you need a custom class on the body tag though?? Just style BODY directly....</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/6532753491507143610'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/6532753491507143610'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1375360481689#c6532753491507143610' title=''/><author><name>Tony Johnson</name><uri>http://www.blogger.com/profile/03316742153480866574</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='http://3.bp.blogspot.com/_ywGSbBn2y0E/Sfi33OYMqGI/AAAAAAAAAAM/j1LYA7LNqic/S220/me3.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1888455358'/><gd:extendedProperty name='blogger.displayTime' value='1 August 2013 13:34'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-2086960710285668625</id><published>2013-12-02T15:41:37.054Z</published><updated>2013-12-02T16:50:57.802Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>For some reason the &amp;#39;adding more distinction t...</title><content type='html'>For some reason the &amp;#39;adding more distinction to the titles of widgets&amp;#39; part gets rid of my nav menu - basically about and blog titles on it just turn back and moved to the left, and home is moved down.&lt;br /&gt;&lt;br /&gt;Any ideas why? done it about 4 times now and the same every time.  Nothing is wrong.  But I do get a red underline in the code for the widgets and widgets.part aren&amp;#39;t referenced in the following code:&lt;br /&gt;&lt;br /&gt;@using Orchard.Widgets.Models;&lt;br /&gt;@{&lt;br /&gt;    var title = ((IContent)Model.ContentItem).As().Title;&lt;br /&gt;&lt;br /&gt;!!!!!!&lt;br /&gt;&lt;br /&gt;anyone else had this problem?</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/2086960710285668625'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/3096785461835423274/comments/default/2086960710285668625'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html?showComment=1385998897054#c2086960710285668625' title=''/><author><name>Anonymous</name><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='http://img1.blogblog.com/img/blank.gif'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-4-cleaning.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-3096785461835423274' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/3096785461835423274' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-1426933806'/><gd:extendedProperty name='blogger.displayTime' value='2 December 2013 15:41'/></entry><entry><id>tag:blogger.com,1999:blog-6516757072223886889.post-6159121331186076920</id><published>2013-12-03T06:49:20.415Z</published><updated>2013-12-03T08:42:36.529Z</updated><category scheme='http://schemas.google.com/g/2005#kind' term='http://schemas.google.com/blogger/2008/kind#comment'/><title type='text'>Hi, I have just enabled the feature TwitterWidget ...</title><content type='html'>Hi, I have just enabled the feature TwitterWidget on Orchard 1.7.10 and received this error:&lt;br /&gt;Server Error in &amp;#39;/&amp;#39; Application.&lt;br /&gt;&lt;br /&gt;None of the constructors found with &amp;#39;Orchard.Environment.AutofacUtil.DynamicProxy2.ConstructorFinderWrapper&amp;#39; on type &amp;#39;SampleSiteModule.Models.TwitterWidgetDriver&amp;#39; can be invoked with the available services and parameters:&lt;br /&gt;Cannot resolve parameter &amp;#39;SampleSiteModule.Services.ITwitterService twitter&amp;#39; of constructor &amp;#39;Void .ctor(SampleSiteModule.Services.ITwitterService)&amp;#39;.&lt;br /&gt;&lt;br /&gt;Please give me some advices,&lt;br /&gt;Thanks,</content><link rel='edit' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/6159121331186076920'/><link rel='self' type='application/atom+xml' href='https://www.blogger.com/feeds/6516757072223886889/8243738650382781805/comments/default/6159121331186076920'/><link rel='alternate' type='text/html' href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html?showComment=1386053360415#c6159121331186076920' title=''/><author><name>Hùng Đặng Việt</name><uri>http://www.blogger.com/profile/08243014184586297942</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='32' height='32' src='//lh3.googleusercontent.com/-rUOsTVDP7Ro/AAAAAAAAAAI/AAAAAAAAAPc/Vp4eVgoZBYI/s512-c/photo.jpg'/></author><thr:in-reply-to href='http://www.deepcode.co.uk/2011/05/real-world-orchard-cms-part-3-creating.html' ref='tag:blogger.com,1999:blog-6516757072223886889.post-8243738650382781805' source='http://www.blogger.com/feeds/6516757072223886889/posts/default/8243738650382781805' type='text/html'/><gd:extendedProperty name='blogger.itemClass' value='pid-532501111'/><gd:extendedProperty name='blogger.displayTime' value='3 December 2013 06:49'/></entry></feed>